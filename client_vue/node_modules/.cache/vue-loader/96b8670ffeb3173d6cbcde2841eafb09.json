{"remainingRequest":"/app/node_modules/vue-loader-v16/dist/index.js??ref--1-2!/app/src/components/Comments/Pagination.vue?vue&type=template&id=5dfb0b96","dependencies":[{"path":"/app/src/components/Comments/Pagination.vue","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388},{"path":"/app/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1640299655523},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js","mtime":1640775278388},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1640299655523}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0icS1wYS1sZyBmbGV4IGZsZXgtY2VudGVyIHEtbXQtbGcgYmctd2hpdGUiPgogICAgPGRpdgogICAgICA6Y2xhc3M9ImkgIT09IHBhZ2VzTnVtc0FycmF5W3BhZ2VzTnVtc0FycmF5Lmxlbmd0aCAtIDFdID8gJ3EtbXItc20nIDogJyciCiAgICAgIHYtZm9yPSJpIGluIHBhZ2VzTnVtc0FycmF5IgogICAgICA6a2V5PSJpIgogICAgPgogICAgICA8cm91dGVyLWxpbmsKICAgICAgICA6dG89InsgcGF0aDogbGluaywgcXVlcnk6IHsgLi4ucXVlcnksIHBhZ2U6IGkgfSB9IgogICAgICAgIHYtaWY9ImkgIT09IHBhZ2UiCiAgICAgID4KICAgICAgICA8cS1idG4gZmxhdCA6bGFiZWw9ImkiIGNvbG9yPSIiIC8+CiAgICAgIDwvcm91dGVyLWxpbms+CiAgICAgIDxxLWJ0biB2LWVsc2UgOmxhYmVsPSJpIiBjb2xvcj0icHJpbWFyeSIgLz4KICAgIDwvZGl2PgogIDwvZGl2Pgo="},{"version":3,"sources":["/app/src/components/Comments/Pagination.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpD,CAAC,CAAC,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MACxE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACT;MACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MAClB;QACE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC5C,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/app/src/components/Comments/Pagination.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"q-pa-lg flex flex-center q-mt-lg bg-white\">\n    <div\n      :class=\"i !== pagesNumsArray[pagesNumsArray.length - 1] ? 'q-mr-sm' : ''\"\n      v-for=\"i in pagesNumsArray\"\n      :key=\"i\"\n    >\n      <router-link\n        :to=\"{ path: link, query: { ...query, page: i } }\"\n        v-if=\"i !== page\"\n      >\n        <q-btn flat :label=\"i\" color=\"\" />\n      </router-link>\n      <q-btn v-else :label=\"i\" color=\"primary\" />\n    </div>\n  </div>\n</template>\n\n<script>\n// https://stackoverflow.com/a/33457557\n// https://stackoverflow.com/a/44176557\n// new Array(stop-start+1).fill(start).map((n,i)=>n+i)\n// new Array(6-4+1).fill(4).map((n,i)=>n+i)   => [4, 5, 6]\n\nexport default {\n  props: {\n    limit: {\n      type: Number,\n      default: () => 5,\n    },\n    page: {\n      type: Number,\n      default: () => 1,\n    },\n    totalPages: {\n      type: Number,\n      default: () => 1,\n    },\n    link: {\n      type: String,\n      default: () => \"\",\n    },\n    query: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  computed: {\n    pagesNumsArray() {\n      const totalPages = this.totalPages;\n      const currentPage = this.page;\n      const limit = this.limit;\n      //   const totalPages = 8;\n      //   const currentPage = 4;\n      //   const limit = 7;\n      // 10-4-5-10\n      const isEven = limit % 2 === 0;\n      const leftSide = isEven ? limit / 2 - 1 : Math.floor(limit / 2);\n      const rightSide = isEven ? limit / 2 : Math.floor(limit / 2);\n\n      let pagesLinksArray = [];\n      if (currentPage > totalPages) return pagesLinksArray;\n      if (totalPages > limit) {\n        let left = Math.min(currentPage - 1, limit);\n        let right = Math.min(totalPages - currentPage, limit);\n        if (left >= leftSide && right >= rightSide) {\n          left = leftSide;\n          right = rightSide;\n        } else {\n          if (left < right) {\n            right = Math.min(limit - left - 1, right);\n          }\n          if (right < left) {\n            left = Math.min(limit - right - 1, left);\n          }\n          if (left === right) {\n            if (left <= leftSide) {\n              // Look here if things glitch later.\n              // console.log(\"hit\");\n            } else {\n              // Keep right and change left\n              left = Math.min(limit - right - 1, left);\n            }\n          }\n        }\n\n        const leftNum = currentPage - left;\n        const rightNum = currentPage + right;\n        for (let i = leftNum; i <= rightNum; i++) {\n          pagesLinksArray.push(i);\n        }\n      } else {\n        for (let i = 1; i <= totalPages; i++) {\n          pagesLinksArray.push(i);\n        }\n      }\n\n      return pagesLinksArray;\n    },\n  },\n};\n</script>\n"]}]}