{"remainingRequest":"/app/node_modules/vue-loader-v16/dist/index.js??ref--1-2!/app/src/components/Dashboard/AdminDashboardComponent.vue?vue&type=script&lang=js","dependencies":[{"path":"/app/src/components/Dashboard/AdminDashboardComponent.vue","mtime":1641293987871},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1640299636617},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js","mtime":1640775278388},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1640299655523}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBDb250YWluZXIgZnJvbSAiQC9jb21wb25lbnRzL0NvbnRhaW5lci52dWUiOwppbXBvcnQgVXNlcnNBUEkgZnJvbSAiQC9hcGkvdXNlcnMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZG1pbkRhc2hib2FyZENvbXAiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb3VudGVkOiBmYWxzZSwKICAgICAgdXNlcnNOdW06IDAsCiAgICAgIHNpdGVzTnVtOiAwLAogICAgICBjb21tZW50c051bTogMCwKICAgICAgbmVnYXRpdmVDb21tZW50czogMCwKICAgICAgcG9zaXRpdmVDb21tZW50czogMCwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbmVnYXRpdmVDb21tZW50c0xhYmVsKCkgewogICAgICByZXR1cm4gKyh0aGlzLm5lZ2F0aXZlQ29tbWVudHMgKiAxMDApLnRvRml4ZWQoMikgKyAiJSI7CiAgICB9LAogICAgcG9zaXRpdmVDb21tZW50c0xhYmVsKCkgewogICAgICByZXR1cm4gKyh0aGlzLnBvc2l0aXZlQ29tbWVudHMgKiAxMDApLnRvRml4ZWQoMikgKyAiJSI7CiAgICB9LAogIH0sCiAgY29tcG9uZW50czogewogICAgQ29udGFpbmVyLAogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXRIZWlnaHQob2Zmc2V0KSB7CiAgICAgIHJldHVybiB7IG1pbkhlaWdodDogYGNhbGMoMTAwdmggLSAkeyhvZmZzZXQgfHwgMCkgKyA3MH1weClgIH07CiAgICB9LAogIH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIHRyeSB7CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IFVzZXJzQVBJLmFkbWluKCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIHRoaXMudXNlcnNOdW0gPSByZXMudXNlcnNOdW07CiAgICAgIHRoaXMuc2l0ZXNOdW0gPSByZXMuc2l0ZXNOdW0udG90YWw7CiAgICAgIHRoaXMuY29tbWVudHNOdW0gPSByZXMuY29tbWVudHNOdW1zLnRvdGFsOwogICAgICBpZiAodGhpcy5jb21tZW50c051bSkgewogICAgICAgIHRoaXMubmVnYXRpdmVDb21tZW50cyA9CiAgICAgICAgICByZXMuY29tbWVudHNOdW1zLm5lZ2F0aXZlQ29tbWVudHMgLyB0aGlzLmNvbW1lbnRzTnVtOwogICAgICAgIHRoaXMucG9zaXRpdmVDb21tZW50cyA9CiAgICAgICAgICByZXMuY29tbWVudHNOdW1zLnBvc2l0aXZlQ29tbWVudHMgLyB0aGlzLmNvbW1lbnRzTnVtOwogICAgICB9CiAgICAgIHRoaXMubW91bnRlZCA9IHRydWU7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICB3aW5kb3cuZXJyID0gZXJyb3I7CiAgICAgIHRoaXMubW91bnRlZCA9IHRydWU7CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["/app/src/components/Dashboard/AdminDashboardComponent.vue"],"names":[],"mappings":"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","file":"/app/src/components/Dashboard/AdminDashboardComponent.vue","sourceRoot":"","sourcesContent":["<template>\n  <q-page padding :style-fn=\"resetHeight\" class=\"bg-secondary\">\n    <Container>\n      <div class=\"yl-content\">\n        <div class=\"text-center q-pa-lg text-bold text-h5\">Admin Dashboard</div>\n        <div class=\"row justify-center\" v-if=\"!mounted\">\n          <q-spinner-audio color=\"white\" size=\"4em\" />\n        </div>\n        <div class=\"q-px-lg q-pb-lg row q-col-gutter-md\" v-if=\"mounted\">\n          <div class=\"col-12 col-sm-6 col-md-4 col-lg-4\">\n            <q-card class=\"yl-h-100\">\n              <q-card-section>\n                <div class=\"text-bold\">Total Users</div>\n                <div class=\"q-mt-sm\">\n                  YOWL has {{ usersNum }} user<span v-if=\"usersNum > 1\">s</span>\n                  registered.\n                </div>\n                <router-link to=\"/dashboard/admin/users\">\n                  <q-btn\n                    color=\"primary\"\n                    icon-right=\"send\"\n                    label=\"Manage users\"\n                    class=\"q-mt-sm\"\n                  />\n                </router-link>\n              </q-card-section>\n            </q-card>\n          </div>\n          <div class=\"col-12 col-sm-6 col-md-4 col-lg-4\">\n            <q-card class=\"yl-h-100\">\n              <q-card-section>\n                <div class=\"text-bold\">Total sites rated</div>\n                <div class=\"q-mt-sm\">\n                  YOWL has {{ sitesNum }} site<span v-if=\"sitesNum > 1\">s</span>\n                  rated.\n                </div>\n              </q-card-section>\n              <q-separator inset />\n              <q-card-section>\n                <div class=\"text-bold\">Total comments</div>\n                <div class=\"q-mt-sm\">\n                  YOWL has {{ commentsNum }} comment<span v-if=\"commentsNum > 1\"\n                    >s</span\n                  >\n                  saved.\n                </div>\n              </q-card-section>\n            </q-card>\n          </div>\n          <div class=\"col-12 col-sm-6 col-md-4 col-lg-4\">\n            <q-card class=\"yl-h-100\">\n              <q-card-section>\n                <div class=\"text-bold\">Comments distribution</div>\n                <div class=\"q-mt-sm\">\n                  <div class=\"text-secondary text-bold\">Positive comments</div>\n                  <q-linear-progress\n                    size=\"25px\"\n                    :value=\"positiveComments\"\n                    color=\"secondary\"\n                    rounded\n                  >\n                    <div class=\"absolute-full flex flex-center\">\n                      <q-badge\n                        color=\"white\"\n                        text-color=\"secondary\"\n                        :label=\"positiveCommentsLabel\"\n                      />\n                    </div>\n                  </q-linear-progress>\n                </div>\n                <div class=\"q-mt-sm\">\n                  <div class=\"text-negative text-bold\">Negative comments</div>\n                  <q-linear-progress\n                    size=\"25px\"\n                    :value=\"negativeComments\"\n                    color=\"negative\"\n                    rounded\n                  >\n                    <div class=\"absolute-full flex flex-center\">\n                      <q-badge\n                        color=\"white\"\n                        text-color=\"negative\"\n                        :label=\"negativeCommentsLabel\"\n                      />\n                    </div>\n                  </q-linear-progress>\n                </div>\n              </q-card-section>\n            </q-card>\n          </div>\n        </div>\n      </div>\n    </Container>\n  </q-page>\n</template>\n\n<style lang=\"scss\" scoped>\n.yl-h-100 {\n  height: 100%;\n}\n</style>\n\n<script>\nimport Container from \"@/components/Container.vue\";\nimport UsersAPI from \"@/api/users\";\n\nexport default {\n  name: \"AdminDashboardComp\",\n  data() {\n    return {\n      mounted: false,\n      usersNum: 0,\n      sitesNum: 0,\n      commentsNum: 0,\n      negativeComments: 0,\n      positiveComments: 0,\n    };\n  },\n  computed: {\n    negativeCommentsLabel() {\n      return +(this.negativeComments * 100).toFixed(2) + \"%\";\n    },\n    positiveCommentsLabel() {\n      return +(this.positiveComments * 100).toFixed(2) + \"%\";\n    },\n  },\n  components: {\n    Container,\n  },\n  methods: {\n    resetHeight(offset) {\n      return { minHeight: `calc(100vh - ${(offset || 0) + 70}px)` };\n    },\n  },\n  async mounted() {\n    try {\n      const res = await UsersAPI.admin();\n      // console.log(res);\n      this.usersNum = res.usersNum;\n      this.sitesNum = res.sitesNum.total;\n      this.commentsNum = res.commentsNums.total;\n      if (this.commentsNum) {\n        this.negativeComments =\n          res.commentsNums.negativeComments / this.commentsNum;\n        this.positiveComments =\n          res.commentsNums.positiveComments / this.commentsNum;\n      }\n      this.mounted = true;\n    } catch (error) {\n      window.err = error;\n      this.mounted = true;\n    }\n  },\n};\n</script>\n"]}]}