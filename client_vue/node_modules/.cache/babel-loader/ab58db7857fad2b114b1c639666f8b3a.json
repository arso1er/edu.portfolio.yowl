{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-0!/app/node_modules/cache-loader/dist/cjs.js??ref--1-1!/app/node_modules/vue-loader-v16/dist/index.js??ref--1-2!/app/src/components/Dashboard/EditUser.vue?vue&type=script&lang=js","dependencies":[{"path":"/app/src/components/Dashboard/EditUser.vue","mtime":1641322336466},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js","mtime":1640775278388},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1640299655523},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js","mtime":1640775278388},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1640299655523}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgVXNlcnNBUEkgZnJvbSAiQC9hcGkvdXNlcnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkVkaXRVc2VyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGljdHVyZTogbnVsbCwKICAgICAgZW1haWw6IHRoaXMudXNlci5lbWFpbCwKICAgICAgbG9naW46IHRoaXMudXNlci5sb2dpbiwKICAgICAgbmFtZTogdGhpcy51c2VyLm5hbWUsCiAgICAgIHJvbGU6IHRoaXMudXNlci5yb2xlLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIHBhc3N3b3JkQ29uZmlybWF0aW9uOiAiIiwKICAgICAgc3VibWl0dGluZzogZmFsc2UsCiAgICAgIHJvbGVPcHRpb25zOiBbewogICAgICAgIGxhYmVsOiAiVXNlciIsCiAgICAgICAgdmFsdWU6ICJ1c2VyIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICJBZG1pbiIsCiAgICAgICAgdmFsdWU6ICJhZG1pbiIKICAgICAgfV0KICAgIH07CiAgfSwKICBwcm9wczogewogICAgdXNlcjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge30KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNsb3NlIik7CiAgICB9LAogICAgdXBkYXRlVXNlcjogZnVuY3Rpb24gdXBkYXRlVXNlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRhdGEsIHJlcywgdXNlciwgbWVzc2FnZSwgb2JqOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLm5hbWVSZWYudmFsaWRhdGUoKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcmVmcy5sb2dpblJlZi52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLnBhc3N3b3JkQ29uZmlybWF0aW9uUmVmLnZhbGlkYXRlKCk7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuJHJlZnMubmFtZVJlZi5oYXNFcnJvciB8fCBfdGhpcy4kcmVmcy5sb2dpblJlZi5oYXNFcnJvciB8fCBfdGhpcy4kcmVmcy5wYXNzd29yZENvbmZpcm1hdGlvblJlZi5oYXNFcnJvcikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXMuc3VibWl0dGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBkYXRhLmFwcGVuZCgiX21ldGhvZCIsICJQVVQiKTsKICAgICAgICAgICAgICAgIGRhdGEuYXBwZW5kKCJuYW1lIiwgX3RoaXMubmFtZSk7CiAgICAgICAgICAgICAgICBkYXRhLmFwcGVuZCgibG9naW4iLCBfdGhpcy5sb2dpbik7CiAgICAgICAgICAgICAgICBkYXRhLmFwcGVuZCgicm9sZSIsIF90aGlzLnJvbGUudmFsdWUpOwogICAgICAgICAgICAgICAgaWYgKF90aGlzLnBhc3N3b3JkKSBkYXRhLmFwcGVuZCgicGFzc3dvcmQiLCBfdGhpcy5wYXNzd29yZCk7CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucGFzc3dvcmQpIGRhdGEuYXBwZW5kKCJwYXNzd29yZF9jb25maXJtYXRpb24iLCBfdGhpcy5wYXNzd29yZENvbmZpcm1hdGlvbik7CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucGljdHVyZSkgZGF0YS5hcHBlbmQoInBpY3R1cmUiLCBfdGhpcy5waWN0dXJlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBVc2Vyc0FQSS51cGRhdGUoX3RoaXMudXNlci5pZCwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdXNlciA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMudXNlciksIHJlcy51c2VyKTsKICAgICAgICAgICAgICAgIF90aGlzLnBpY3R1cmUgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXMucGFzc3dvcmQgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzLnBhc3N3b3JkQ29uZmlybWF0aW9uID0gIiI7CiAgICAgICAgICAgICAgICBfdGhpcy5zdWJtaXR0aW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoInVwZGF0ZWRVc2VyIiwgdXNlcik7CgogICAgICAgICAgICAgICAgX3RoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHRydWUsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJVc2VyIHN1Y2Nlc3NmdWx5IHVwZGF0ZWQuIiwKICAgICAgICAgICAgICAgICAgLy8gY29sb3I6ICdwcmltYXJ5JywKICAgICAgICAgICAgICAgICAgdHlwZTogInBvc2l0aXZlIiwKICAgICAgICAgICAgICAgICAgYWN0aW9uczogW3sKICAgICAgICAgICAgICAgICAgICBsYWJlbDogIkRpc21pc3MiLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAid2hpdGUiLAogICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7Ly8KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMTQpOwogICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJUaGUgcmVxdWVzdCBmYWlsZWQuIjsKICAgICAgICAgICAgICAgIHdpbmRvdy5lcnIgPSBfY29udGV4dC50MDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICAgIF90aGlzLnN1Ym1pdHRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAoX2NvbnRleHQudDAucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBtZXNzYWdlOwoKICAgICAgICAgICAgICAgICAgaWYgKF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEuZXJyb3JzKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqID0gX2NvbnRleHQudDAucmVzcG9uc2UuZGF0YS5lcnJvcnM7IC8vIGNvbnNvbGUubG9nKG9iaik7CiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIChjb25zdCBrZXkgaW4gdGhpcy5lcnJvcnMpIHsKICAgICAgICAgICAgICAgICAgICAvLyAgIGlmIChvYmpba2V5XSkgewogICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmVycm9yc1trZXldID0gewogICAgICAgICAgICAgICAgICAgIC8vICAgICAgIGlzVmFsaWQ6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIC8vICAgICAgIG1lc3NhZ2U6IG9ialtrZXldWzBdLAogICAgICAgICAgICAgICAgICAgIC8vICAgICB9OwogICAgICAgICAgICAgICAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5lcnJvcnNba2V5XS5pc1ZhbGlkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAvLyAgIH0KICAgICAgICAgICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgICAgICAgIGlmIChvYmoucGljdHVyZSkgbWVzc2FnZSArPSAiPGJyLz4gIi5jb25jYXQob2JqLnBpY3R1cmVbMF0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHRydWUsCiAgICAgICAgICAgICAgICAgIGh0bWw6IHRydWUsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgIC8vIGNvbG9yOiAncHJpbWFyeScsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJuZWdhdGl2ZSIsCiAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLAogICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbewogICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiRGlzbWlzcyIsCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICJ3aGl0ZSIsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsvLwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxNCwgMjddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbW92ZVVzZXI6IGZ1bmN0aW9uIHJlbW92ZVVzZXIoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgbWVzc2FnZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLnN1Ym1pdHRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIFVzZXJzQVBJLmRlbGV0ZShpZCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzMi5zdWJtaXR0aW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCJyZW1vdmVkVXNlciIsIF90aGlzMi51c2VyKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHEubm90aWZ5KHsKICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHRydWUsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJUaGUgdXNlciBoYXMgYmVlbiBkZWxldGVkISIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJwb3NpdGl2ZSIsCiAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFt7CiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJEaXNtaXNzIiwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIndoaXRlIiwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgey8vCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBtZXNzYWdlID0gIlRoZSByZXF1ZXN0IGZhaWxlZC4iOwogICAgICAgICAgICAgICAgd2luZG93LmVyciA9IF9jb250ZXh0Mi50MDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CiAgICAgICAgICAgICAgICBfdGhpczIuc3VibWl0dGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGlmIChfY29udGV4dDIudDAucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9jb250ZXh0Mi50MC5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgbWVzc2FnZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIuJHEubm90aWZ5KHsKICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHRydWUsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgIGh0bWw6IHRydWUsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJuZWdhdGl2ZSIsCiAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLAogICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbewogICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiRGlzbWlzcyIsCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICJ3aGl0ZSIsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsvLwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHRoaXMucm9sZSA9IHRoaXMucm9sZU9wdGlvbnMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgcmV0dXJuIGVsLnZhbHVlID09PSBfdGhpczMudXNlci5yb2xlOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["/app/src/components/Dashboard/EditUser.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <q-card>\n    <q-card-section class=\"row items-center justify-between\">\n      <div class=\"text-h6\">{{ user.name }} profile</div>\n      <q-btn round color=\"secondary\" icon=\"close\" @click=\"closeModal\" />\n    </q-card-section>\n\n    <q-separator />\n\n    <q-card-section>\n      <form @submit.prevent=\"updateUser\">\n        <q-file\n          outlined\n          v-model=\"picture\"\n          label=\"Change profile picture\"\n          accept=\"image/*\"\n          max-file-size=\"524288\"\n          clearable\n        />\n\n        <div class=\"q-mt-md\">\n          <div>Email</div>\n          <q-input standout v-model=\"email\" disable />\n        </div>\n\n        <div class=\"q-mt-md\">\n          <label for=\"login\">Login/Username</label>\n          <q-input\n            for=\"login\"\n            outlined\n            v-model=\"login\"\n            :rules=\"[(val) => !!val || 'Login is required']\"\n            ref=\"loginRef\"\n          />\n        </div>\n\n        <div>\n          <label for=\"name\">Name</label>\n          <q-input\n            for=\"name\"\n            outlined\n            v-model=\"name\"\n            :rules=\"[(val) => !!val || 'Name is required']\"\n            ref=\"nameRef\"\n          />\n        </div>\n\n        <div>\n          <label for=\"role\">Role</label>\n          <!-- <q-input for=\"role\" outlined v-model=\"role\" /> -->\n          <q-select outlined v-model=\"role\" :options=\"roleOptions\" />\n        </div>\n\n        <div class=\"q-mt-md\">\n          <label for=\"password\">New password</label>\n          <q-input type=\"password\" for=\"password\" outlined v-model=\"password\" />\n        </div>\n\n        <div class=\"q-mt-md\">\n          <label for=\"password_confirmation\"> New password confirmation </label>\n          <q-input\n            type=\"password\"\n            ref=\"passwordConfirmationRef\"\n            :rules=\"[\n              (val) => {\n                let valid = true;\n                if (password !== passwordConfirmation) {\n                  valid = 'The password and password confirmation must match';\n                }\n                return valid;\n              },\n            ]\"\n            for=\"password_confirmation\"\n            outlined\n            v-model=\"passwordConfirmation\"\n          />\n        </div>\n\n        <div class=\"q-mt-md\">\n          <q-btn\n            color=\"primary\"\n            label=\"Update profile\"\n            :disable=\"submitting\"\n            :loading=\"submitting\"\n            @click=\"updateUser\"\n          />\n        </div>\n      </form>\n    </q-card-section>\n\n    <q-separator />\n\n    <q-card-section>\n      <div class=\"text-h6\">Delete user</div>\n      <div>\n        When you delete an user profile, the associated comments are deleted as\n        well and can not be restored.\n      </div>\n      <div class=\"q-mt-md\">\n        <q-btn\n          color=\"red\"\n          label=\"Delete profile\"\n          :disable=\"submitting\"\n          :loading=\"submitting\"\n          @click=\"removeUser(user.id)\"\n        />\n      </div>\n    </q-card-section>\n  </q-card>\n</template>\n\n<script>\nimport UsersAPI from \"@/api/users\";\n\nexport default {\n  name: \"EditUser\",\n  data() {\n    return {\n      picture: null,\n      email: this.user.email,\n      login: this.user.login,\n      name: this.user.name,\n      role: this.user.role,\n      password: \"\",\n      passwordConfirmation: \"\",\n      submitting: false,\n      roleOptions: [\n        {\n          label: \"User\",\n          value: \"user\",\n        },\n        {\n          label: \"Admin\",\n          value: \"admin\",\n        },\n      ],\n    };\n  },\n  props: {\n    user: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  methods: {\n    closeModal() {\n      this.$emit(\"close\");\n    },\n    async updateUser() {\n      this.$refs.nameRef.validate();\n      this.$refs.loginRef.validate();\n      this.$refs.passwordConfirmationRef.validate();\n\n      if (\n        this.$refs.nameRef.hasError ||\n        this.$refs.loginRef.hasError ||\n        this.$refs.passwordConfirmationRef.hasError\n      ) {\n        return false;\n      }\n      this.submitting = true;\n\n      const data = new FormData();\n      data.append(\"_method\", \"PUT\");\n      data.append(\"name\", this.name);\n      data.append(\"login\", this.login);\n      data.append(\"role\", this.role.value);\n      if (this.password) data.append(\"password\", this.password);\n      if (this.password)\n        data.append(\"password_confirmation\", this.passwordConfirmation);\n      if (this.picture) data.append(\"picture\", this.picture);\n\n      try {\n        const res = await UsersAPI.update(this.user.id, data);\n        const user = { ...this.user, ...res.user };\n        this.picture = null;\n        this.password = \"\";\n        this.passwordConfirmation = \"\";\n        this.submitting = false;\n        this.$emit(\"updatedUser\", user);\n        this.$q.notify({\n          progress: true,\n          message: \"User successfuly updated.\",\n          // color: 'primary',\n          type: \"positive\",\n          actions: [\n            {\n              label: \"Dismiss\",\n              color: \"white\",\n              handler: () => {\n                //\n              },\n            },\n          ],\n        });\n      } catch (error) {\n        let message = \"The request failed.\";\n        window.err = error;\n        console.log(error);\n        this.submitting = false;\n        if (error.response) {\n          message = error.response.data.message || message;\n          if (error.response.data.errors) {\n            const obj = error.response.data.errors;\n            // console.log(obj);\n            // for (const key in this.errors) {\n            //   if (obj[key]) {\n            //     this.errors[key] = {\n            //       isValid: false,\n            //       message: obj[key][0],\n            //     };\n            //   } else {\n            //     this.errors[key].isValid = true;\n            //   }\n            // }\n            if (obj.picture) message += `<br/> ${obj.picture[0]}`;\n          }\n        }\n        this.$q.notify({\n          progress: true,\n          html: true,\n          message: message,\n          // color: 'primary',\n          type: \"negative\",\n          timeout: 10000,\n          actions: [\n            {\n              label: \"Dismiss\",\n              color: \"white\",\n              handler: () => {\n                //\n              },\n            },\n          ],\n        });\n      }\n    },\n    async removeUser(id) {\n      this.submitting = true;\n      try {\n        await UsersAPI.delete(id);\n        this.submitting = false;\n        this.$emit(\"removedUser\", this.user);\n        this.$q.notify({\n          progress: true,\n          message: \"The user has been deleted!\",\n          type: \"positive\",\n          actions: [\n            {\n              label: \"Dismiss\",\n              color: \"white\",\n              handler: () => {\n                //\n              },\n            },\n          ],\n        });\n      } catch (error) {\n        let message = \"The request failed.\";\n        window.err = error;\n        console.log(error);\n        this.submitting = false;\n        if (error.response) {\n          message = error.response.data.message || message;\n        }\n        this.$q.notify({\n          progress: true,\n          message: message,\n          html: true,\n          type: \"negative\",\n          timeout: 10000,\n          actions: [\n            {\n              label: \"Dismiss\",\n              color: \"white\",\n              handler: () => {\n                //\n              },\n            },\n          ],\n        });\n      }\n    },\n  },\n\n  mounted() {\n    this.role = this.roleOptions.find((el) => el.value === this.user.role);\n  },\n};\n</script>\n"],"sourceRoot":""}]}