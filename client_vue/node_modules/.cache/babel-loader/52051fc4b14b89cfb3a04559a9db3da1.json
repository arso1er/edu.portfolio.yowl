{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/quasar/src/utils/date.js","dependencies":[{"path":"/app/node_modules/quasar/src/utils/date.js","mtime":1640793220809},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZG90LWFsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5zdGlja3kuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CgovKiBlc2xpbnQgbm8tZmFsbHRocm91Z2g6IDAgKi8KaW1wb3J0IHsgaXNEYXRlIH0gZnJvbSAnLi9wcml2YXRlL2lzLmpzJzsKaW1wb3J0IHsgcGFkLCBjYXBpdGFsaXplIH0gZnJvbSAnLi9mb3JtYXQuanMnOwppbXBvcnQgeyBqYWxhYWxpTW9udGhMZW5ndGggfSBmcm9tICcuL3ByaXZhdGUvZGF0ZS1wZXJzaWFuLmpzJzsKaW1wb3J0IGxhbmcsIHsgZGVmYXVsdExhbmcgfSBmcm9tICcuLi9sYW5nLmpzJzsKdmFyIE1JTExJU0VDT05EU19JTl9EQVkgPSA4NjQwMDAwMCwKICAgIE1JTExJU0VDT05EU19JTl9IT1VSID0gMzYwMDAwMCwKICAgIE1JTExJU0VDT05EU19JTl9NSU5VVEUgPSA2MDAwMCwKICAgIGRlZmF1bHRNYXNrID0gJ1lZWVktTU0tRERUSEg6bW06c3MuU1NTWicsCiAgICB0b2tlbiA9IC9cWygoPzpbXlxdXFxdfFxcXXxcXCkqKVxdfGR7MSw0fXxNezEsNH18bXsxLDJ9fHd7MSwyfXxRb3xEb3xEezEsNH18WVkoPzpZWSk/fEh7MSwyfXxoezEsMn18c3sxLDJ9fFN7MSwzfXxaezEsMn18YXsxLDJ9fFtBUUV4WF0vZywKICAgIHJldmVyc2VUb2tlbiA9IC8oXFtbXlxdXSpcXSl8ZHsxLDR9fE17MSw0fXxtezEsMn18d3sxLDJ9fFFvfERvfER7MSw0fXxZWSg/OllZKT98SHsxLDJ9fGh7MSwyfXxzezEsMn18U3sxLDN9fFp7MSwyfXxhezEsMn18W0FRRXhYXXwoWy4qKzo/XixccyR7fSgpfFxcXSspL2csCiAgICByZWdleFN0b3JlID0ge307CgpmdW5jdGlvbiBnZXRSZWdleERhdGEobWFzaywgZGF0ZUxvY2FsZSkgewogIHZhciBkYXlzID0gJygnICsgZGF0ZUxvY2FsZS5kYXlzLmpvaW4oJ3wnKSArICcpJywKICAgICAga2V5ID0gbWFzayArIGRheXM7CgogIGlmIChyZWdleFN0b3JlW2tleV0gIT09IHZvaWQgMCkgewogICAgcmV0dXJuIHJlZ2V4U3RvcmVba2V5XTsKICB9CgogIHZhciBkYXlzU2hvcnQgPSAnKCcgKyBkYXRlTG9jYWxlLmRheXNTaG9ydC5qb2luKCd8JykgKyAnKScsCiAgICAgIG1vbnRocyA9ICcoJyArIGRhdGVMb2NhbGUubW9udGhzLmpvaW4oJ3wnKSArICcpJywKICAgICAgbW9udGhzU2hvcnQgPSAnKCcgKyBkYXRlTG9jYWxlLm1vbnRoc1Nob3J0LmpvaW4oJ3wnKSArICcpJzsKICB2YXIgbWFwID0ge307CiAgdmFyIGluZGV4ID0gMDsKICB2YXIgcmVnZXhUZXh0ID0gbWFzay5yZXBsYWNlKHJldmVyc2VUb2tlbiwgZnVuY3Rpb24gKG1hdGNoKSB7CiAgICBpbmRleCsrOwoKICAgIHN3aXRjaCAobWF0Y2gpIHsKICAgICAgY2FzZSAnWVknOgogICAgICAgIG1hcC5ZWSA9IGluZGV4OwogICAgICAgIHJldHVybiAnKC0/XFxkezEsMn0pJzsKCiAgICAgIGNhc2UgJ1lZWVknOgogICAgICAgIG1hcC5ZWVlZID0gaW5kZXg7CiAgICAgICAgcmV0dXJuICcoLT9cXGR7MSw0fSknOwoKICAgICAgY2FzZSAnTSc6CiAgICAgICAgbWFwLk0gPSBpbmRleDsKICAgICAgICByZXR1cm4gJyhcXGR7MSwyfSknOwoKICAgICAgY2FzZSAnTU0nOgogICAgICAgIG1hcC5NID0gaW5kZXg7IC8vIGJ1bXBpbmcgdG8gTQoKICAgICAgICByZXR1cm4gJyhcXGR7Mn0pJzsKCiAgICAgIGNhc2UgJ01NTSc6CiAgICAgICAgbWFwLk1NTSA9IGluZGV4OwogICAgICAgIHJldHVybiBtb250aHNTaG9ydDsKCiAgICAgIGNhc2UgJ01NTU0nOgogICAgICAgIG1hcC5NTU1NID0gaW5kZXg7CiAgICAgICAgcmV0dXJuIG1vbnRoczsKCiAgICAgIGNhc2UgJ0QnOgogICAgICAgIG1hcC5EID0gaW5kZXg7CiAgICAgICAgcmV0dXJuICcoXFxkezEsMn0pJzsKCiAgICAgIGNhc2UgJ0RvJzoKICAgICAgICBtYXAuRCA9IGluZGV4Kys7IC8vIGJ1bXBpbmcgdG8gRAoKICAgICAgICByZXR1cm4gJyhcXGR7MSwyfShzdHxuZHxyZHx0aCkpJzsKCiAgICAgIGNhc2UgJ0REJzoKICAgICAgICBtYXAuRCA9IGluZGV4OyAvLyBidW1waW5nIHRvIEQKCiAgICAgICAgcmV0dXJuICcoXFxkezJ9KSc7CgogICAgICBjYXNlICdIJzoKICAgICAgICBtYXAuSCA9IGluZGV4OwogICAgICAgIHJldHVybiAnKFxcZHsxLDJ9KSc7CgogICAgICBjYXNlICdISCc6CiAgICAgICAgbWFwLkggPSBpbmRleDsgLy8gYnVtcGluZyB0byBICgogICAgICAgIHJldHVybiAnKFxcZHsyfSknOwoKICAgICAgY2FzZSAnaCc6CiAgICAgICAgbWFwLmggPSBpbmRleDsKICAgICAgICByZXR1cm4gJyhcXGR7MSwyfSknOwoKICAgICAgY2FzZSAnaGgnOgogICAgICAgIG1hcC5oID0gaW5kZXg7IC8vIGJ1bXBpbmcgdG8gaAoKICAgICAgICByZXR1cm4gJyhcXGR7Mn0pJzsKCiAgICAgIGNhc2UgJ20nOgogICAgICAgIG1hcC5tID0gaW5kZXg7CiAgICAgICAgcmV0dXJuICcoXFxkezEsMn0pJzsKCiAgICAgIGNhc2UgJ21tJzoKICAgICAgICBtYXAubSA9IGluZGV4OyAvLyBidW1waW5nIHRvIG0KCiAgICAgICAgcmV0dXJuICcoXFxkezJ9KSc7CgogICAgICBjYXNlICdzJzoKICAgICAgICBtYXAucyA9IGluZGV4OwogICAgICAgIHJldHVybiAnKFxcZHsxLDJ9KSc7CgogICAgICBjYXNlICdzcyc6CiAgICAgICAgbWFwLnMgPSBpbmRleDsgLy8gYnVtcGluZyB0byBzCgogICAgICAgIHJldHVybiAnKFxcZHsyfSknOwoKICAgICAgY2FzZSAnUyc6CiAgICAgICAgbWFwLlMgPSBpbmRleDsKICAgICAgICByZXR1cm4gJyhcXGR7MX0pJzsKCiAgICAgIGNhc2UgJ1NTJzoKICAgICAgICBtYXAuUyA9IGluZGV4OyAvLyBidW1wIHRvIFMKCiAgICAgICAgcmV0dXJuICcoXFxkezJ9KSc7CgogICAgICBjYXNlICdTU1MnOgogICAgICAgIG1hcC5TID0gaW5kZXg7IC8vIGJ1bXAgdG8gUwoKICAgICAgICByZXR1cm4gJyhcXGR7M30pJzsKCiAgICAgIGNhc2UgJ0EnOgogICAgICAgIG1hcC5BID0gaW5kZXg7CiAgICAgICAgcmV0dXJuICcoQU18UE0pJzsKCiAgICAgIGNhc2UgJ2EnOgogICAgICAgIG1hcC5hID0gaW5kZXg7CiAgICAgICAgcmV0dXJuICcoYW18cG0pJzsKCiAgICAgIGNhc2UgJ2FhJzoKICAgICAgICBtYXAuYWEgPSBpbmRleDsKICAgICAgICByZXR1cm4gJyhhXFwubVxcLnxwXFwubVxcLiknOwoKICAgICAgY2FzZSAnZGRkJzoKICAgICAgICByZXR1cm4gZGF5c1Nob3J0OwoKICAgICAgY2FzZSAnZGRkZCc6CiAgICAgICAgcmV0dXJuIGRheXM7CgogICAgICBjYXNlICdRJzoKICAgICAgY2FzZSAnZCc6CiAgICAgIGNhc2UgJ0UnOgogICAgICAgIHJldHVybiAnKFxcZHsxfSknOwoKICAgICAgY2FzZSAnUW8nOgogICAgICAgIHJldHVybiAnKDFzdHwybmR8M3JkfDR0aCknOwoKICAgICAgY2FzZSAnREREJzoKICAgICAgY2FzZSAnRERERCc6CiAgICAgICAgcmV0dXJuICcoXFxkezEsM30pJzsKCiAgICAgIGNhc2UgJ3cnOgogICAgICAgIHJldHVybiAnKFxcZHsxLDJ9KSc7CgogICAgICBjYXNlICd3dyc6CiAgICAgICAgcmV0dXJuICcoXFxkezJ9KSc7CgogICAgICBjYXNlICdaJzoKICAgICAgICAvLyB0byBzcGxpdDogKD86KFopKCkoKXwoWystXSk/KFxcZHsyfSk6PyhcXGR7Mn0pKQogICAgICAgIG1hcC5aID0gaW5kZXg7CiAgICAgICAgcmV0dXJuICcoWnxbKy1dXFxkezJ9OlxcZHsyfSknOwoKICAgICAgY2FzZSAnWlonOgogICAgICAgIG1hcC5aWiA9IGluZGV4OwogICAgICAgIHJldHVybiAnKFp8WystXVxcZHsyfVxcZHsyfSknOwoKICAgICAgY2FzZSAnWCc6CiAgICAgICAgbWFwLlggPSBpbmRleDsKICAgICAgICByZXR1cm4gJygtP1xcZCspJzsKCiAgICAgIGNhc2UgJ3gnOgogICAgICAgIG1hcC54ID0gaW5kZXg7CiAgICAgICAgcmV0dXJuICcoLT9cXGR7NCx9KSc7CgogICAgICBkZWZhdWx0OgogICAgICAgIGluZGV4LS07CgogICAgICAgIGlmIChtYXRjaFswXSA9PT0gJ1snKSB7CiAgICAgICAgICBtYXRjaCA9IG1hdGNoLnN1YnN0cmluZygxLCBtYXRjaC5sZW5ndGggLSAxKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBtYXRjaC5yZXBsYWNlKC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKTsKICAgIH0KICB9KTsKICB2YXIgcmVzID0gewogICAgbWFwOiBtYXAsCiAgICByZWdleDogbmV3IFJlZ0V4cCgnXicgKyByZWdleFRleHQpCiAgfTsKICByZWdleFN0b3JlW2tleV0gPSByZXM7CiAgcmV0dXJuIHJlczsKfQoKZnVuY3Rpb24gZ2V0RGF0ZUxvY2FsZShwYXJhbURhdGVMb2NhbGUsIGxhbmdQcm9wcykgewogIHJldHVybiBwYXJhbURhdGVMb2NhbGUgIT09IHZvaWQgMCA/IHBhcmFtRGF0ZUxvY2FsZSA6IGxhbmdQcm9wcyAhPT0gdm9pZCAwID8gbGFuZ1Byb3BzLmRhdGUgOiBkZWZhdWx0TGFuZy5kYXRlOwp9CgpmdW5jdGlvbiBmb3JtYXRUaW1lem9uZShvZmZzZXQpIHsKICB2YXIgZGVsaW1ldGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJzsKICB2YXIgc2lnbiA9IG9mZnNldCA+IDAgPyAnLScgOiAnKycsCiAgICAgIGFic09mZnNldCA9IE1hdGguYWJzKG9mZnNldCksCiAgICAgIGhvdXJzID0gTWF0aC5mbG9vcihhYnNPZmZzZXQgLyA2MCksCiAgICAgIG1pbnV0ZXMgPSBhYnNPZmZzZXQgJSA2MDsKICByZXR1cm4gc2lnbiArIHBhZChob3VycykgKyBkZWxpbWV0ZXIgKyBwYWQobWludXRlcyk7Cn0KCmZ1bmN0aW9uIGFwcGx5WWVhck1vbnRoRGF5Q2hhbmdlKGRhdGUsIG1vZCwgc2lnbikgewogIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpLAogICAgICBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSwKICAgICAgZGF5ID0gZGF0ZS5nZXREYXRlKCk7CgogIGlmIChtb2QueWVhcnMgIT09IHZvaWQgMCkgewogICAgeWVhciArPSBzaWduICogbW9kLnllYXJzOwogIH0KCiAgaWYgKG1vZC5tb250aHMgIT09IHZvaWQgMCkgewogICAgbW9udGggKz0gc2lnbiAqIG1vZC5tb250aHM7CiAgfQoKICBpZiAobW9kLmRheXMgIT09IHZvaWQgMCkgewogICAgZGF5ICs9IHNpZ24gKiBtb2QuZGF5czsKICB9CgogIGRhdGUuc2V0RGF0ZSgxKTsKICBkYXRlLnNldE1vbnRoKDIpOwogIGRhdGUuc2V0RnVsbFllYXIoeWVhcik7CiAgZGF0ZS5zZXRNb250aChtb250aCk7CiAgZGF0ZS5zZXREYXRlKGRheSk7CiAgcmV0dXJuIGRhdGU7Cn0KCmZ1bmN0aW9uIGdldENoYW5nZShkYXRlLCBtb2QsIHNpZ24pIHsKICB2YXIgZCA9IG5ldyBEYXRlKGRhdGUpLAogICAgICB0ID0gbW9kLnllYXJzICE9PSB2b2lkIDAgfHwgbW9kLm1vbnRocyAhPT0gdm9pZCAwIHx8IG1vZC5kYXlzICE9PSB2b2lkIDAgPyBhcHBseVllYXJNb250aERheUNoYW5nZShkLCBtb2QsIHNpZ24pIDogZDsKCiAgZm9yICh2YXIga2V5IGluIG1vZCkgewogICAgaWYgKGtleSAhPT0gJ3llYXJzJyAmJiBrZXkgIT09ICdtb250aHMnICYmIGtleSAhPT0gJ2RheXMnKSB7CiAgICAgIHZhciBvcCA9IGNhcGl0YWxpemUoa2V5KTsKICAgICAgdFsic2V0Ii5jb25jYXQob3ApXSh0WyJnZXQiLmNvbmNhdChvcCldKCkgKyBzaWduICogbW9kW2tleV0pOwogICAgfQogIH0KCiAgcmV0dXJuIHQ7Cn0KCmZ1bmN0aW9uIGFwcGx5WWVhck1vbnRoRGF5KGRhdGUsIG1vZCwgbWlkZGxlKSB7CiAgdmFyIHllYXIgPSBtb2QueWVhciAhPT0gdm9pZCAwID8gbW9kLnllYXIgOiBkYXRlWyJnZXQiLmNvbmNhdChtaWRkbGUsICJGdWxsWWVhciIpXSgpLAogICAgICBtb250aCA9IG1vZC5tb250aCAhPT0gdm9pZCAwID8gbW9kLm1vbnRoIC0gMSA6IGRhdGVbImdldCIuY29uY2F0KG1pZGRsZSwgIk1vbnRoIildKCksCiAgICAgIG1heERheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoICsgMSwgMCkuZ2V0RGF0ZSgpLAogICAgICBkYXkgPSBNYXRoLm1pbihtYXhEYXksIG1vZC5kYXRlICE9PSB2b2lkIDAgPyBtb2QuZGF0ZSA6IGRhdGVbImdldCIuY29uY2F0KG1pZGRsZSwgIkRhdGUiKV0oKSk7CiAgZGF0ZVsic2V0Ii5jb25jYXQobWlkZGxlLCAiRGF0ZSIpXSgxKTsKICBkYXRlWyJzZXQiLmNvbmNhdChtaWRkbGUsICJNb250aCIpXSgyKTsKICBkYXRlWyJzZXQiLmNvbmNhdChtaWRkbGUsICJGdWxsWWVhciIpXSh5ZWFyKTsKICBkYXRlWyJzZXQiLmNvbmNhdChtaWRkbGUsICJNb250aCIpXShtb250aCk7CiAgZGF0ZVsic2V0Ii5jb25jYXQobWlkZGxlLCAiRGF0ZSIpXShkYXkpOwogIHJldHVybiBkYXRlOwp9CgpleHBvcnQgZnVuY3Rpb24gYWRqdXN0RGF0ZShkYXRlLCBtb2QsIHV0YykgewogIHZhciBtaWRkbGUgPSB1dGMgPT09IHRydWUgPyAnVVRDJyA6ICcnLAogICAgICBkID0gbmV3IERhdGUoZGF0ZSksCiAgICAgIHQgPSBtb2QueWVhciAhPT0gdm9pZCAwIHx8IG1vZC5tb250aCAhPT0gdm9pZCAwIHx8IG1vZC5kYXRlICE9PSB2b2lkIDAgPyBhcHBseVllYXJNb250aERheShkLCBtb2QsIG1pZGRsZSkgOiBkOwoKICBmb3IgKHZhciBrZXkgaW4gbW9kKSB7CiAgICBpZiAoa2V5ICE9PSAneWVhcicgJiYga2V5ICE9PSAnbW9udGgnICYmIGtleSAhPT0gJ2RhdGUnKSB7CiAgICAgIHZhciBvcCA9IGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zbGljZSgxKTsKICAgICAgdFsic2V0Ii5jb25jYXQobWlkZGxlKS5jb25jYXQob3ApXShtb2Rba2V5XSk7CiAgICB9CiAgfQoKICByZXR1cm4gdDsKfQpleHBvcnQgZnVuY3Rpb24gZXh0cmFjdERhdGUoc3RyLCBtYXNrLCBkYXRlTG9jYWxlKSB7CiAgdmFyIGQgPSBfX3NwbGl0RGF0ZShzdHIsIG1hc2ssIGRhdGVMb2NhbGUpOwoKICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGQueWVhciwgZC5tb250aCA9PT0gbnVsbCA/IG51bGwgOiBkLm1vbnRoIC0gMSwgZC5kYXksIGQuaG91ciwgZC5taW51dGUsIGQuc2Vjb25kLCBkLm1pbGxpc2Vjb25kKTsKICB2YXIgdHpPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7CiAgcmV0dXJuIGQudGltZXpvbmVPZmZzZXQgPT09IG51bGwgfHwgZC50aW1lem9uZU9mZnNldCA9PT0gdHpPZmZzZXQgPyBkYXRlIDogZ2V0Q2hhbmdlKGRhdGUsIHsKICAgIG1pbnV0ZXM6IGQudGltZXpvbmVPZmZzZXQgLSB0ek9mZnNldAogIH0sIDEpOwp9CmV4cG9ydCBmdW5jdGlvbiBfX3NwbGl0RGF0ZShzdHIsIG1hc2ssIGRhdGVMb2NhbGUsIGNhbGVuZGFyLCBkZWZhdWx0TW9kZWwpIHsKICB2YXIgZGF0ZSA9IHsKICAgIHllYXI6IG51bGwsCiAgICBtb250aDogbnVsbCwKICAgIGRheTogbnVsbCwKICAgIGhvdXI6IG51bGwsCiAgICBtaW51dGU6IG51bGwsCiAgICBzZWNvbmQ6IG51bGwsCiAgICBtaWxsaXNlY29uZDogbnVsbCwKICAgIHRpbWV6b25lT2Zmc2V0OiBudWxsLAogICAgZGF0ZUhhc2g6IG51bGwsCiAgICB0aW1lSGFzaDogbnVsbAogIH07CiAgZGVmYXVsdE1vZGVsICE9PSB2b2lkIDAgJiYgT2JqZWN0LmFzc2lnbihkYXRlLCBkZWZhdWx0TW9kZWwpOwoKICBpZiAoc3RyID09PSB2b2lkIDAgfHwgc3RyID09PSBudWxsIHx8IHN0ciA9PT0gJycgfHwgdHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHsKICAgIHJldHVybiBkYXRlOwogIH0KCiAgaWYgKG1hc2sgPT09IHZvaWQgMCkgewogICAgbWFzayA9IGRlZmF1bHRNYXNrOwogIH0KCiAgdmFyIGxhbmdPcHRzID0gZ2V0RGF0ZUxvY2FsZShkYXRlTG9jYWxlLCBsYW5nLnByb3BzKSwKICAgICAgbW9udGhzID0gbGFuZ09wdHMubW9udGhzLAogICAgICBtb250aHNTaG9ydCA9IGxhbmdPcHRzLm1vbnRoc1Nob3J0OwoKICB2YXIgX2dldFJlZ2V4RGF0YSA9IGdldFJlZ2V4RGF0YShtYXNrLCBsYW5nT3B0cyksCiAgICAgIHJlZ2V4ID0gX2dldFJlZ2V4RGF0YS5yZWdleCwKICAgICAgbWFwID0gX2dldFJlZ2V4RGF0YS5tYXA7CgogIHZhciBtYXRjaCA9IHN0ci5tYXRjaChyZWdleCk7CgogIGlmIChtYXRjaCA9PT0gbnVsbCkgewogICAgcmV0dXJuIGRhdGU7CiAgfQoKICB2YXIgdHpTdHJpbmcgPSAnJzsKCiAgaWYgKG1hcC5YICE9PSB2b2lkIDAgfHwgbWFwLnggIT09IHZvaWQgMCkgewogICAgdmFyIHN0YW1wID0gcGFyc2VJbnQobWF0Y2hbbWFwLlggIT09IHZvaWQgMCA/IG1hcC5YIDogbWFwLnhdLCAxMCk7CgogICAgaWYgKGlzTmFOKHN0YW1wKSA9PT0gdHJ1ZSB8fCBzdGFtcCA8IDApIHsKICAgICAgcmV0dXJuIGRhdGU7CiAgICB9CgogICAgdmFyIGQgPSBuZXcgRGF0ZShzdGFtcCAqIChtYXAuWCAhPT0gdm9pZCAwID8gMTAwMCA6IDEpKTsKICAgIGRhdGUueWVhciA9IGQuZ2V0RnVsbFllYXIoKTsKICAgIGRhdGUubW9udGggPSBkLmdldE1vbnRoKCkgKyAxOwogICAgZGF0ZS5kYXkgPSBkLmdldERhdGUoKTsKICAgIGRhdGUuaG91ciA9IGQuZ2V0SG91cnMoKTsKICAgIGRhdGUubWludXRlID0gZC5nZXRNaW51dGVzKCk7CiAgICBkYXRlLnNlY29uZCA9IGQuZ2V0U2Vjb25kcygpOwogICAgZGF0ZS5taWxsaXNlY29uZCA9IGQuZ2V0TWlsbGlzZWNvbmRzKCk7CiAgfSBlbHNlIHsKICAgIGlmIChtYXAuWVlZWSAhPT0gdm9pZCAwKSB7CiAgICAgIGRhdGUueWVhciA9IHBhcnNlSW50KG1hdGNoW21hcC5ZWVlZXSwgMTApOwogICAgfSBlbHNlIGlmIChtYXAuWVkgIT09IHZvaWQgMCkgewogICAgICB2YXIgeSA9IHBhcnNlSW50KG1hdGNoW21hcC5ZWV0sIDEwKTsKICAgICAgZGF0ZS55ZWFyID0geSA8IDAgPyB5IDogMjAwMCArIHk7CiAgICB9CgogICAgaWYgKG1hcC5NICE9PSB2b2lkIDApIHsKICAgICAgZGF0ZS5tb250aCA9IHBhcnNlSW50KG1hdGNoW21hcC5NXSwgMTApOwoKICAgICAgaWYgKGRhdGUubW9udGggPCAxIHx8IGRhdGUubW9udGggPiAxMikgewogICAgICAgIHJldHVybiBkYXRlOwogICAgICB9CiAgICB9IGVsc2UgaWYgKG1hcC5NTU0gIT09IHZvaWQgMCkgewogICAgICBkYXRlLm1vbnRoID0gbW9udGhzU2hvcnQuaW5kZXhPZihtYXRjaFttYXAuTU1NXSkgKyAxOwogICAgfSBlbHNlIGlmIChtYXAuTU1NTSAhPT0gdm9pZCAwKSB7CiAgICAgIGRhdGUubW9udGggPSBtb250aHMuaW5kZXhPZihtYXRjaFttYXAuTU1NTV0pICsgMTsKICAgIH0KCiAgICBpZiAobWFwLkQgIT09IHZvaWQgMCkgewogICAgICBkYXRlLmRheSA9IHBhcnNlSW50KG1hdGNoW21hcC5EXSwgMTApOwoKICAgICAgaWYgKGRhdGUueWVhciA9PT0gbnVsbCB8fCBkYXRlLm1vbnRoID09PSBudWxsIHx8IGRhdGUuZGF5IDwgMSkgewogICAgICAgIHJldHVybiBkYXRlOwogICAgICB9CgogICAgICB2YXIgbWF4RGF5ID0gY2FsZW5kYXIgIT09ICdwZXJzaWFuJyA/IG5ldyBEYXRlKGRhdGUueWVhciwgZGF0ZS5tb250aCwgMCkuZ2V0RGF0ZSgpIDogamFsYWFsaU1vbnRoTGVuZ3RoKGRhdGUueWVhciwgZGF0ZS5tb250aCk7CgogICAgICBpZiAoZGF0ZS5kYXkgPiBtYXhEYXkpIHsKICAgICAgICByZXR1cm4gZGF0ZTsKICAgICAgfQogICAgfQoKICAgIGlmIChtYXAuSCAhPT0gdm9pZCAwKSB7CiAgICAgIGRhdGUuaG91ciA9IHBhcnNlSW50KG1hdGNoW21hcC5IXSwgMTApICUgMjQ7CiAgICB9IGVsc2UgaWYgKG1hcC5oICE9PSB2b2lkIDApIHsKICAgICAgZGF0ZS5ob3VyID0gcGFyc2VJbnQobWF0Y2hbbWFwLmhdLCAxMCkgJSAxMjsKCiAgICAgIGlmIChtYXAuQSAmJiBtYXRjaFttYXAuQV0gPT09ICdQTScgfHwgbWFwLmEgJiYgbWF0Y2hbbWFwLmFdID09PSAncG0nIHx8IG1hcC5hYSAmJiBtYXRjaFttYXAuYWFdID09PSAncC5tLicpIHsKICAgICAgICBkYXRlLmhvdXIgKz0gMTI7CiAgICAgIH0KCiAgICAgIGRhdGUuaG91ciA9IGRhdGUuaG91ciAlIDI0OwogICAgfQoKICAgIGlmIChtYXAubSAhPT0gdm9pZCAwKSB7CiAgICAgIGRhdGUubWludXRlID0gcGFyc2VJbnQobWF0Y2hbbWFwLm1dLCAxMCkgJSA2MDsKICAgIH0KCiAgICBpZiAobWFwLnMgIT09IHZvaWQgMCkgewogICAgICBkYXRlLnNlY29uZCA9IHBhcnNlSW50KG1hdGNoW21hcC5zXSwgMTApICUgNjA7CiAgICB9CgogICAgaWYgKG1hcC5TICE9PSB2b2lkIDApIHsKICAgICAgZGF0ZS5taWxsaXNlY29uZCA9IHBhcnNlSW50KG1hdGNoW21hcC5TXSwgMTApICogTWF0aC5wb3coMTAsIDMgLSBtYXRjaFttYXAuU10ubGVuZ3RoKTsKICAgIH0KCiAgICBpZiAobWFwLlogIT09IHZvaWQgMCB8fCBtYXAuWlogIT09IHZvaWQgMCkgewogICAgICB0elN0cmluZyA9IG1hcC5aICE9PSB2b2lkIDAgPyBtYXRjaFttYXAuWl0ucmVwbGFjZSgnOicsICcnKSA6IG1hdGNoW21hcC5aWl07CiAgICAgIGRhdGUudGltZXpvbmVPZmZzZXQgPSAodHpTdHJpbmdbMF0gPT09ICcrJyA/IC0xIDogMSkgKiAoNjAgKiB0elN0cmluZy5zbGljZSgxLCAzKSArIDEgKiB0elN0cmluZy5zbGljZSgzLCA1KSk7CiAgICB9CiAgfQoKICBkYXRlLmRhdGVIYXNoID0gcGFkKGRhdGUueWVhciwgNikgKyAnLycgKyBwYWQoZGF0ZS5tb250aCkgKyAnLycgKyBwYWQoZGF0ZS5kYXkpOwogIGRhdGUudGltZUhhc2ggPSBwYWQoZGF0ZS5ob3VyKSArICc6JyArIHBhZChkYXRlLm1pbnV0ZSkgKyAnOicgKyBwYWQoZGF0ZS5zZWNvbmQpICsgdHpTdHJpbmc7CiAgcmV0dXJuIGRhdGU7Cn0KZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWQoZGF0ZSkgewogIHJldHVybiB0eXBlb2YgZGF0ZSA9PT0gJ251bWJlcicgPyB0cnVlIDogaXNOYU4oRGF0ZS5wYXJzZShkYXRlKSkgPT09IGZhbHNlOwp9CmV4cG9ydCBmdW5jdGlvbiBidWlsZERhdGUobW9kLCB1dGMpIHsKICByZXR1cm4gYWRqdXN0RGF0ZShuZXcgRGF0ZSgpLCBtb2QsIHV0Yyk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldERheU9mV2VlayhkYXRlKSB7CiAgdmFyIGRvdyA9IG5ldyBEYXRlKGRhdGUpLmdldERheSgpOwogIHJldHVybiBkb3cgPT09IDAgPyA3IDogZG93Owp9CmV4cG9ydCBmdW5jdGlvbiBnZXRXZWVrT2ZZZWFyKGRhdGUpIHsKICAvLyBSZW1vdmUgdGltZSBjb21wb25lbnRzIG9mIGRhdGUKICB2YXIgdGh1cnNkYXkgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpOyAvLyBDaGFuZ2UgZGF0ZSB0byBUaHVyc2RheSBzYW1lIHdlZWsKCiAgdGh1cnNkYXkuc2V0RGF0ZSh0aHVyc2RheS5nZXREYXRlKCkgLSAodGh1cnNkYXkuZ2V0RGF5KCkgKyA2KSAlIDcgKyAzKTsgLy8gVGFrZSBKYW51YXJ5IDR0aCBhcyBpdCBpcyBhbHdheXMgaW4gd2VlayAxIChzZWUgSVNPIDg2MDEpCgogIHZhciBmaXJzdFRodXJzZGF5ID0gbmV3IERhdGUodGh1cnNkYXkuZ2V0RnVsbFllYXIoKSwgMCwgNCk7IC8vIENoYW5nZSBkYXRlIHRvIFRodXJzZGF5IHNhbWUgd2VlawoKICBmaXJzdFRodXJzZGF5LnNldERhdGUoZmlyc3RUaHVyc2RheS5nZXREYXRlKCkgLSAoZmlyc3RUaHVyc2RheS5nZXREYXkoKSArIDYpICUgNyArIDMpOyAvLyBDaGVjayBpZiBkYXlsaWdodC1zYXZpbmctdGltZS1zd2l0Y2ggb2NjdXJyZWQgYW5kIGNvcnJlY3QgZm9yIGl0CgogIHZhciBkcyA9IHRodXJzZGF5LmdldFRpbWV6b25lT2Zmc2V0KCkgLSBmaXJzdFRodXJzZGF5LmdldFRpbWV6b25lT2Zmc2V0KCk7CiAgdGh1cnNkYXkuc2V0SG91cnModGh1cnNkYXkuZ2V0SG91cnMoKSAtIGRzKTsgLy8gTnVtYmVyIG9mIHdlZWtzIGJldHdlZW4gdGFyZ2V0IFRodXJzZGF5IGFuZCBmaXJzdCBUaHVyc2RheQoKICB2YXIgd2Vla0RpZmYgPSAodGh1cnNkYXkgLSBmaXJzdFRodXJzZGF5KSAvIChNSUxMSVNFQ09ORFNfSU5fREFZICogNyk7CiAgcmV0dXJuIDEgKyBNYXRoLmZsb29yKHdlZWtEaWZmKTsKfQoKZnVuY3Rpb24gZ2V0RGF5SWRlbnRpZmllcihkYXRlKSB7CiAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKSAqIDEwMDAwICsgZGF0ZS5nZXRNb250aCgpICogMTAwICsgZGF0ZS5nZXREYXRlKCk7Cn0KCmZ1bmN0aW9uIGdldERhdGVJZGVudGlmaWVyKGRhdGUsIG9ubHlEYXRlCi8qID0gZmFsc2UgKi8KKSB7CiAgdmFyIGQgPSBuZXcgRGF0ZShkYXRlKTsKICByZXR1cm4gb25seURhdGUgPT09IHRydWUgPyBnZXREYXlJZGVudGlmaWVyKGQpIDogZC5nZXRUaW1lKCk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBpc0JldHdlZW5EYXRlcyhkYXRlLCBmcm9tLCB0bykgewogIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTsKICB2YXIgZDEgPSBnZXREYXRlSWRlbnRpZmllcihmcm9tLCBvcHRzLm9ubHlEYXRlKSwKICAgICAgZDIgPSBnZXREYXRlSWRlbnRpZmllcih0bywgb3B0cy5vbmx5RGF0ZSksCiAgICAgIGN1ciA9IGdldERhdGVJZGVudGlmaWVyKGRhdGUsIG9wdHMub25seURhdGUpOwogIHJldHVybiAoY3VyID4gZDEgfHwgb3B0cy5pbmNsdXNpdmVGcm9tID09PSB0cnVlICYmIGN1ciA9PT0gZDEpICYmIChjdXIgPCBkMiB8fCBvcHRzLmluY2x1c2l2ZVRvID09PSB0cnVlICYmIGN1ciA9PT0gZDIpOwp9CmV4cG9ydCBmdW5jdGlvbiBhZGRUb0RhdGUoZGF0ZSwgbW9kKSB7CiAgcmV0dXJuIGdldENoYW5nZShkYXRlLCBtb2QsIDEpOwp9CmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdEZyb21EYXRlKGRhdGUsIG1vZCkgewogIHJldHVybiBnZXRDaGFuZ2UoZGF0ZSwgbW9kLCAtMSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZEYXRlKGRhdGUsIHVuaXQsIHV0YykgewogIHZhciB0ID0gbmV3IERhdGUoZGF0ZSksCiAgICAgIHByZWZpeCA9ICJzZXQiLmNvbmNhdCh1dGMgPT09IHRydWUgPyAnVVRDJyA6ICcnKTsKCiAgc3dpdGNoICh1bml0KSB7CiAgICBjYXNlICd5ZWFyJzoKICAgICAgdFsiIi5jb25jYXQocHJlZml4LCAiTW9udGgiKV0oMCk7CgogICAgY2FzZSAnbW9udGgnOgogICAgICB0WyIiLmNvbmNhdChwcmVmaXgsICJEYXRlIildKDEpOwoKICAgIGNhc2UgJ2RheSc6CiAgICAgIHRbIiIuY29uY2F0KHByZWZpeCwgIkhvdXJzIildKDApOwoKICAgIGNhc2UgJ2hvdXInOgogICAgICB0WyIiLmNvbmNhdChwcmVmaXgsICJNaW51dGVzIildKDApOwoKICAgIGNhc2UgJ21pbnV0ZSc6CiAgICAgIHRbIiIuY29uY2F0KHByZWZpeCwgIlNlY29uZHMiKV0oMCk7CgogICAgY2FzZSAnc2Vjb25kJzoKICAgICAgdFsiIi5jb25jYXQocHJlZml4LCAiTWlsbGlzZWNvbmRzIildKDApOwogIH0KCiAgcmV0dXJuIHQ7Cn0KZXhwb3J0IGZ1bmN0aW9uIGVuZE9mRGF0ZShkYXRlLCB1bml0LCB1dGMpIHsKICB2YXIgdCA9IG5ldyBEYXRlKGRhdGUpLAogICAgICBwcmVmaXggPSAic2V0Ii5jb25jYXQodXRjID09PSB0cnVlID8gJ1VUQycgOiAnJyk7CgogIHN3aXRjaCAodW5pdCkgewogICAgY2FzZSAneWVhcic6CiAgICAgIHRbIiIuY29uY2F0KHByZWZpeCwgIk1vbnRoIildKDExKTsKCiAgICBjYXNlICdtb250aCc6CiAgICAgIHRbIiIuY29uY2F0KHByZWZpeCwgIkRhdGUiKV0oZGF5c0luTW9udGgodCkpOwoKICAgIGNhc2UgJ2RheSc6CiAgICAgIHRbIiIuY29uY2F0KHByZWZpeCwgIkhvdXJzIildKDIzKTsKCiAgICBjYXNlICdob3VyJzoKICAgICAgdFsiIi5jb25jYXQocHJlZml4LCAiTWludXRlcyIpXSg1OSk7CgogICAgY2FzZSAnbWludXRlJzoKICAgICAgdFsiIi5jb25jYXQocHJlZml4LCAiU2Vjb25kcyIpXSg1OSk7CgogICAgY2FzZSAnc2Vjb25kJzoKICAgICAgdFsiIi5jb25jYXQocHJlZml4LCAiTWlsbGlzZWNvbmRzIildKDk5OSk7CiAgfQoKICByZXR1cm4gdDsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0TWF4RGF0ZShkYXRlCi8qICwgLi4uYXJncyAqLwopIHsKICB2YXIgdCA9IG5ldyBEYXRlKGRhdGUpOwogIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkuZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgdCA9IE1hdGgubWF4KHQsIG5ldyBEYXRlKGQpKTsKICB9KTsKICByZXR1cm4gdDsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0TWluRGF0ZShkYXRlCi8qLCAuLi5hcmdzICovCikgewogIHZhciB0ID0gbmV3IERhdGUoZGF0ZSk7CiAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7CiAgICB0ID0gTWF0aC5taW4odCwgbmV3IERhdGUoZCkpOwogIH0pOwogIHJldHVybiB0Owp9CgpmdW5jdGlvbiBnZXREaWZmKHQsIHN1YiwgaW50ZXJ2YWwpIHsKICByZXR1cm4gKHQuZ2V0VGltZSgpIC0gdC5nZXRUaW1lem9uZU9mZnNldCgpICogTUlMTElTRUNPTkRTX0lOX01JTlVURSAtIChzdWIuZ2V0VGltZSgpIC0gc3ViLmdldFRpbWV6b25lT2Zmc2V0KCkgKiBNSUxMSVNFQ09ORFNfSU5fTUlOVVRFKSkgLyBpbnRlcnZhbDsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldERhdGVEaWZmKGRhdGUsIHN1YnRyYWN0KSB7CiAgdmFyIHVuaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdkYXlzJzsKICB2YXIgdCA9IG5ldyBEYXRlKGRhdGUpLAogICAgICBzdWIgPSBuZXcgRGF0ZShzdWJ0cmFjdCk7CgogIHN3aXRjaCAodW5pdCkgewogICAgY2FzZSAneWVhcnMnOgogICAgICByZXR1cm4gdC5nZXRGdWxsWWVhcigpIC0gc3ViLmdldEZ1bGxZZWFyKCk7CgogICAgY2FzZSAnbW9udGhzJzoKICAgICAgcmV0dXJuICh0LmdldEZ1bGxZZWFyKCkgLSBzdWIuZ2V0RnVsbFllYXIoKSkgKiAxMiArIHQuZ2V0TW9udGgoKSAtIHN1Yi5nZXRNb250aCgpOwoKICAgIGNhc2UgJ2RheXMnOgogICAgICByZXR1cm4gZ2V0RGlmZihzdGFydE9mRGF0ZSh0LCAnZGF5JyksIHN0YXJ0T2ZEYXRlKHN1YiwgJ2RheScpLCBNSUxMSVNFQ09ORFNfSU5fREFZKTsKCiAgICBjYXNlICdob3Vycyc6CiAgICAgIHJldHVybiBnZXREaWZmKHN0YXJ0T2ZEYXRlKHQsICdob3VyJyksIHN0YXJ0T2ZEYXRlKHN1YiwgJ2hvdXInKSwgTUlMTElTRUNPTkRTX0lOX0hPVVIpOwoKICAgIGNhc2UgJ21pbnV0ZXMnOgogICAgICByZXR1cm4gZ2V0RGlmZihzdGFydE9mRGF0ZSh0LCAnbWludXRlJyksIHN0YXJ0T2ZEYXRlKHN1YiwgJ21pbnV0ZScpLCBNSUxMSVNFQ09ORFNfSU5fTUlOVVRFKTsKCiAgICBjYXNlICdzZWNvbmRzJzoKICAgICAgcmV0dXJuIGdldERpZmYoc3RhcnRPZkRhdGUodCwgJ3NlY29uZCcpLCBzdGFydE9mRGF0ZShzdWIsICdzZWNvbmQnKSwgMTAwMCk7CiAgfQp9CmV4cG9ydCBmdW5jdGlvbiBnZXREYXlPZlllYXIoZGF0ZSkgewogIHJldHVybiBnZXREYXRlRGlmZihkYXRlLCBzdGFydE9mRGF0ZShkYXRlLCAneWVhcicpLCAnZGF5cycpICsgMTsKfQpleHBvcnQgZnVuY3Rpb24gaW5mZXJEYXRlRm9ybWF0KGRhdGUpIHsKICByZXR1cm4gaXNEYXRlKGRhdGUpID09PSB0cnVlID8gJ2RhdGUnIDogdHlwZW9mIGRhdGUgPT09ICdudW1iZXInID8gJ251bWJlcicgOiAnc3RyaW5nJzsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0RGF0ZUJldHdlZW4oZGF0ZSwgbWluLCBtYXgpIHsKICB2YXIgdCA9IG5ldyBEYXRlKGRhdGUpOwoKICBpZiAobWluKSB7CiAgICB2YXIgbG93ID0gbmV3IERhdGUobWluKTsKCiAgICBpZiAodCA8IGxvdykgewogICAgICByZXR1cm4gbG93OwogICAgfQogIH0KCiAgaWYgKG1heCkgewogICAgdmFyIGhpZ2ggPSBuZXcgRGF0ZShtYXgpOwoKICAgIGlmICh0ID4gaGlnaCkgewogICAgICByZXR1cm4gaGlnaDsKICAgIH0KICB9CgogIHJldHVybiB0Owp9CmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVEYXRlKGRhdGUsIGRhdGUyLCB1bml0KSB7CiAgdmFyIHQgPSBuZXcgRGF0ZShkYXRlKSwKICAgICAgZCA9IG5ldyBEYXRlKGRhdGUyKTsKCiAgaWYgKHVuaXQgPT09IHZvaWQgMCkgewogICAgcmV0dXJuIHQuZ2V0VGltZSgpID09PSBkLmdldFRpbWUoKTsKICB9CgogIHN3aXRjaCAodW5pdCkgewogICAgY2FzZSAnc2Vjb25kJzoKICAgICAgaWYgKHQuZ2V0U2Vjb25kcygpICE9PSBkLmdldFNlY29uZHMoKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgIGNhc2UgJ21pbnV0ZSc6CiAgICAgIC8vIGludGVudGlvbmFsIGZhbGwtdGhyb3VnaAogICAgICBpZiAodC5nZXRNaW51dGVzKCkgIT09IGQuZ2V0TWludXRlcygpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgY2FzZSAnaG91cic6CiAgICAgIC8vIGludGVudGlvbmFsIGZhbGwtdGhyb3VnaAogICAgICBpZiAodC5nZXRIb3VycygpICE9PSBkLmdldEhvdXJzKCkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICBjYXNlICdkYXknOgogICAgICAvLyBpbnRlbnRpb25hbCBmYWxsLXRocm91Z2gKICAgICAgaWYgKHQuZ2V0RGF0ZSgpICE9PSBkLmdldERhdGUoKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgIGNhc2UgJ21vbnRoJzoKICAgICAgLy8gaW50ZW50aW9uYWwgZmFsbC10aHJvdWdoCiAgICAgIGlmICh0LmdldE1vbnRoKCkgIT09IGQuZ2V0TW9udGgoKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgIGNhc2UgJ3llYXInOgogICAgICAvLyBpbnRlbnRpb25hbCBmYWxsLXRocm91Z2gKICAgICAgaWYgKHQuZ2V0RnVsbFllYXIoKSAhPT0gZC5nZXRGdWxsWWVhcigpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBicmVhazsKCiAgICBkZWZhdWx0OgogICAgICB0aHJvdyBuZXcgRXJyb3IoImRhdGUgaXNTYW1lRGF0ZSB1bmtub3duIHVuaXQgIi5jb25jYXQodW5pdCkpOwogIH0KCiAgcmV0dXJuIHRydWU7Cn0KZXhwb3J0IGZ1bmN0aW9uIGRheXNJbk1vbnRoKGRhdGUpIHsKICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkgKyAxLCAwKS5nZXREYXRlKCk7Cn0KCmZ1bmN0aW9uIGdldE9yZGluYWwobikgewogIGlmIChuID49IDExICYmIG4gPD0gMTMpIHsKICAgIHJldHVybiAiIi5jb25jYXQobiwgInRoIik7CiAgfQoKICBzd2l0Y2ggKG4gJSAxMCkgewogICAgY2FzZSAxOgogICAgICByZXR1cm4gIiIuY29uY2F0KG4sICJzdCIpOwoKICAgIGNhc2UgMjoKICAgICAgcmV0dXJuICIiLmNvbmNhdChuLCAibmQiKTsKCiAgICBjYXNlIDM6CiAgICAgIHJldHVybiAiIi5jb25jYXQobiwgInJkIik7CiAgfQoKICByZXR1cm4gIiIuY29uY2F0KG4sICJ0aCIpOwp9Cgp2YXIgZm9ybWF0dGVyID0gewogIC8vIFllYXI6IDAwLCAwMSwgLi4uLCA5OQogIFlZOiBmdW5jdGlvbiBZWShkYXRlLCBfLCBmb3JjZWRZZWFyKSB7CiAgICAvLyB3b3JrYXJvdW5kIGZvciA8IDE5MDAgd2l0aCBuZXcgRGF0ZSgpCiAgICB2YXIgeSA9IHRoaXMuWVlZWShkYXRlLCBfLCBmb3JjZWRZZWFyKSAlIDEwMDsKICAgIHJldHVybiB5ID4gMCA/IHBhZCh5KSA6ICctJyArIHBhZChNYXRoLmFicyh5KSk7CiAgfSwKICAvLyBZZWFyOiAxOTAwLCAxOTAxLCAuLi4sIDIwOTkKICBZWVlZOiBmdW5jdGlvbiBZWVlZKGRhdGUsIF8sIGZvcmNlZFllYXIpIHsKICAgIC8vIHdvcmthcm91bmQgZm9yIDwgMTkwMCB3aXRoIG5ldyBEYXRlKCkKICAgIHJldHVybiBmb3JjZWRZZWFyICE9PSB2b2lkIDAgJiYgZm9yY2VkWWVhciAhPT0gbnVsbCA/IGZvcmNlZFllYXIgOiBkYXRlLmdldEZ1bGxZZWFyKCk7CiAgfSwKICAvLyBNb250aDogMSwgMiwgLi4uLCAxMgogIE06IGZ1bmN0aW9uIE0oZGF0ZSkgewogICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKSArIDE7CiAgfSwKICAvLyBNb250aDogMDEsIDAyLCAuLi4sIDEyCiAgTU06IGZ1bmN0aW9uIE1NKGRhdGUpIHsKICAgIHJldHVybiBwYWQoZGF0ZS5nZXRNb250aCgpICsgMSk7CiAgfSwKICAvLyBNb250aCBTaG9ydCBOYW1lOiBKYW4sIEZlYiwgLi4uCiAgTU1NOiBmdW5jdGlvbiBNTU0oZGF0ZSwgZGF0ZUxvY2FsZSkgewogICAgcmV0dXJuIGRhdGVMb2NhbGUubW9udGhzU2hvcnRbZGF0ZS5nZXRNb250aCgpXTsKICB9LAogIC8vIE1vbnRoIE5hbWU6IEphbnVhcnksIEZlYnJ1YXJ5LCAuLi4KICBNTU1NOiBmdW5jdGlvbiBNTU1NKGRhdGUsIGRhdGVMb2NhbGUpIHsKICAgIHJldHVybiBkYXRlTG9jYWxlLm1vbnRoc1tkYXRlLmdldE1vbnRoKCldOwogIH0sCiAgLy8gUXVhcnRlcjogMSwgMiwgMywgNAogIFE6IGZ1bmN0aW9uIFEoZGF0ZSkgewogICAgcmV0dXJuIE1hdGguY2VpbCgoZGF0ZS5nZXRNb250aCgpICsgMSkgLyAzKTsKICB9LAogIC8vIFF1YXJ0ZXI6IDFzdCwgMm5kLCAzcmQsIDR0aAogIFFvOiBmdW5jdGlvbiBRbyhkYXRlKSB7CiAgICByZXR1cm4gZ2V0T3JkaW5hbCh0aGlzLlEoZGF0ZSkpOwogIH0sCiAgLy8gRGF5IG9mIG1vbnRoOiAxLCAyLCAuLi4sIDMxCiAgRDogZnVuY3Rpb24gRChkYXRlKSB7CiAgICByZXR1cm4gZGF0ZS5nZXREYXRlKCk7CiAgfSwKICAvLyBEYXkgb2YgbW9udGg6IDFzdCwgMm5kLCAuLi4sIDMxc3QKICBEbzogZnVuY3Rpb24gRG8oZGF0ZSkgewogICAgcmV0dXJuIGdldE9yZGluYWwoZGF0ZS5nZXREYXRlKCkpOwogIH0sCiAgLy8gRGF5IG9mIG1vbnRoOiAwMSwgMDIsIC4uLiwgMzEKICBERDogZnVuY3Rpb24gREQoZGF0ZSkgewogICAgcmV0dXJuIHBhZChkYXRlLmdldERhdGUoKSk7CiAgfSwKICAvLyBEYXkgb2YgeWVhcjogMSwgMiwgLi4uLCAzNjYKICBEREQ6IGZ1bmN0aW9uIERERChkYXRlKSB7CiAgICByZXR1cm4gZ2V0RGF5T2ZZZWFyKGRhdGUpOwogIH0sCiAgLy8gRGF5IG9mIHllYXI6IDAwMSwgMDAyLCAuLi4sIDM2NgogIEREREQ6IGZ1bmN0aW9uIEREREQoZGF0ZSkgewogICAgcmV0dXJuIHBhZChnZXREYXlPZlllYXIoZGF0ZSksIDMpOwogIH0sCiAgLy8gRGF5IG9mIHdlZWs6IDAsIDEsIC4uLiwgNgogIGQ6IGZ1bmN0aW9uIGQoZGF0ZSkgewogICAgcmV0dXJuIGRhdGUuZ2V0RGF5KCk7CiAgfSwKICAvLyBEYXkgb2Ygd2VlazogU3UsIE1vLCAuLi4KICBkZDogZnVuY3Rpb24gZGQoZGF0ZSwgZGF0ZUxvY2FsZSkgewogICAgcmV0dXJuIHRoaXMuZGRkZChkYXRlLCBkYXRlTG9jYWxlKS5zbGljZSgwLCAyKTsKICB9LAogIC8vIERheSBvZiB3ZWVrOiBTdW4sIE1vbiwgLi4uCiAgZGRkOiBmdW5jdGlvbiBkZGQoZGF0ZSwgZGF0ZUxvY2FsZSkgewogICAgcmV0dXJuIGRhdGVMb2NhbGUuZGF5c1Nob3J0W2RhdGUuZ2V0RGF5KCldOwogIH0sCiAgLy8gRGF5IG9mIHdlZWs6IFN1bmRheSwgTW9uZGF5LCAuLi4KICBkZGRkOiBmdW5jdGlvbiBkZGRkKGRhdGUsIGRhdGVMb2NhbGUpIHsKICAgIHJldHVybiBkYXRlTG9jYWxlLmRheXNbZGF0ZS5nZXREYXkoKV07CiAgfSwKICAvLyBEYXkgb2YgSVNPIHdlZWs6IDEsIDIsIC4uLiwgNwogIEU6IGZ1bmN0aW9uIEUoZGF0ZSkgewogICAgcmV0dXJuIGRhdGUuZ2V0RGF5KCkgfHwgNzsKICB9LAogIC8vIFdlZWsgb2YgWWVhcjogMSAyIC4uLiA1MiA1MwogIHc6IGZ1bmN0aW9uIHcoZGF0ZSkgewogICAgcmV0dXJuIGdldFdlZWtPZlllYXIoZGF0ZSk7CiAgfSwKICAvLyBXZWVrIG9mIFllYXI6IDAxIDAyIC4uLiA1MiA1MwogIHd3OiBmdW5jdGlvbiB3dyhkYXRlKSB7CiAgICByZXR1cm4gcGFkKGdldFdlZWtPZlllYXIoZGF0ZSkpOwogIH0sCiAgLy8gSG91cjogMCwgMSwgLi4uIDIzCiAgSDogZnVuY3Rpb24gSChkYXRlKSB7CiAgICByZXR1cm4gZGF0ZS5nZXRIb3VycygpOwogIH0sCiAgLy8gSG91cjogMDAsIDAxLCAuLi4sIDIzCiAgSEg6IGZ1bmN0aW9uIEhIKGRhdGUpIHsKICAgIHJldHVybiBwYWQoZGF0ZS5nZXRIb3VycygpKTsKICB9LAogIC8vIEhvdXI6IDEsIDIsIC4uLiwgMTIKICBoOiBmdW5jdGlvbiBoKGRhdGUpIHsKICAgIHZhciBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTsKCiAgICBpZiAoaG91cnMgPT09IDApIHsKICAgICAgcmV0dXJuIDEyOwogICAgfQoKICAgIGlmIChob3VycyA+IDEyKSB7CiAgICAgIHJldHVybiBob3VycyAlIDEyOwogICAgfQoKICAgIHJldHVybiBob3VyczsKICB9LAogIC8vIEhvdXI6IDAxLCAwMiwgLi4uLCAxMgogIGhoOiBmdW5jdGlvbiBoaChkYXRlKSB7CiAgICByZXR1cm4gcGFkKHRoaXMuaChkYXRlKSk7CiAgfSwKICAvLyBNaW51dGU6IDAsIDEsIC4uLiwgNTkKICBtOiBmdW5jdGlvbiBtKGRhdGUpIHsKICAgIHJldHVybiBkYXRlLmdldE1pbnV0ZXMoKTsKICB9LAogIC8vIE1pbnV0ZTogMDAsIDAxLCAuLi4sIDU5CiAgbW06IGZ1bmN0aW9uIG1tKGRhdGUpIHsKICAgIHJldHVybiBwYWQoZGF0ZS5nZXRNaW51dGVzKCkpOwogIH0sCiAgLy8gU2Vjb25kOiAwLCAxLCAuLi4sIDU5CiAgczogZnVuY3Rpb24gcyhkYXRlKSB7CiAgICByZXR1cm4gZGF0ZS5nZXRTZWNvbmRzKCk7CiAgfSwKICAvLyBTZWNvbmQ6IDAwLCAwMSwgLi4uLCA1OQogIHNzOiBmdW5jdGlvbiBzcyhkYXRlKSB7CiAgICByZXR1cm4gcGFkKGRhdGUuZ2V0U2Vjb25kcygpKTsKICB9LAogIC8vIDEvMTAgb2Ygc2Vjb25kOiAwLCAxLCAuLi4sIDkKICBTOiBmdW5jdGlvbiBTKGRhdGUpIHsKICAgIHJldHVybiBNYXRoLmZsb29yKGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLyAxMDApOwogIH0sCiAgLy8gMS8xMDAgb2Ygc2Vjb25kOiAwMCwgMDEsIC4uLiwgOTkKICBTUzogZnVuY3Rpb24gU1MoZGF0ZSkgewogICAgcmV0dXJuIHBhZChNYXRoLmZsb29yKGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLyAxMCkpOwogIH0sCiAgLy8gTWlsbGlzZWNvbmQ6IDAwMCwgMDAxLCAuLi4sIDk5OQogIFNTUzogZnVuY3Rpb24gU1NTKGRhdGUpIHsKICAgIHJldHVybiBwYWQoZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSwgMyk7CiAgfSwKICAvLyBNZXJpZGllbTogQU0sIFBNCiAgQTogZnVuY3Rpb24gQShkYXRlKSB7CiAgICByZXR1cm4gdGhpcy5IKGRhdGUpIDwgMTIgPyAnQU0nIDogJ1BNJzsKICB9LAogIC8vIE1lcmlkaWVtOiBhbSwgcG0KICBhOiBmdW5jdGlvbiBhKGRhdGUpIHsKICAgIHJldHVybiB0aGlzLkgoZGF0ZSkgPCAxMiA/ICdhbScgOiAncG0nOwogIH0sCiAgLy8gTWVyaWRpZW06IGEubS4sIHAubS4KICBhYTogZnVuY3Rpb24gYWEoZGF0ZSkgewogICAgcmV0dXJuIHRoaXMuSChkYXRlKSA8IDEyID8gJ2EubS4nIDogJ3AubS4nOwogIH0sCiAgLy8gVGltZXpvbmU6IC0wMTowMCwgKzAwOjAwLCAuLi4gKzEyOjAwCiAgWjogZnVuY3Rpb24gWihkYXRlLCBkYXRlTG9jYWxlLCBmb3JjZWRZZWFyLCBmb3JjZWRUaW1lem9uZU9mZnNldCkgewogICAgdmFyIHR6T2Zmc2V0ID0gZm9yY2VkVGltZXpvbmVPZmZzZXQgPT09IHZvaWQgMCB8fCBmb3JjZWRUaW1lem9uZU9mZnNldCA9PT0gbnVsbCA/IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSA6IGZvcmNlZFRpbWV6b25lT2Zmc2V0OwogICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHR6T2Zmc2V0LCAnOicpOwogIH0sCiAgLy8gVGltZXpvbmU6IC0wMTAwLCArMDAwMCwgLi4uICsxMjAwCiAgWlo6IGZ1bmN0aW9uIFpaKGRhdGUsIGRhdGVMb2NhbGUsIGZvcmNlZFllYXIsIGZvcmNlZFRpbWV6b25lT2Zmc2V0KSB7CiAgICB2YXIgdHpPZmZzZXQgPSBmb3JjZWRUaW1lem9uZU9mZnNldCA9PT0gdm9pZCAwIHx8IGZvcmNlZFRpbWV6b25lT2Zmc2V0ID09PSBudWxsID8gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpIDogZm9yY2VkVGltZXpvbmVPZmZzZXQ7CiAgICByZXR1cm4gZm9ybWF0VGltZXpvbmUodHpPZmZzZXQpOwogIH0sCiAgLy8gU2Vjb25kcyB0aW1lc3RhbXA6IDUxMjk2OTUyMAogIFg6IGZ1bmN0aW9uIFgoZGF0ZSkgewogICAgcmV0dXJuIE1hdGguZmxvb3IoZGF0ZS5nZXRUaW1lKCkgLyAxMDAwKTsKICB9LAogIC8vIE1pbGxpc2Vjb25kcyB0aW1lc3RhbXA6IDUxMjk2OTUyMDkwMAogIHg6IGZ1bmN0aW9uIHgoZGF0ZSkgewogICAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpOwogIH0KfTsKZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGUodmFsLCBtYXNrLCBkYXRlTG9jYWxlLCBfX2ZvcmNlZFllYXIsIF9fZm9yY2VkVGltZXpvbmVPZmZzZXQpIHsKICBpZiAodmFsICE9PSAwICYmICF2YWwgfHwgdmFsID09PSBJbmZpbml0eSB8fCB2YWwgPT09IC1JbmZpbml0eSkgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh2YWwpOwoKICBpZiAoaXNOYU4oZGF0ZSkpIHsKICAgIHJldHVybjsKICB9CgogIGlmIChtYXNrID09PSB2b2lkIDApIHsKICAgIG1hc2sgPSBkZWZhdWx0TWFzazsKICB9CgogIHZhciBsb2NhbGUgPSBnZXREYXRlTG9jYWxlKGRhdGVMb2NhbGUsIGxhbmcucHJvcHMpOwogIHJldHVybiBtYXNrLnJlcGxhY2UodG9rZW4sIGZ1bmN0aW9uIChtYXRjaCwgdGV4dCkgewogICAgcmV0dXJuIG1hdGNoIGluIGZvcm1hdHRlciA/IGZvcm1hdHRlclttYXRjaF0oZGF0ZSwgbG9jYWxlLCBfX2ZvcmNlZFllYXIsIF9fZm9yY2VkVGltZXpvbmVPZmZzZXQpIDogdGV4dCA9PT0gdm9pZCAwID8gbWF0Y2ggOiB0ZXh0LnNwbGl0KCdcXF0nKS5qb2luKCddJyk7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGRhdGUpIHsKICByZXR1cm4gaXNEYXRlKGRhdGUpID09PSB0cnVlID8gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpIDogZGF0ZTsKfQpleHBvcnQgZGVmYXVsdCB7CiAgaXNWYWxpZDogaXNWYWxpZCwKICBleHRyYWN0RGF0ZTogZXh0cmFjdERhdGUsCiAgYnVpbGREYXRlOiBidWlsZERhdGUsCiAgZ2V0RGF5T2ZXZWVrOiBnZXREYXlPZldlZWssCiAgZ2V0V2Vla09mWWVhcjogZ2V0V2Vla09mWWVhciwKICBpc0JldHdlZW5EYXRlczogaXNCZXR3ZWVuRGF0ZXMsCiAgYWRkVG9EYXRlOiBhZGRUb0RhdGUsCiAgc3VidHJhY3RGcm9tRGF0ZTogc3VidHJhY3RGcm9tRGF0ZSwKICBhZGp1c3REYXRlOiBhZGp1c3REYXRlLAogIHN0YXJ0T2ZEYXRlOiBzdGFydE9mRGF0ZSwKICBlbmRPZkRhdGU6IGVuZE9mRGF0ZSwKICBnZXRNYXhEYXRlOiBnZXRNYXhEYXRlLAogIGdldE1pbkRhdGU6IGdldE1pbkRhdGUsCiAgZ2V0RGF0ZURpZmY6IGdldERhdGVEaWZmLAogIGdldERheU9mWWVhcjogZ2V0RGF5T2ZZZWFyLAogIGluZmVyRGF0ZUZvcm1hdDogaW5mZXJEYXRlRm9ybWF0LAogIGdldERhdGVCZXR3ZWVuOiBnZXREYXRlQmV0d2VlbiwKICBpc1NhbWVEYXRlOiBpc1NhbWVEYXRlLAogIGRheXNJbk1vbnRoOiBkYXlzSW5Nb250aCwKICBmb3JtYXREYXRlOiBmb3JtYXREYXRlLAogIGNsb25lOiBjbG9uZQp9Ow=="},{"version":3,"sources":["/app/node_modules/quasar/src/utils/date.js"],"names":["isDate","pad","capitalize","jalaaliMonthLength","lang","defaultLang","MILLISECONDS_IN_DAY","MILLISECONDS_IN_HOUR","MILLISECONDS_IN_MINUTE","defaultMask","token","reverseToken","regexStore","getRegexData","mask","dateLocale","days","join","key","daysShort","months","monthsShort","map","index","regexText","replace","match","YY","YYYY","M","MMM","MMMM","D","H","h","m","s","S","A","a","aa","Z","ZZ","X","x","substring","length","res","regex","RegExp","getDateLocale","paramDateLocale","langProps","date","formatTimezone","offset","delimeter","sign","absOffset","Math","abs","hours","floor","minutes","applyYearMonthDayChange","mod","year","getFullYear","month","getMonth","day","getDate","years","setDate","setMonth","setFullYear","getChange","d","Date","t","op","applyYearMonthDay","middle","maxDay","min","adjustDate","utc","charAt","toUpperCase","slice","extractDate","str","__splitDate","hour","minute","second","millisecond","tzOffset","getTimezoneOffset","timezoneOffset","calendar","defaultModel","dateHash","timeHash","Object","assign","langOpts","props","tzString","stamp","parseInt","isNaN","getHours","getMinutes","getSeconds","getMilliseconds","y","indexOf","isValid","parse","buildDate","getDayOfWeek","dow","getDay","getWeekOfYear","thursday","firstThursday","ds","setHours","weekDiff","getDayIdentifier","getDateIdentifier","onlyDate","getTime","isBetweenDates","from","to","opts","d1","d2","cur","inclusiveFrom","inclusiveTo","addToDate","subtractFromDate","startOfDate","unit","prefix","endOfDate","daysInMonth","getMaxDate","Array","prototype","call","arguments","forEach","max","getMinDate","getDiff","sub","interval","getDateDiff","subtract","getDayOfYear","inferDateFormat","getDateBetween","low","high","isSameDate","date2","Error","getOrdinal","n","formatter","_","forcedYear","MM","Q","ceil","Qo","Do","DD","DDD","DDDD","dd","dddd","ddd","E","w","ww","HH","hh","mm","ss","SS","SSS","forcedTimezoneOffset","formatDate","val","__forcedYear","__forcedTimezoneOffset","Infinity","locale","text","split","clone"],"mappings":"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","sourcesContent":["/* eslint no-fallthrough: 0 */\n\nimport { isDate } from './private/is.js'\nimport { pad, capitalize } from './format.js'\nimport { jalaaliMonthLength } from './private/date-persian.js'\nimport lang, { defaultLang } from '../lang.js'\n\nconst\n  MILLISECONDS_IN_DAY = 86400000,\n  MILLISECONDS_IN_HOUR = 3600000,\n  MILLISECONDS_IN_MINUTE = 60000,\n  defaultMask = 'YYYY-MM-DDTHH:mm:ss.SSSZ',\n  token = /\\[((?:[^\\]\\\\]|\\\\]|\\\\)*)\\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,\n  reverseToken = /(\\[[^\\]]*\\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\\s${}()|\\\\]+)/g,\n  regexStore = {}\n\nfunction getRegexData (mask, dateLocale) {\n  const\n    days = '(' + dateLocale.days.join('|') + ')',\n    key = mask + days\n\n  if (regexStore[ key ] !== void 0) {\n    return regexStore[ key ]\n  }\n\n  const\n    daysShort = '(' + dateLocale.daysShort.join('|') + ')',\n    months = '(' + dateLocale.months.join('|') + ')',\n    monthsShort = '(' + dateLocale.monthsShort.join('|') + ')'\n\n  const map = {}\n  let index = 0\n\n  const regexText = mask.replace(reverseToken, match => {\n    index++\n    switch (match) {\n      case 'YY':\n        map.YY = index\n        return '(-?\\\\d{1,2})'\n      case 'YYYY':\n        map.YYYY = index\n        return '(-?\\\\d{1,4})'\n      case 'M':\n        map.M = index\n        return '(\\\\d{1,2})'\n      case 'MM':\n        map.M = index // bumping to M\n        return '(\\\\d{2})'\n      case 'MMM':\n        map.MMM = index\n        return monthsShort\n      case 'MMMM':\n        map.MMMM = index\n        return months\n      case 'D':\n        map.D = index\n        return '(\\\\d{1,2})'\n      case 'Do':\n        map.D = index++ // bumping to D\n        return '(\\\\d{1,2}(st|nd|rd|th))'\n      case 'DD':\n        map.D = index // bumping to D\n        return '(\\\\d{2})'\n      case 'H':\n        map.H = index\n        return '(\\\\d{1,2})'\n      case 'HH':\n        map.H = index // bumping to H\n        return '(\\\\d{2})'\n      case 'h':\n        map.h = index\n        return '(\\\\d{1,2})'\n      case 'hh':\n        map.h = index // bumping to h\n        return '(\\\\d{2})'\n      case 'm':\n        map.m = index\n        return '(\\\\d{1,2})'\n      case 'mm':\n        map.m = index // bumping to m\n        return '(\\\\d{2})'\n      case 's':\n        map.s = index\n        return '(\\\\d{1,2})'\n      case 'ss':\n        map.s = index // bumping to s\n        return '(\\\\d{2})'\n      case 'S':\n        map.S = index\n        return '(\\\\d{1})'\n      case 'SS':\n        map.S = index // bump to S\n        return '(\\\\d{2})'\n      case 'SSS':\n        map.S = index // bump to S\n        return '(\\\\d{3})'\n      case 'A':\n        map.A = index\n        return '(AM|PM)'\n      case 'a':\n        map.a = index\n        return '(am|pm)'\n      case 'aa':\n        map.aa = index\n        return '(a\\\\.m\\\\.|p\\\\.m\\\\.)'\n\n      case 'ddd':\n        return daysShort\n      case 'dddd':\n        return days\n      case 'Q':\n      case 'd':\n      case 'E':\n        return '(\\\\d{1})'\n      case 'Qo':\n        return '(1st|2nd|3rd|4th)'\n      case 'DDD':\n      case 'DDDD':\n        return '(\\\\d{1,3})'\n      case 'w':\n        return '(\\\\d{1,2})'\n      case 'ww':\n        return '(\\\\d{2})'\n\n      case 'Z': // to split: (?:(Z)()()|([+-])?(\\\\d{2}):?(\\\\d{2}))\n        map.Z = index\n        return '(Z|[+-]\\\\d{2}:\\\\d{2})'\n      case 'ZZ':\n        map.ZZ = index\n        return '(Z|[+-]\\\\d{2}\\\\d{2})'\n\n      case 'X':\n        map.X = index\n        return '(-?\\\\d+)'\n      case 'x':\n        map.x = index\n        return '(-?\\\\d{4,})'\n\n      default:\n        index--\n        if (match[ 0 ] === '[') {\n          match = match.substring(1, match.length - 1)\n        }\n        return match.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n    }\n  })\n\n  const res = { map, regex: new RegExp('^' + regexText) }\n  regexStore[ key ] = res\n\n  return res\n}\n\nfunction getDateLocale (paramDateLocale, langProps) {\n  return paramDateLocale !== void 0\n    ? paramDateLocale\n    : (\n        langProps !== void 0\n          ? langProps.date\n          : defaultLang.date\n      )\n}\n\nfunction formatTimezone (offset, delimeter = '') {\n  const\n    sign = offset > 0 ? '-' : '+',\n    absOffset = Math.abs(offset),\n    hours = Math.floor(absOffset / 60),\n    minutes = absOffset % 60\n\n  return sign + pad(hours) + delimeter + pad(minutes)\n}\n\nfunction applyYearMonthDayChange (date, mod, sign) {\n  let\n    year = date.getFullYear(),\n    month = date.getMonth(),\n    day = date.getDate()\n\n  if (mod.years !== void 0) {\n    year += sign * mod.years\n  }\n\n  if (mod.months !== void 0) {\n    month += sign * mod.months\n  }\n\n  if (mod.days !== void 0) {\n    day += sign * mod.days\n  }\n\n  date.setDate(1)\n  date.setMonth(2)\n\n  date.setFullYear(year)\n  date.setMonth(month)\n  date.setDate(day)\n\n  return date\n}\n\nfunction getChange (date, mod, sign) {\n  const\n    d = new Date(date),\n    t = mod.years !== void 0 || mod.months !== void 0 || mod.days !== void 0\n      ? applyYearMonthDayChange(d, mod, sign)\n      : d\n\n  for (const key in mod) {\n    if (key !== 'years' && key !== 'months' && key !== 'days') {\n      const op = capitalize(key)\n      t[ `set${ op }` ](t[ `get${ op }` ]() + sign * mod[ key ])\n    }\n  }\n\n  return t\n}\n\nfunction applyYearMonthDay (date, mod, middle) {\n  const\n    year = mod.year !== void 0 ? mod.year : date[ `get${ middle }FullYear` ](),\n    month = mod.month !== void 0 ? mod.month - 1 : date[ `get${ middle }Month` ](),\n    maxDay = (new Date(year, month + 1, 0)).getDate(),\n    day = Math.min(maxDay, mod.date !== void 0 ? mod.date : date[ `get${ middle }Date` ]())\n\n  date[ `set${ middle }Date` ](1)\n  date[ `set${ middle }Month` ](2)\n\n  date[ `set${ middle }FullYear` ](year)\n  date[ `set${ middle }Month` ](month)\n  date[ `set${ middle }Date` ](day)\n\n  return date\n}\n\nexport function adjustDate (date, mod, utc) {\n  const\n    middle = utc === true ? 'UTC' : '',\n    d = new Date(date),\n    t = mod.year !== void 0 || mod.month !== void 0 || mod.date !== void 0\n      ? applyYearMonthDay(d, mod, middle)\n      : d\n\n  for (const key in mod) {\n    if (key !== 'year' && key !== 'month' && key !== 'date') {\n      const op = key.charAt(0).toUpperCase() + key.slice(1)\n      t[ `set${ middle }${ op }` ](mod[ key ])\n    }\n  }\n\n  return t\n}\n\nexport function extractDate (str, mask, dateLocale) {\n  const d = __splitDate(str, mask, dateLocale)\n\n  const date = new Date(\n    d.year,\n    d.month === null ? null : d.month - 1,\n    d.day,\n    d.hour,\n    d.minute,\n    d.second,\n    d.millisecond\n  )\n\n  const tzOffset = date.getTimezoneOffset()\n\n  return d.timezoneOffset === null || d.timezoneOffset === tzOffset\n    ? date\n    : getChange(date, { minutes: d.timezoneOffset - tzOffset }, 1)\n}\n\nexport function __splitDate (str, mask, dateLocale, calendar, defaultModel) {\n  const date = {\n    year: null,\n    month: null,\n    day: null,\n    hour: null,\n    minute: null,\n    second: null,\n    millisecond: null,\n    timezoneOffset: null,\n    dateHash: null,\n    timeHash: null\n  }\n\n  defaultModel !== void 0 && Object.assign(date, defaultModel)\n\n  if (\n    str === void 0\n    || str === null\n    || str === ''\n    || typeof str !== 'string'\n  ) {\n    return date\n  }\n\n  if (mask === void 0) {\n    mask = defaultMask\n  }\n\n  const\n    langOpts = getDateLocale(dateLocale, lang.props),\n    months = langOpts.months,\n    monthsShort = langOpts.monthsShort\n\n  const { regex, map } = getRegexData(mask, langOpts)\n\n  const match = str.match(regex)\n\n  if (match === null) {\n    return date\n  }\n\n  let tzString = ''\n\n  if (map.X !== void 0 || map.x !== void 0) {\n    const stamp = parseInt(match[ map.X !== void 0 ? map.X : map.x ], 10)\n\n    if (isNaN(stamp) === true || stamp < 0) {\n      return date\n    }\n\n    const d = new Date(stamp * (map.X !== void 0 ? 1000 : 1))\n\n    date.year = d.getFullYear()\n    date.month = d.getMonth() + 1\n    date.day = d.getDate()\n    date.hour = d.getHours()\n    date.minute = d.getMinutes()\n    date.second = d.getSeconds()\n    date.millisecond = d.getMilliseconds()\n  }\n  else {\n    if (map.YYYY !== void 0) {\n      date.year = parseInt(match[ map.YYYY ], 10)\n    }\n    else if (map.YY !== void 0) {\n      const y = parseInt(match[ map.YY ], 10)\n      date.year = y < 0 ? y : 2000 + y\n    }\n\n    if (map.M !== void 0) {\n      date.month = parseInt(match[ map.M ], 10)\n      if (date.month < 1 || date.month > 12) {\n        return date\n      }\n    }\n    else if (map.MMM !== void 0) {\n      date.month = monthsShort.indexOf(match[ map.MMM ]) + 1\n    }\n    else if (map.MMMM !== void 0) {\n      date.month = months.indexOf(match[ map.MMMM ]) + 1\n    }\n\n    if (map.D !== void 0) {\n      date.day = parseInt(match[ map.D ], 10)\n\n      if (date.year === null || date.month === null || date.day < 1) {\n        return date\n      }\n\n      const maxDay = calendar !== 'persian'\n        ? (new Date(date.year, date.month, 0)).getDate()\n        : jalaaliMonthLength(date.year, date.month)\n\n      if (date.day > maxDay) {\n        return date\n      }\n    }\n\n    if (map.H !== void 0) {\n      date.hour = parseInt(match[ map.H ], 10) % 24\n    }\n    else if (map.h !== void 0) {\n      date.hour = parseInt(match[ map.h ], 10) % 12\n      if (\n        (map.A && match[ map.A ] === 'PM')\n        || (map.a && match[ map.a ] === 'pm')\n        || (map.aa && match[ map.aa ] === 'p.m.')\n      ) {\n        date.hour += 12\n      }\n      date.hour = date.hour % 24\n    }\n\n    if (map.m !== void 0) {\n      date.minute = parseInt(match[ map.m ], 10) % 60\n    }\n\n    if (map.s !== void 0) {\n      date.second = parseInt(match[ map.s ], 10) % 60\n    }\n\n    if (map.S !== void 0) {\n      date.millisecond = parseInt(match[ map.S ], 10) * 10 ** (3 - match[ map.S ].length)\n    }\n\n    if (map.Z !== void 0 || map.ZZ !== void 0) {\n      tzString = (map.Z !== void 0 ? match[ map.Z ].replace(':', '') : match[ map.ZZ ])\n      date.timezoneOffset = (tzString[ 0 ] === '+' ? -1 : 1) * (60 * tzString.slice(1, 3) + 1 * tzString.slice(3, 5))\n    }\n  }\n\n  date.dateHash = pad(date.year, 6) + '/' + pad(date.month) + '/' + pad(date.day)\n  date.timeHash = pad(date.hour) + ':' + pad(date.minute) + ':' + pad(date.second) + tzString\n\n  return date\n}\n\nexport function isValid (date) {\n  return typeof date === 'number'\n    ? true\n    : isNaN(Date.parse(date)) === false\n}\n\nexport function buildDate (mod, utc) {\n  return adjustDate(new Date(), mod, utc)\n}\n\nexport function getDayOfWeek (date) {\n  const dow = new Date(date).getDay()\n  return dow === 0 ? 7 : dow\n}\n\nexport function getWeekOfYear (date) {\n  // Remove time components of date\n  const thursday = new Date(date.getFullYear(), date.getMonth(), date.getDate())\n\n  // Change date to Thursday same week\n  thursday.setDate(thursday.getDate() - ((thursday.getDay() + 6) % 7) + 3)\n\n  // Take January 4th as it is always in week 1 (see ISO 8601)\n  const firstThursday = new Date(thursday.getFullYear(), 0, 4)\n\n  // Change date to Thursday same week\n  firstThursday.setDate(firstThursday.getDate() - ((firstThursday.getDay() + 6) % 7) + 3)\n\n  // Check if daylight-saving-time-switch occurred and correct for it\n  const ds = thursday.getTimezoneOffset() - firstThursday.getTimezoneOffset()\n  thursday.setHours(thursday.getHours() - ds)\n\n  // Number of weeks between target Thursday and first Thursday\n  const weekDiff = (thursday - firstThursday) / (MILLISECONDS_IN_DAY * 7)\n  return 1 + Math.floor(weekDiff)\n}\n\nfunction getDayIdentifier (date) {\n  return date.getFullYear() * 10000 + date.getMonth() * 100 + date.getDate()\n}\n\nfunction getDateIdentifier (date, onlyDate /* = false */) {\n  const d = new Date(date)\n  return onlyDate === true ? getDayIdentifier(d) : d.getTime()\n}\n\nexport function isBetweenDates (date, from, to, opts = {}) {\n  const\n    d1 = getDateIdentifier(from, opts.onlyDate),\n    d2 = getDateIdentifier(to, opts.onlyDate),\n    cur = getDateIdentifier(date, opts.onlyDate)\n\n  return (cur > d1 || (opts.inclusiveFrom === true && cur === d1))\n    && (cur < d2 || (opts.inclusiveTo === true && cur === d2))\n}\n\nexport function addToDate (date, mod) {\n  return getChange(date, mod, 1)\n}\nexport function subtractFromDate (date, mod) {\n  return getChange(date, mod, -1)\n}\n\nexport function startOfDate (date, unit, utc) {\n  const\n    t = new Date(date),\n    prefix = `set${ utc === true ? 'UTC' : '' }`\n\n  switch (unit) {\n    case 'year':\n      t[ `${ prefix }Month` ](0)\n    case 'month':\n      t[ `${ prefix }Date` ](1)\n    case 'day':\n      t[ `${ prefix }Hours` ](0)\n    case 'hour':\n      t[ `${ prefix }Minutes` ](0)\n    case 'minute':\n      t[ `${ prefix }Seconds` ](0)\n    case 'second':\n      t[ `${ prefix }Milliseconds` ](0)\n  }\n  return t\n}\n\nexport function endOfDate (date, unit, utc) {\n  const\n    t = new Date(date),\n    prefix = `set${ utc === true ? 'UTC' : '' }`\n\n  switch (unit) {\n    case 'year':\n      t[ `${ prefix }Month` ](11)\n    case 'month':\n      t[ `${ prefix }Date` ](daysInMonth(t))\n    case 'day':\n      t[ `${ prefix }Hours` ](23)\n    case 'hour':\n      t[ `${ prefix }Minutes` ](59)\n    case 'minute':\n      t[ `${ prefix }Seconds` ](59)\n    case 'second':\n      t[ `${ prefix }Milliseconds` ](999)\n  }\n  return t\n}\n\nexport function getMaxDate (date /* , ...args */) {\n  let t = new Date(date)\n  Array.prototype.slice.call(arguments, 1).forEach(d => {\n    t = Math.max(t, new Date(d))\n  })\n  return t\n}\n\nexport function getMinDate (date /*, ...args */) {\n  let t = new Date(date)\n  Array.prototype.slice.call(arguments, 1).forEach(d => {\n    t = Math.min(t, new Date(d))\n  })\n  return t\n}\n\nfunction getDiff (t, sub, interval) {\n  return (\n    (t.getTime() - t.getTimezoneOffset() * MILLISECONDS_IN_MINUTE)\n    - (sub.getTime() - sub.getTimezoneOffset() * MILLISECONDS_IN_MINUTE)\n  ) / interval\n}\n\nexport function getDateDiff (date, subtract, unit = 'days') {\n  const\n    t = new Date(date),\n    sub = new Date(subtract)\n\n  switch (unit) {\n    case 'years':\n      return (t.getFullYear() - sub.getFullYear())\n\n    case 'months':\n      return (t.getFullYear() - sub.getFullYear()) * 12 + t.getMonth() - sub.getMonth()\n\n    case 'days':\n      return getDiff(startOfDate(t, 'day'), startOfDate(sub, 'day'), MILLISECONDS_IN_DAY)\n\n    case 'hours':\n      return getDiff(startOfDate(t, 'hour'), startOfDate(sub, 'hour'), MILLISECONDS_IN_HOUR)\n\n    case 'minutes':\n      return getDiff(startOfDate(t, 'minute'), startOfDate(sub, 'minute'), MILLISECONDS_IN_MINUTE)\n\n    case 'seconds':\n      return getDiff(startOfDate(t, 'second'), startOfDate(sub, 'second'), 1000)\n  }\n}\n\nexport function getDayOfYear (date) {\n  return getDateDiff(date, startOfDate(date, 'year'), 'days') + 1\n}\n\nexport function inferDateFormat (date) {\n  return isDate(date) === true\n    ? 'date'\n    : (typeof date === 'number' ? 'number' : 'string')\n}\n\nexport function getDateBetween (date, min, max) {\n  const t = new Date(date)\n\n  if (min) {\n    const low = new Date(min)\n    if (t < low) {\n      return low\n    }\n  }\n\n  if (max) {\n    const high = new Date(max)\n    if (t > high) {\n      return high\n    }\n  }\n\n  return t\n}\n\nexport function isSameDate (date, date2, unit) {\n  const\n    t = new Date(date),\n    d = new Date(date2)\n\n  if (unit === void 0) {\n    return t.getTime() === d.getTime()\n  }\n\n  switch (unit) {\n    case 'second':\n      if (t.getSeconds() !== d.getSeconds()) {\n        return false\n      }\n    case 'minute': // intentional fall-through\n      if (t.getMinutes() !== d.getMinutes()) {\n        return false\n      }\n    case 'hour': // intentional fall-through\n      if (t.getHours() !== d.getHours()) {\n        return false\n      }\n    case 'day': // intentional fall-through\n      if (t.getDate() !== d.getDate()) {\n        return false\n      }\n    case 'month': // intentional fall-through\n      if (t.getMonth() !== d.getMonth()) {\n        return false\n      }\n    case 'year': // intentional fall-through\n      if (t.getFullYear() !== d.getFullYear()) {\n        return false\n      }\n      break\n    default:\n      throw new Error(`date isSameDate unknown unit ${ unit }`)\n  }\n\n  return true\n}\n\nexport function daysInMonth (date) {\n  return (new Date(date.getFullYear(), date.getMonth() + 1, 0)).getDate()\n}\n\nfunction getOrdinal (n) {\n  if (n >= 11 && n <= 13) {\n    return `${ n }th`\n  }\n  switch (n % 10) {\n    case 1: return `${ n }st`\n    case 2: return `${ n }nd`\n    case 3: return `${ n }rd`\n  }\n  return `${ n }th`\n}\n\nconst formatter = {\n  // Year: 00, 01, ..., 99\n  YY (date, _, forcedYear) {\n    // workaround for < 1900 with new Date()\n    const y = this.YYYY(date, _, forcedYear) % 100\n    return y > 0\n      ? pad(y)\n      : '-' + pad(Math.abs(y))\n  },\n\n  // Year: 1900, 1901, ..., 2099\n  YYYY (date, _, forcedYear) {\n    // workaround for < 1900 with new Date()\n    return forcedYear !== void 0 && forcedYear !== null\n      ? forcedYear\n      : date.getFullYear()\n  },\n\n  // Month: 1, 2, ..., 12\n  M (date) {\n    return date.getMonth() + 1\n  },\n\n  // Month: 01, 02, ..., 12\n  MM (date) {\n    return pad(date.getMonth() + 1)\n  },\n\n  // Month Short Name: Jan, Feb, ...\n  MMM (date, dateLocale) {\n    return dateLocale.monthsShort[ date.getMonth() ]\n  },\n\n  // Month Name: January, February, ...\n  MMMM (date, dateLocale) {\n    return dateLocale.months[ date.getMonth() ]\n  },\n\n  // Quarter: 1, 2, 3, 4\n  Q (date) {\n    return Math.ceil((date.getMonth() + 1) / 3)\n  },\n\n  // Quarter: 1st, 2nd, 3rd, 4th\n  Qo (date) {\n    return getOrdinal(this.Q(date))\n  },\n\n  // Day of month: 1, 2, ..., 31\n  D (date) {\n    return date.getDate()\n  },\n\n  // Day of month: 1st, 2nd, ..., 31st\n  Do (date) {\n    return getOrdinal(date.getDate())\n  },\n\n  // Day of month: 01, 02, ..., 31\n  DD (date) {\n    return pad(date.getDate())\n  },\n\n  // Day of year: 1, 2, ..., 366\n  DDD (date) {\n    return getDayOfYear(date)\n  },\n\n  // Day of year: 001, 002, ..., 366\n  DDDD (date) {\n    return pad(getDayOfYear(date), 3)\n  },\n\n  // Day of week: 0, 1, ..., 6\n  d (date) {\n    return date.getDay()\n  },\n\n  // Day of week: Su, Mo, ...\n  dd (date, dateLocale) {\n    return this.dddd(date, dateLocale).slice(0, 2)\n  },\n\n  // Day of week: Sun, Mon, ...\n  ddd (date, dateLocale) {\n    return dateLocale.daysShort[ date.getDay() ]\n  },\n\n  // Day of week: Sunday, Monday, ...\n  dddd (date, dateLocale) {\n    return dateLocale.days[ date.getDay() ]\n  },\n\n  // Day of ISO week: 1, 2, ..., 7\n  E (date) {\n    return date.getDay() || 7\n  },\n\n  // Week of Year: 1 2 ... 52 53\n  w (date) {\n    return getWeekOfYear(date)\n  },\n\n  // Week of Year: 01 02 ... 52 53\n  ww (date) {\n    return pad(getWeekOfYear(date))\n  },\n\n  // Hour: 0, 1, ... 23\n  H (date) {\n    return date.getHours()\n  },\n\n  // Hour: 00, 01, ..., 23\n  HH (date) {\n    return pad(date.getHours())\n  },\n\n  // Hour: 1, 2, ..., 12\n  h (date) {\n    const hours = date.getHours()\n    if (hours === 0) {\n      return 12\n    }\n    if (hours > 12) {\n      return hours % 12\n    }\n    return hours\n  },\n\n  // Hour: 01, 02, ..., 12\n  hh (date) {\n    return pad(this.h(date))\n  },\n\n  // Minute: 0, 1, ..., 59\n  m (date) {\n    return date.getMinutes()\n  },\n\n  // Minute: 00, 01, ..., 59\n  mm (date) {\n    return pad(date.getMinutes())\n  },\n\n  // Second: 0, 1, ..., 59\n  s (date) {\n    return date.getSeconds()\n  },\n\n  // Second: 00, 01, ..., 59\n  ss (date) {\n    return pad(date.getSeconds())\n  },\n\n  // 1/10 of second: 0, 1, ..., 9\n  S (date) {\n    return Math.floor(date.getMilliseconds() / 100)\n  },\n\n  // 1/100 of second: 00, 01, ..., 99\n  SS (date) {\n    return pad(Math.floor(date.getMilliseconds() / 10))\n  },\n\n  // Millisecond: 000, 001, ..., 999\n  SSS (date) {\n    return pad(date.getMilliseconds(), 3)\n  },\n\n  // Meridiem: AM, PM\n  A (date) {\n    return this.H(date) < 12 ? 'AM' : 'PM'\n  },\n\n  // Meridiem: am, pm\n  a (date) {\n    return this.H(date) < 12 ? 'am' : 'pm'\n  },\n\n  // Meridiem: a.m., p.m.\n  aa (date) {\n    return this.H(date) < 12 ? 'a.m.' : 'p.m.'\n  },\n\n  // Timezone: -01:00, +00:00, ... +12:00\n  Z (date, dateLocale, forcedYear, forcedTimezoneOffset) {\n    const tzOffset = forcedTimezoneOffset === void 0 || forcedTimezoneOffset === null\n      ? date.getTimezoneOffset()\n      : forcedTimezoneOffset\n\n    return formatTimezone(tzOffset, ':')\n  },\n\n  // Timezone: -0100, +0000, ... +1200\n  ZZ (date, dateLocale, forcedYear, forcedTimezoneOffset) {\n    const tzOffset = forcedTimezoneOffset === void 0 || forcedTimezoneOffset === null\n      ? date.getTimezoneOffset()\n      : forcedTimezoneOffset\n\n    return formatTimezone(tzOffset)\n  },\n\n  // Seconds timestamp: 512969520\n  X (date) {\n    return Math.floor(date.getTime() / 1000)\n  },\n\n  // Milliseconds timestamp: 512969520900\n  x (date) {\n    return date.getTime()\n  }\n}\n\nexport function formatDate (val, mask, dateLocale, __forcedYear, __forcedTimezoneOffset) {\n  if (\n    (val !== 0 && !val)\n    || val === Infinity\n    || val === -Infinity\n  ) {\n    return\n  }\n\n  const date = new Date(val)\n\n  if (isNaN(date)) {\n    return\n  }\n\n  if (mask === void 0) {\n    mask = defaultMask\n  }\n\n  const locale = getDateLocale(dateLocale, lang.props)\n\n  return mask.replace(\n    token,\n    (match, text) => (\n      match in formatter\n        ? formatter[ match ](date, locale, __forcedYear, __forcedTimezoneOffset)\n        : (text === void 0 ? match : text.split('\\\\]').join(']'))\n    )\n  )\n}\n\nexport function clone (date) {\n  return isDate(date) === true\n    ? new Date(date.getTime())\n    : date\n}\n\nexport default {\n  isValid,\n  extractDate,\n  buildDate,\n  getDayOfWeek,\n  getWeekOfYear,\n  isBetweenDates,\n  addToDate,\n  subtractFromDate,\n  adjustDate,\n  startOfDate,\n  endOfDate,\n  getMaxDate,\n  getMinDate,\n  getDateDiff,\n  getDayOfYear,\n  inferDateFormat,\n  getDateBetween,\n  isSameDate,\n  daysInMonth,\n  formatDate,\n  clone\n}\n"]}]}