{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-0!/app/node_modules/cache-loader/dist/cjs.js??ref--1-1!/app/node_modules/vue-loader-v16/dist/index.js??ref--1-2!/app/src/components/Comments/Add.vue?vue&type=script&lang=js","dependencies":[{"path":"/app/src/components/Comments/Add.vue","mtime":1641198370373},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1640299636617},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js","mtime":1640775278388},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1640299655523}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBDb250YWluZXIgZnJvbSAiQC9jb21wb25lbnRzL0NvbnRhaW5lci52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkZENvbW1lbnRDb21wb25lbnQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByYXRpbmc6IDAsCiAgICAgIHNpdGVfbGluazogIiIsCiAgICAgIHNpdGVfbmFtZTogIiIsCiAgICAgIHRpdGxlOiAiIiwKICAgICAgY29udGVudDogIiIsCiAgICAgIHN1Ym1pdHRpbmc6IGZhbHNlLAogICAgICBlcnJvcnM6IHsKICAgICAgICBzaXRlX2xpbms6IHsKICAgICAgICAgIGlzVmFsaWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAiVGhlIHNpdGVfbGluayBpcyByZXF1aXJlZCIKICAgICAgICB9LAogICAgICAgIHNpdGVfbmFtZTogewogICAgICAgICAgaXNWYWxpZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJUaGUgc2l0ZV9uYW1lIGlzIHJlcXVpcmVkIgogICAgICAgIH0sCiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIGlzVmFsaWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAiVGhlIHRpdGxlIGlzIHJlcXVpcmVkLiIKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDb250YWluZXI6IENvbnRhaW5lcgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJhdGluZ0NvbG9yczogZnVuY3Rpb24gcmF0aW5nQ29sb3JzKCkgewogICAgICB2YXIgb3V0ID0gWyJsaWdodC1ncmVlbi0zIiwgImxpZ2h0LWdyZWVuLTYiLCAiZ3JlZW4iLCAiZ3JlZW4tOSIsICJncmVlbi0xMCJdOwogICAgICB2YXIgcmF0ZSA9IHRoaXMucmF0aW5nOwogICAgICB2YXIgbG93ZXJJbnQgPSBNYXRoLmZsb29yKHJhdGUpOwoKICAgICAgaWYgKHJhdGUgPiA0LjUpIHsKICAgICAgICB2YXIgY29sb3IgPSAiZ3JlZW4tNSI7CiAgICAgICAgb3V0ID0gY29sb3I7CiAgICAgIH0KCiAgICAgIGlmIChsb3dlckludCA9PT0gMSkgewogICAgICAgIHZhciBfY29sb3IgPSAicmVkLTEwIjsKICAgICAgICBvdXQgPSBfY29sb3I7CiAgICAgIH0KCiAgICAgIGlmIChsb3dlckludCA9PT0gMikgewogICAgICAgIHZhciBfY29sb3IyID0gInJlZC02IjsKICAgICAgICBvdXQgPSBfY29sb3IyOwogICAgICB9CgogICAgICBpZiAobG93ZXJJbnQgPT09IDMpIHsKICAgICAgICB2YXIgX2NvbG9yMyA9ICJsaW1lLTE0IjsKICAgICAgICBvdXQgPSBfY29sb3IzOwogICAgICB9CgogICAgICBpZiAobG93ZXJJbnQgPT09IDQpIHsKICAgICAgICB2YXIgX2NvbG9yNCA9ICJsaWdodC1ncmVlbi0xNCI7CiAgICAgICAgb3V0ID0gX2NvbG9yNDsKICAgICAgfQoKICAgICAgcmV0dXJuIG91dDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0SGVpZ2h0OiBmdW5jdGlvbiByZXNldEhlaWdodChvZmZzZXQpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBtaW5IZWlnaHQ6ICJjYWxjKDEwMHZoIC0gIi5jb25jYXQoKG9mZnNldCB8fCAwKSArIDcwLCAicHgpIikKICAgICAgfTsKICAgIH0sCiAgICBjbGllbnRWYWxpZGF0aW9uOiBmdW5jdGlvbiBjbGllbnRWYWxpZGF0aW9uKCkgewogICAgICB0aGlzLiRyZWZzLnNpdGVfbGlua1JlZi52YWxpZGF0ZSgpOwogICAgICB0aGlzLiRyZWZzLnNpdGVfbmFtZVJlZi52YWxpZGF0ZSgpOwogICAgICB0aGlzLiRyZWZzLnRpdGxlUmVmLnZhbGlkYXRlKCk7CiAgICAgIHZhciBvdXQgPSB0cnVlOwoKICAgICAgaWYgKHRoaXMuJHJlZnMuc2l0ZV9saW5rUmVmLmhhc0Vycm9yIHx8IHRoaXMuJHJlZnMuc2l0ZV9uYW1lUmVmLmhhc0Vycm9yIHx8IHRoaXMuJHJlZnMudGl0bGVSZWYuaGFzRXJyb3IpIHsKICAgICAgICBvdXQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnJhdGluZykgewogICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgIHByb2dyZXNzOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIlBsZWFzZSBjaG9vc2UgYSByYXRpbmcgYmV0d2VlbiAxIGFuZCA1LiIsCiAgICAgICAgICBodG1sOiB0cnVlLAogICAgICAgICAgdHlwZTogIm5lZ2F0aXZlIiwKICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLAogICAgICAgICAgYWN0aW9uczogW3sKICAgICAgICAgICAgbGFiZWw6ICJEaXNtaXNzIiwKICAgICAgICAgICAgY29sb3I6ICJ3aGl0ZSIsCiAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7Ly8KICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9KTsKICAgICAgICBvdXQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmNvbnRlbnQpIHsKICAgICAgICB0aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICBwcm9ncmVzczogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2UgYWRkIGEgY29udGVudCB0byB5b3VyIGNvbW1lbnQuIiwKICAgICAgICAgIGh0bWw6IHRydWUsCiAgICAgICAgICB0eXBlOiAibmVnYXRpdmUiLAogICAgICAgICAgdGltZW91dDogMTAwMDAsCiAgICAgICAgICBhY3Rpb25zOiBbewogICAgICAgICAgICBsYWJlbDogIkRpc21pc3MiLAogICAgICAgICAgICBjb2xvcjogIndoaXRlIiwKICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsvLwogICAgICAgICAgICB9CiAgICAgICAgICB9XQogICAgICAgIH0pOwogICAgICAgIG91dCA9IGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gb3V0OwogICAgfSwKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgaXNWYWxpZCwgZGF0YSwgbWVzc2FnZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gX3RoaXMuY2xpZW50VmFsaWRhdGlvbigpOwoKICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzLnN1Ym1pdHRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgc2l0ZV9saW5rOiBfdGhpcy5zaXRlX2xpbmssCiAgICAgICAgICAgICAgICAgIHNpdGVfbmFtZTogX3RoaXMuc2l0ZV9uYW1lLAogICAgICAgICAgICAgICAgICByYXRpbmc6IF90aGlzLnJhdGluZywKICAgICAgICAgICAgICAgICAgdGl0bGU6IF90aGlzLnRpdGxlLAogICAgICAgICAgICAgICAgICBjb250ZW50OiBfdGhpcy5jb250ZW50CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goImNyZWF0ZUNvbW1lbnQiLCBkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3RoaXMuc3VibWl0dGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL3VzZXJzLyIuY29uY2F0KF90aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkKSk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHRydWUsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJZb3VyIGNvbW1lbnQgaGFzIGJlZW4gYWRkZWQiLAogICAgICAgICAgICAgICAgICB0eXBlOiAicG9zaXRpdmUiLAogICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbewogICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiRGlzbWlzcyIsCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICJ3aGl0ZSIsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsvLwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEzOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg1KTsKICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAiVGhlIHJlcXVlc3QgZmFpbGVkLiI7CiAgICAgICAgICAgICAgICB3aW5kb3cuZXJyID0gX2NvbnRleHQudDA7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CiAgICAgICAgICAgICAgICBfdGhpcy5zdWJtaXR0aW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKF9jb250ZXh0LnQwLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfY29udGV4dC50MC5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgbWVzc2FnZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy4kcS5ub3RpZnkoewogICAgICAgICAgICAgICAgICBwcm9ncmVzczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgICAgICAgICAgICAgaHRtbDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdHlwZTogIm5lZ2F0aXZlIiwKICAgICAgICAgICAgICAgICAgdGltZW91dDogMTAwMDAsCiAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFt7CiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJEaXNtaXNzIiwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIndoaXRlIiwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgey8vCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzUsIDEzXV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNpdGVfbGluayA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnNpdGVfbGluayB8fCAiIjsKICAgIHRoaXMuc2l0ZV9uYW1lID0gdGhpcy4kcm91dGUucXVlcnkuc2l0ZV9uYW1lIHx8ICIiOwogICAgdGhpcy5yYXRpbmcgPSArdGhpcy4kcm91dGUucXVlcnkucmF0aW5nIHx8IDA7CiAgfQp9Ow=="},{"version":3,"sources":["/app/src/components/Comments/Add.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <q-page padding :style-fn=\"resetHeight\" class=\"bg-secondary\">\n    <Container style=\"max-width: 700px\">\n      <q-card>\n        <q-card-section>\n          <div class=\"text-h6\">Rate your recent experience</div>\n          <q-rating\n            size=\"2em\"\n            icon=\"star_border\"\n            icon-selected=\"star\"\n            v-model=\"rating\"\n            :max=\"5\"\n            color=\"green\"\n            :color-selected=\"ratingColors\"\n            no-dimming\n          />\n        </q-card-section>\n\n        <q-separator inset />\n\n        <q-card-section>\n          <form @submit.prevent=\"handleSubmit\">\n            <q-input\n              :rules=\"[(val) => !!val || 'The site link is required']\"\n              ref=\"site_linkRef\"\n              v-model=\"site_link\"\n              class=\"q-mt-sm\"\n              outlined\n              label=\"Site Link\"\n              bottom-slots\n              :error-message=\"errors.site_link.message\"\n              :error=\"!errors.site_link.isValid\"\n            />\n\n            <q-input\n              :rules=\"[(val) => !!val || 'The site name is required']\"\n              ref=\"site_nameRef\"\n              v-model=\"site_name\"\n              class=\"q-mt-sm\"\n              outlined\n              label=\"Site name\"\n              bottom-slots\n              :error-message=\"errors.site_name.message\"\n              :error=\"!errors.site_name.isValid\"\n            />\n\n            <q-input\n              :rules=\"[(val) => !!val || 'The title is required']\"\n              ref=\"titleRef\"\n              v-model=\"title\"\n              class=\"q-mt-sm\"\n              outlined\n              label=\"Title\"\n              bottom-slots\n              :error-message=\"errors.title.message\"\n              :error=\"!errors.title.isValid\"\n            />\n\n            <div>\n              <div>Content</div>\n              <q-editor\n                v-model=\"content\"\n                min-height=\"15rem\"\n                placeholder=\"Your comment\"\n              />\n            </div>\n\n            <div class=\"q-mt-md\">\n              <q-btn color=\"grey\" to=\"/\" type=\"reset\" :disable=\"submitting\">\n                Cancel\n              </q-btn>\n              <q-btn\n                class=\"q-ml-sm\"\n                color=\"positive\"\n                type=\"submit\"\n                :disable=\"submitting\"\n              >\n                <q-spinner\n                  v-if=\"submitting\"\n                  class=\"q-mr-sm\"\n                  color=\"white\"\n                  size=\"1em\"\n                  :thickness=\"3\"\n                />\n                Add comment\n              </q-btn>\n            </div>\n          </form>\n        </q-card-section>\n      </q-card>\n    </Container>\n  </q-page>\n</template>\n\n<script>\nimport Container from \"@/components/Container.vue\";\n\nexport default {\n  name: \"AddCommentComponent\",\n  data() {\n    return {\n      rating: 0,\n      site_link: \"\",\n      site_name: \"\",\n      title: \"\",\n      content: \"\",\n      submitting: false,\n      errors: {\n        site_link: {\n          isValid: true,\n          message: \"The site_link is required\",\n        },\n        site_name: {\n          isValid: true,\n          message: \"The site_name is required\",\n        },\n        title: {\n          isValid: true,\n          message: \"The title is required.\",\n        },\n      },\n    };\n  },\n  components: {\n    Container,\n  },\n  computed: {\n    ratingColors() {\n      let out = [\n        \"light-green-3\",\n        \"light-green-6\",\n        \"green\",\n        \"green-9\",\n        \"green-10\",\n      ];\n\n      const rate = this.rating;\n      const lowerInt = Math.floor(rate);\n      if (rate > 4.5) {\n        const color = \"green-5\";\n        out = color;\n      }\n      if (lowerInt === 1) {\n        const color = \"red-10\";\n        out = color;\n      }\n      if (lowerInt === 2) {\n        const color = \"red-6\";\n        out = color;\n      }\n      if (lowerInt === 3) {\n        const color = \"lime-14\";\n        out = color;\n      }\n      if (lowerInt === 4) {\n        const color = \"light-green-14\";\n        out = color;\n      }\n\n      return out;\n    },\n  },\n  methods: {\n    resetHeight(offset) {\n      return { minHeight: `calc(100vh - ${(offset || 0) + 70}px)` };\n    },\n    clientValidation() {\n      this.$refs.site_linkRef.validate();\n      this.$refs.site_nameRef.validate();\n      this.$refs.titleRef.validate();\n\n      let out = true;\n      if (\n        this.$refs.site_linkRef.hasError ||\n        this.$refs.site_nameRef.hasError ||\n        this.$refs.titleRef.hasError\n      ) {\n        out = false;\n      }\n\n      if (!this.rating) {\n        this.$q.notify({\n          progress: true,\n          message: \"Please choose a rating between 1 and 5.\",\n          html: true,\n          type: \"negative\",\n          timeout: 10000,\n          actions: [\n            {\n              label: \"Dismiss\",\n              color: \"white\",\n              handler: () => {\n                //\n              },\n            },\n          ],\n        });\n        out = false;\n      }\n\n      if (!this.content) {\n        this.$q.notify({\n          progress: true,\n          message: \"Please add a content to your comment.\",\n          html: true,\n          type: \"negative\",\n          timeout: 10000,\n          actions: [\n            {\n              label: \"Dismiss\",\n              color: \"white\",\n              handler: () => {\n                //\n              },\n            },\n          ],\n        });\n        out = false;\n      }\n\n      return out;\n    },\n    async handleSubmit() {\n      const isValid = this.clientValidation();\n      if (!isValid) return false;\n\n      this.submitting = true;\n\n      const data = {\n        site_link: this.site_link,\n        site_name: this.site_name,\n        rating: this.rating,\n        title: this.title,\n        content: this.content,\n      };\n\n      try {\n        await this.$store.dispatch(\"createComment\", data);\n        this.submitting = false;\n        this.$router.push(`/users/${this.$store.state.user.id}`);\n        this.$q.notify({\n          progress: true,\n          message: \"Your comment has been added\",\n          type: \"positive\",\n          actions: [\n            {\n              label: \"Dismiss\",\n              color: \"white\",\n              handler: () => {\n                //\n              },\n            },\n          ],\n        });\n      } catch (error) {\n        let message = \"The request failed.\";\n        window.err = error;\n        console.log(error);\n        this.submitting = false;\n        if (error.response) {\n          message = error.response.data.message || message;\n        }\n        this.$q.notify({\n          progress: true,\n          message: message,\n          html: true,\n          type: \"negative\",\n          timeout: 10000,\n          actions: [\n            {\n              label: \"Dismiss\",\n              color: \"white\",\n              handler: () => {\n                //\n              },\n            },\n          ],\n        });\n      }\n    },\n  },\n  mounted() {\n    this.site_link = this.$route.query.site_link || \"\";\n    this.site_name = this.$route.query.site_name || \"\";\n    this.rating = +this.$route.query.rating || 0;\n  },\n};\n</script>\n"],"sourceRoot":""}]}