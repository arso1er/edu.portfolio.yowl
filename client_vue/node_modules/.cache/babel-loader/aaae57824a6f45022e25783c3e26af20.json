{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/quasar/src/directives/ClosePopup.js","dependencies":[{"path":"/app/node_modules/quasar/src/directives/ClosePopup.js","mtime":1640793220809},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1640299636617},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRGlyZWN0aXZlIH0gZnJvbSAnLi4vdXRpbHMvcHJpdmF0ZS9jcmVhdGUuanMnOwppbXBvcnQgeyBjbG9zZVBvcnRhbHMsIGdldFBvcnRhbFZtIH0gZnJvbSAnLi4vdXRpbHMvcHJpdmF0ZS9wb3J0YWwuanMnOwppbXBvcnQgeyBpc0tleUNvZGUgfSBmcm9tICcuLi91dGlscy9wcml2YXRlL2tleS1jb21wb3NpdGlvbi5qcyc7CmltcG9ydCBnZXRTU1JQcm9wcyBmcm9tICcuLi91dGlscy9wcml2YXRlL25vb3Atc3NyLWRpcmVjdGl2ZS10cmFuc2Zvcm0uanMnOwovKgogKiBkZXB0aAogKiAgIDwgMCAgLS0+IGNsb3NlIGFsbCBjaGFpbgogKiAgIDAgICAgLS0+IGRpc2FibGVkCiAqICAgPiAwICAtLT4gY2xvc2UgY2hhaW4gdXAgdG8gTiBwYXJlbnQKICovCgpmdW5jdGlvbiBnZXREZXB0aCh2YWx1ZSkgewogIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHsKICAgIHJldHVybiAwOwogIH0KCiAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSB2b2lkIDApIHsKICAgIHJldHVybiAxOwogIH0KCiAgdmFyIGRlcHRoID0gcGFyc2VJbnQodmFsdWUsIDEwKTsKICByZXR1cm4gaXNOYU4oZGVwdGgpID8gMCA6IGRlcHRoOwp9CgpleHBvcnQgZGVmYXVsdCBjcmVhdGVEaXJlY3RpdmUoX19RVUFTQVJfU1NSX1NFUlZFUl9fID8gewogIG5hbWU6ICdjbG9zZS1wb3B1cCcsCiAgZ2V0U1NSUHJvcHM6IGdldFNTUlByb3BzCn0gOiB7CiAgbmFtZTogJ2Nsb3NlLXBvcHVwJywKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoZWwsIF9yZWYpIHsKICAgIHZhciB2YWx1ZSA9IF9yZWYudmFsdWU7CiAgICB2YXIgY3R4ID0gewogICAgICBkZXB0aDogZ2V0RGVwdGgodmFsdWUpLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKGV2dCkgewogICAgICAgIC8vIGFsbG93IEBjbGljayB0byBiZSBlbWl0dGVkCiAgICAgICAgY3R4LmRlcHRoICE9PSAwICYmIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHZtID0gZ2V0UG9ydGFsVm0oZWwpOwoKICAgICAgICAgIGlmICh2bSAhPT0gdm9pZCAwKSB7CiAgICAgICAgICAgIGNsb3NlUG9ydGFscyh2bSwgZXZ0LCBjdHguZGVwdGgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBoYW5kbGVyS2V5OiBmdW5jdGlvbiBoYW5kbGVyS2V5KGV2dCkgewogICAgICAgIGlzS2V5Q29kZShldnQsIDEzKSA9PT0gdHJ1ZSAmJiBjdHguaGFuZGxlcihldnQpOwogICAgICB9CiAgICB9OwogICAgZWwuX19xY2xvc2Vwb3B1cCA9IGN0eDsKICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY3R4LmhhbmRsZXIpOwogICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBjdHguaGFuZGxlcktleSk7CiAgfSwKICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKGVsLCBfcmVmMikgewogICAgdmFyIHZhbHVlID0gX3JlZjIudmFsdWUsCiAgICAgICAgb2xkVmFsdWUgPSBfcmVmMi5vbGRWYWx1ZTsKCiAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7CiAgICAgIGVsLl9fcWNsb3NlcG9wdXAuZGVwdGggPSBnZXREZXB0aCh2YWx1ZSk7CiAgICB9CiAgfSwKICBiZWZvcmVVbm1vdW50OiBmdW5jdGlvbiBiZWZvcmVVbm1vdW50KGVsKSB7CiAgICB2YXIgY3R4ID0gZWwuX19xY2xvc2Vwb3B1cDsKICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY3R4LmhhbmRsZXIpOwogICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBjdHguaGFuZGxlcktleSk7CiAgICBkZWxldGUgZWwuX19xY2xvc2Vwb3B1cDsKICB9Cn0pOw=="},{"version":3,"sources":["/app/node_modules/quasar/src/directives/ClosePopup.js"],"names":["createDirective","closePortals","getPortalVm","isKeyCode","getSSRProps","getDepth","value","depth","parseInt","isNaN","__QUASAR_SSR_SERVER__","name","beforeMount","el","ctx","handler","evt","setTimeout","vm","handlerKey","__qclosepopup","addEventListener","updated","oldValue","beforeUnmount","removeEventListener"],"mappings":"AAAA,SAASA,eAAT,QAAgC,4BAAhC;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,4BAA1C;AACA,SAASC,SAAT,QAA0B,qCAA1B;AACA,OAAOC,WAAP,MAAwB,kDAAxB;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,QAAT,CAAmBC,KAAnB,EAA0B;AACxB,MAAIA,KAAK,KAAK,KAAd,EAAqB;AACnB,WAAO,CAAP;AACD;;AACD,MAAIA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAArC,EAAwC;AACtC,WAAO,CAAP;AACD;;AAED,MAAMC,KAAK,GAAGC,QAAQ,CAACF,KAAD,EAAQ,EAAR,CAAtB;AACA,SAAOG,KAAK,CAACF,KAAD,CAAL,GAAe,CAAf,GAAmBA,KAA1B;AACD;;AAED,eAAeP,eAAe,CAACU,qBAAqB,GAChD;AAAEC,EAAAA,IAAI,EAAE,aAAR;AAAuBP,EAAAA,WAAW,EAAXA;AAAvB,CADgD,GAEhD;AACEO,EAAAA,IAAI,EAAE,aADR;AAGEC,EAAAA,WAHF,uBAGeC,EAHf,QAG8B;AAAA,QAATP,KAAS,QAATA,KAAS;AAC1B,QAAMQ,GAAG,GAAG;AACVP,MAAAA,KAAK,EAAEF,QAAQ,CAACC,KAAD,CADL;AAGVS,MAAAA,OAHU,mBAGDC,GAHC,EAGI;AACZ;AACAF,QAAAA,GAAG,CAACP,KAAJ,KAAc,CAAd,IAAmBU,UAAU,CAAC,YAAM;AAClC,cAAMC,EAAE,GAAGhB,WAAW,CAACW,EAAD,CAAtB;;AACA,cAAIK,EAAE,KAAK,KAAK,CAAhB,EAAmB;AACjBjB,YAAAA,YAAY,CAACiB,EAAD,EAAKF,GAAL,EAAUF,GAAG,CAACP,KAAd,CAAZ;AACD;AACF,SAL4B,CAA7B;AAMD,OAXS;AAaVY,MAAAA,UAbU,sBAaEH,GAbF,EAaO;AACfb,QAAAA,SAAS,CAACa,GAAD,EAAM,EAAN,CAAT,KAAuB,IAAvB,IAA+BF,GAAG,CAACC,OAAJ,CAAYC,GAAZ,CAA/B;AACD;AAfS,KAAZ;AAkBAH,IAAAA,EAAE,CAACO,aAAH,GAAmBN,GAAnB;AAEAD,IAAAA,EAAE,CAACQ,gBAAH,CAAoB,OAApB,EAA6BP,GAAG,CAACC,OAAjC;AACAF,IAAAA,EAAE,CAACQ,gBAAH,CAAoB,OAApB,EAA6BP,GAAG,CAACK,UAAjC;AACD,GA1BH;AA4BEG,EAAAA,OA5BF,mBA4BWT,EA5BX,SA4BoC;AAAA,QAAnBP,KAAmB,SAAnBA,KAAmB;AAAA,QAAZiB,QAAY,SAAZA,QAAY;;AAChC,QAAIjB,KAAK,KAAKiB,QAAd,EAAwB;AACtBV,MAAAA,EAAE,CAACO,aAAH,CAAiBb,KAAjB,GAAyBF,QAAQ,CAACC,KAAD,CAAjC;AACD;AACF,GAhCH;AAkCEkB,EAAAA,aAlCF,yBAkCiBX,EAlCjB,EAkCqB;AACjB,QAAMC,GAAG,GAAGD,EAAE,CAACO,aAAf;AACAP,IAAAA,EAAE,CAACY,mBAAH,CAAuB,OAAvB,EAAgCX,GAAG,CAACC,OAApC;AACAF,IAAAA,EAAE,CAACY,mBAAH,CAAuB,OAAvB,EAAgCX,GAAG,CAACK,UAApC;AACA,WAAON,EAAE,CAACO,aAAV;AACD;AAvCH,CAF0B,CAA9B","sourcesContent":["import { createDirective } from '../utils/private/create.js'\nimport { closePortals, getPortalVm } from '../utils/private/portal.js'\nimport { isKeyCode } from '../utils/private/key-composition.js'\nimport getSSRProps from '../utils/private/noop-ssr-directive-transform.js'\n\n/*\n * depth\n *   < 0  --> close all chain\n *   0    --> disabled\n *   > 0  --> close chain up to N parent\n */\n\nfunction getDepth (value) {\n  if (value === false) {\n    return 0\n  }\n  if (value === true || value === void 0) {\n    return 1\n  }\n\n  const depth = parseInt(value, 10)\n  return isNaN(depth) ? 0 : depth\n}\n\nexport default createDirective(__QUASAR_SSR_SERVER__\n  ? { name: 'close-popup', getSSRProps }\n  : {\n      name: 'close-popup',\n\n      beforeMount (el, { value }) {\n        const ctx = {\n          depth: getDepth(value),\n\n          handler (evt) {\n            // allow @click to be emitted\n            ctx.depth !== 0 && setTimeout(() => {\n              const vm = getPortalVm(el)\n              if (vm !== void 0) {\n                closePortals(vm, evt, ctx.depth)\n              }\n            })\n          },\n\n          handlerKey (evt) {\n            isKeyCode(evt, 13) === true && ctx.handler(evt)\n          }\n        }\n\n        el.__qclosepopup = ctx\n\n        el.addEventListener('click', ctx.handler)\n        el.addEventListener('keyup', ctx.handlerKey)\n      },\n\n      updated (el, { value, oldValue }) {\n        if (value !== oldValue) {\n          el.__qclosepopup.depth = getDepth(value)\n        }\n      },\n\n      beforeUnmount (el) {\n        const ctx = el.__qclosepopup\n        el.removeEventListener('click', ctx.handler)\n        el.removeEventListener('keyup', ctx.handlerKey)\n        delete el.__qclosepopup\n      }\n    }\n)\n"]}]}