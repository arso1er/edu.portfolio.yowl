{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/quasar/src/components/file/QFile.js","dependencies":[{"path":"/app/node_modules/quasar/src/components/file/QFile.js","mtime":1640793220809},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1640299636617},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgeyBoLCByZWYsIGNvbXB1dGVkLCBnZXRDdXJyZW50SW5zdGFuY2UgfSBmcm9tICd2dWUnOwppbXBvcnQgUUNoaXAgZnJvbSAnLi4vY2hpcC9RQ2hpcC5qcyc7CmltcG9ydCB1c2VGaWVsZCwgeyB1c2VGaWVsZFN0YXRlLCB1c2VGaWVsZFByb3BzLCB1c2VGaWVsZEVtaXRzLCBmaWVsZFZhbHVlSXNGaWxsZWQgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlL3VzZS1maWVsZC5qcyc7CmltcG9ydCB7IHVzZUZvcm1Qcm9wcywgdXNlRm9ybUlucHV0TmFtZUF0dHIgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlL3VzZS1mb3JtLmpzJzsKaW1wb3J0IHVzZUZpbGUsIHsgdXNlRmlsZVByb3BzLCB1c2VGaWxlRW1pdHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlL3VzZS1maWxlLmpzJzsKaW1wb3J0IHVzZUZpbGVGb3JtRG9tUHJvcHMgZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS91c2UtZmlsZS1kb20tcHJvcHMuanMnOwppbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlL2NyZWF0ZS5qcyc7CmltcG9ydCB7IGh1bWFuU3RvcmFnZVNpemUgfSBmcm9tICcuLi8uLi91dGlscy9mb3JtYXQuanMnOwppbXBvcnQgeyBwcmV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvZXZlbnQuanMnOwpleHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoewogIG5hbWU6ICdRRmlsZScsCiAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKICBwcm9wczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdXNlRmllbGRQcm9wcyksIHVzZUZvcm1Qcm9wcyksIHVzZUZpbGVQcm9wcyksIHt9LCB7CiAgICAvKiBTU1IgZG9lcyBub3Qga25vdyBhYm91dCBGaWxlICYgRmlsZUxpc3QgKi8KICAgIG1vZGVsVmFsdWU6IF9fUVVBU0FSX1NTUl9TRVJWRVJfXyA/IHt9IDogW0ZpbGUsIEZpbGVMaXN0LCBBcnJheV0sCiAgICBhcHBlbmQ6IEJvb2xlYW4sCiAgICB1c2VDaGlwczogQm9vbGVhbiwKICAgIGRpc3BsYXlWYWx1ZTogW1N0cmluZywgTnVtYmVyXSwKICAgIHRhYmluZGV4OiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBjb3VudGVyTGFiZWw6IEZ1bmN0aW9uLAogICAgaW5wdXRDbGFzczogW0FycmF5LCBTdHJpbmcsIE9iamVjdF0sCiAgICBpbnB1dFN0eWxlOiBbQXJyYXksIFN0cmluZywgT2JqZWN0XQogIH0pLAogIGVtaXRzOiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHVzZUZpZWxkRW1pdHMpLCBfdG9Db25zdW1hYmxlQXJyYXkodXNlRmlsZUVtaXRzKSksCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgc2xvdHMgPSBfcmVmLnNsb3RzLAogICAgICAgIGVtaXQgPSBfcmVmLmVtaXQsCiAgICAgICAgYXR0cnMgPSBfcmVmLmF0dHJzOwoKICAgIHZhciBfZ2V0Q3VycmVudEluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCksCiAgICAgICAgcHJveHkgPSBfZ2V0Q3VycmVudEluc3RhbmNlLnByb3h5OwoKICAgIHZhciBzdGF0ZSA9IHVzZUZpZWxkU3RhdGUoKTsKICAgIHZhciBpbnB1dFJlZiA9IHJlZihudWxsKTsKICAgIHZhciBkbmQgPSByZWYoZmFsc2UpOwogICAgdmFyIG5hbWVQcm9wID0gdXNlRm9ybUlucHV0TmFtZUF0dHIocHJvcHMpOwoKICAgIHZhciBfdXNlRmlsZSA9IHVzZUZpbGUoewogICAgICBlZGl0YWJsZTogc3RhdGUuZWRpdGFibGUsCiAgICAgIGRuZDogZG5kLAogICAgICBnZXRGaWxlSW5wdXQ6IGdldEZpbGVJbnB1dCwKICAgICAgYWRkRmlsZXNUb1F1ZXVlOiBhZGRGaWxlc1RvUXVldWUKICAgIH0pLAogICAgICAgIHBpY2tGaWxlcyA9IF91c2VGaWxlLnBpY2tGaWxlcywKICAgICAgICBvbkRyYWdvdmVyID0gX3VzZUZpbGUub25EcmFnb3ZlciwKICAgICAgICBwcm9jZXNzRmlsZXMgPSBfdXNlRmlsZS5wcm9jZXNzRmlsZXMsCiAgICAgICAgZ2V0RG5kTm9kZSA9IF91c2VGaWxlLmdldERuZE5vZGU7CgogICAgdmFyIGZvcm1Eb21Qcm9wcyA9IHVzZUZpbGVGb3JtRG9tUHJvcHMocHJvcHMpOwogICAgdmFyIGlubmVyVmFsdWUgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBPYmplY3QocHJvcHMubW9kZWxWYWx1ZSkgPT09IHByb3BzLm1vZGVsVmFsdWUgPyAnbGVuZ3RoJyBpbiBwcm9wcy5tb2RlbFZhbHVlID8gQXJyYXkuZnJvbShwcm9wcy5tb2RlbFZhbHVlKSA6IFtwcm9wcy5tb2RlbFZhbHVlXSA6IFtdOwogICAgfSk7CiAgICB2YXIgaGFzVmFsdWUgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBmaWVsZFZhbHVlSXNGaWxsZWQoaW5uZXJWYWx1ZS52YWx1ZSk7CiAgICB9KTsKICAgIHZhciBzZWxlY3RlZFN0cmluZyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGlubmVyVmFsdWUudmFsdWUubWFwKGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgICAgcmV0dXJuIGZpbGUubmFtZTsKICAgICAgfSkuam9pbignLCAnKTsKICAgIH0pOwogICAgdmFyIHRvdGFsU2l6ZSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGh1bWFuU3RvcmFnZVNpemUoaW5uZXJWYWx1ZS52YWx1ZS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZmlsZSkgewogICAgICAgIHJldHVybiBhY2MgKyBmaWxlLnNpemU7CiAgICAgIH0sIDApKTsKICAgIH0pOwogICAgdmFyIGNvdW50ZXJQcm9wcyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3RhbFNpemU6IHRvdGFsU2l6ZS52YWx1ZSwKICAgICAgICBmaWxlc051bWJlcjogaW5uZXJWYWx1ZS52YWx1ZS5sZW5ndGgsCiAgICAgICAgbWF4RmlsZXM6IHByb3BzLm1heEZpbGVzCiAgICAgIH07CiAgICB9KTsKICAgIHZhciBpbnB1dEF0dHJzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgICAgICB0YWJpbmRleDogLTEsCiAgICAgICAgdHlwZTogJ2ZpbGUnLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICAvLyB0cnkgdG8gcmVtb3ZlIGRlZmF1bHQgdG9vbHRpcCwKICAgICAgICBhY2NlcHQ6IHByb3BzLmFjY2VwdCwKICAgICAgICBjYXB0dXJlOiBwcm9wcy5jYXB0dXJlLAogICAgICAgIG5hbWU6IG5hbWVQcm9wLnZhbHVlCiAgICAgIH0sIGF0dHJzKSwge30sIHsKICAgICAgICBpZDogc3RhdGUudGFyZ2V0VWlkLnZhbHVlLAogICAgICAgIGRpc2FibGVkOiBzdGF0ZS5lZGl0YWJsZS52YWx1ZSAhPT0gdHJ1ZQogICAgICB9KTsKICAgIH0pOwogICAgdmFyIGlzQXBwZW5kaW5nID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcHJvcHMubXVsdGlwbGUgPT09IHRydWUgJiYgcHJvcHMuYXBwZW5kID09PSB0cnVlOwogICAgfSk7CgogICAgZnVuY3Rpb24gcmVtb3ZlQXRJbmRleChpbmRleCkgewogICAgICB2YXIgZmlsZXMgPSBpbm5lclZhbHVlLnZhbHVlLnNsaWNlKCk7CiAgICAgIGZpbGVzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIGVtaXRWYWx1ZShmaWxlcyk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlRmlsZShmaWxlKSB7CiAgICAgIHZhciBpbmRleCA9IGlubmVyVmFsdWUudmFsdWUuZmluZEluZGV4KGZpbGUpOwoKICAgICAgaWYgKGluZGV4ID4gLTEpIHsKICAgICAgICByZW1vdmVBdEluZGV4KGluZGV4KTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGVtaXRWYWx1ZShmaWxlcykgewogICAgICBlbWl0KCd1cGRhdGU6bW9kZWxWYWx1ZScsIHByb3BzLm11bHRpcGxlID09PSB0cnVlID8gZmlsZXMgOiBmaWxlc1swXSk7CiAgICB9CgogICAgZnVuY3Rpb24gb25LZXlkb3duKGUpIHsKICAgICAgLy8gcHJldmVudCBmb3JtIHN1Ym1pdCBpZiBFTlRFUiBpcyBwcmVzc2VkCiAgICAgIGUua2V5Q29kZSA9PT0gMTMgJiYgcHJldmVudChlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvbktleXVwKGUpIHsKICAgICAgLy8gb25seSBvbiBFTlRFUiBhbmQgU1BBQ0UgdG8gbWF0Y2ggbmF0aXZlIGlucHV0IGZpZWxkCiAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzIHx8IGUua2V5Q29kZSA9PT0gMzIpIHsKICAgICAgICBwaWNrRmlsZXMoZSk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRGaWxlSW5wdXQoKSB7CiAgICAgIHJldHVybiBpbnB1dFJlZi52YWx1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRGaWxlc1RvUXVldWUoZSwgZmlsZUxpc3QpIHsKICAgICAgdmFyIGZpbGVzID0gcHJvY2Vzc0ZpbGVzKGUsIGZpbGVMaXN0LCBpbm5lclZhbHVlLnZhbHVlLCBpc0FwcGVuZGluZy52YWx1ZSk7IC8vIGlmIG5vdGhpbmcgdG8gZG8uLi4KCiAgICAgIGlmIChmaWxlcyA9PT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIHByb3RlY3QgYWdhaW5zdCBpbnB1dCBAY2hhbmdlIGJlaW5nIGNhbGxlZCBpbiBhIGxvb3AKICAgICAgLy8gbGlrZSBpdCBoYXBwZW5zIG9uIFNhZmFyaSwgc28gZG9uJ3QgZW1pdCBzYW1lIHRoaW5nOgoKCiAgICAgIGlmIChwcm9wcy5tdWx0aXBsZSA9PT0gdHJ1ZSA/IHByb3BzLm1vZGVsVmFsdWUgJiYgZmlsZXMuZXZlcnkoZnVuY3Rpb24gKGYpIHsKICAgICAgICByZXR1cm4gaW5uZXJWYWx1ZS52YWx1ZS5pbmNsdWRlcyhmKTsKICAgICAgfSkgOiBwcm9wcy5tb2RlbFZhbHVlID09PSBmaWxlc1swXSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZW1pdFZhbHVlKGlzQXBwZW5kaW5nLnZhbHVlID09PSB0cnVlID8gaW5uZXJWYWx1ZS52YWx1ZS5jb25jYXQoZmlsZXMpIDogZmlsZXMpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEZpbGxlcigpIHsKICAgICAgcmV0dXJuIFtoKCdpbnB1dCcsIHsKICAgICAgICBjbGFzczogW3Byb3BzLmlucHV0Q2xhc3MsICdxLWZpbGVfX2ZpbGxlciddLAogICAgICAgIHN0eWxlOiBwcm9wcy5pbnB1dFN0eWxlCiAgICAgIH0pXTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTZWxlY3Rpb24oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoc2xvdHMuZmlsZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuIGlubmVyVmFsdWUudmFsdWUubGVuZ3RoID09PSAwID8gZ2V0RmlsbGVyKCkgOiBpbm5lclZhbHVlLnZhbHVlLm1hcChmdW5jdGlvbiAoZmlsZSwgaW5kZXgpIHsKICAgICAgICAgIHJldHVybiBzbG90cy5maWxlKHsKICAgICAgICAgICAgaW5kZXg6IGluZGV4LAogICAgICAgICAgICBmaWxlOiBmaWxlLAogICAgICAgICAgICByZWY6IF90aGlzCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHNsb3RzLnNlbGVjdGVkICE9PSB2b2lkIDApIHsKICAgICAgICByZXR1cm4gaW5uZXJWYWx1ZS52YWx1ZS5sZW5ndGggPT09IDAgPyBnZXRGaWxsZXIoKSA6IHNsb3RzLnNlbGVjdGVkKHsKICAgICAgICAgIGZpbGVzOiBpbm5lclZhbHVlLnZhbHVlLAogICAgICAgICAgcmVmOiB0aGlzCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChwcm9wcy51c2VDaGlwcyA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiBpbm5lclZhbHVlLnZhbHVlLmxlbmd0aCA9PT0gMCA/IGdldEZpbGxlcigpIDogaW5uZXJWYWx1ZS52YWx1ZS5tYXAoZnVuY3Rpb24gKGZpbGUsIGkpIHsKICAgICAgICAgIHJldHVybiBoKFFDaGlwLCB7CiAgICAgICAgICAgIGtleTogJ2ZpbGUtJyArIGksCiAgICAgICAgICAgIHJlbW92YWJsZTogc3RhdGUuZWRpdGFibGUudmFsdWUsCiAgICAgICAgICAgIGRlbnNlOiB0cnVlLAogICAgICAgICAgICB0ZXh0Q29sb3I6IHByb3BzLmNvbG9yLAogICAgICAgICAgICB0YWJpbmRleDogcHJvcHMudGFiaW5kZXgsCiAgICAgICAgICAgIG9uUmVtb3ZlOiBmdW5jdGlvbiBvblJlbW92ZSgpIHsKICAgICAgICAgICAgICByZW1vdmVBdEluZGV4KGkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBoKCdzcGFuJywgewogICAgICAgICAgICAgIGNsYXNzOiAnZWxsaXBzaXMnLAogICAgICAgICAgICAgIHRleHRDb250ZW50OiBmaWxlLm5hbWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIHRleHRDb250ZW50ID0gcHJvcHMuZGlzcGxheVZhbHVlICE9PSB2b2lkIDAgPyBwcm9wcy5kaXNwbGF5VmFsdWUgOiBzZWxlY3RlZFN0cmluZy52YWx1ZTsKICAgICAgcmV0dXJuIHRleHRDb250ZW50Lmxlbmd0aCA+IDAgPyBbaCgnZGl2JywgewogICAgICAgIGNsYXNzOiBwcm9wcy5pbnB1dENsYXNzLAogICAgICAgIHN0eWxlOiBwcm9wcy5pbnB1dFN0eWxlLAogICAgICAgIHRleHRDb250ZW50OiB0ZXh0Q29udGVudAogICAgICB9KV0gOiBnZXRGaWxsZXIoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRJbnB1dCgpIHsKICAgICAgdmFyIGRhdGEgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgcmVmOiBpbnB1dFJlZgogICAgICB9LCBpbnB1dEF0dHJzLnZhbHVlKSwgZm9ybURvbVByb3BzLnZhbHVlKSwge30sIHsKICAgICAgICBjbGFzczogJ3EtZmllbGRfX2lucHV0IGZpdCBhYnNvbHV0ZS1mdWxsIGN1cnNvci1wb2ludGVyJywKICAgICAgICBvbkNoYW5nZTogYWRkRmlsZXNUb1F1ZXVlCiAgICAgIH0pOwoKICAgICAgaWYgKHByb3BzLm11bHRpcGxlID09PSB0cnVlKSB7CiAgICAgICAgZGF0YS5tdWx0aXBsZSA9IHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBoKCdpbnB1dCcsIGRhdGEpOwogICAgfQoKICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIHsKICAgICAgZmllbGRDbGFzczogewogICAgICAgIHZhbHVlOiAncS1maWxlIHEtZmllbGQtLWF1dG8taGVpZ2h0JwogICAgICB9LAogICAgICBlbWl0VmFsdWU6IGVtaXRWYWx1ZSwKICAgICAgaGFzVmFsdWU6IGhhc1ZhbHVlLAogICAgICBpbnB1dFJlZjogaW5wdXRSZWYsCiAgICAgIGlubmVyVmFsdWU6IGlubmVyVmFsdWUsCiAgICAgIGZsb2F0aW5nTGFiZWw6IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gaGFzVmFsdWUudmFsdWUgPT09IHRydWUgfHwgZmllbGRWYWx1ZUlzRmlsbGVkKHByb3BzLmRpc3BsYXlWYWx1ZSk7CiAgICAgIH0pLAogICAgICBjb21wdXRlZENvdW50ZXI6IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAocHJvcHMuY291bnRlckxhYmVsICE9PSB2b2lkIDApIHsKICAgICAgICAgIHJldHVybiBwcm9wcy5jb3VudGVyTGFiZWwoY291bnRlclByb3BzLnZhbHVlKTsKICAgICAgICB9CgogICAgICAgIHZhciBtYXggPSBwcm9wcy5tYXhGaWxlczsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KGlubmVyVmFsdWUudmFsdWUubGVuZ3RoKS5jb25jYXQobWF4ICE9PSB2b2lkIDAgPyAnIC8gJyArIG1heCA6ICcnLCAiICgiKS5jb25jYXQodG90YWxTaXplLnZhbHVlLCAiKSIpOwogICAgICB9KSwKICAgICAgZ2V0Q29udHJvbENoaWxkOiBmdW5jdGlvbiBnZXRDb250cm9sQ2hpbGQoKSB7CiAgICAgICAgcmV0dXJuIGdldERuZE5vZGUoJ2ZpbGUnKTsKICAgICAgfSwKICAgICAgZ2V0Q29udHJvbDogZnVuY3Rpb24gZ2V0Q29udHJvbCgpIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIHJlZjogc3RhdGUudGFyZ2V0UmVmLAogICAgICAgICAgY2xhc3M6ICdxLWZpZWxkX19uYXRpdmUgcm93IGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlcicsCiAgICAgICAgICB0YWJpbmRleDogcHJvcHMudGFiaW5kZXgKICAgICAgICB9OwoKICAgICAgICBpZiAoc3RhdGUuZWRpdGFibGUudmFsdWUgPT09IHRydWUpIHsKICAgICAgICAgIE9iamVjdC5hc3NpZ24oZGF0YSwgewogICAgICAgICAgICBvbkRyYWdvdmVyOiBvbkRyYWdvdmVyLAogICAgICAgICAgICBvbktleWRvd246IG9uS2V5ZG93biwKICAgICAgICAgICAgb25LZXl1cDogb25LZXl1cAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaCgnZGl2JywgZGF0YSwgW2dldElucHV0KCldLmNvbmNhdChnZXRTZWxlY3Rpb24oKSkpOwogICAgICB9CiAgICB9KTsgLy8gZXhwb3NlIHB1YmxpYyBtZXRob2RzCgogICAgT2JqZWN0LmFzc2lnbihwcm94eSwgewogICAgICByZW1vdmVBdEluZGV4OiByZW1vdmVBdEluZGV4LAogICAgICByZW1vdmVGaWxlOiByZW1vdmVGaWxlLAogICAgICBnZXROYXRpdmVFbGVtZW50OiBmdW5jdGlvbiBnZXROYXRpdmVFbGVtZW50KCkgewogICAgICAgIHJldHVybiBpbnB1dFJlZi52YWx1ZTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gdXNlRmllbGQoc3RhdGUpOwogIH0KfSk7"},{"version":3,"sources":["/app/node_modules/quasar/src/components/file/QFile.js"],"names":["h","ref","computed","getCurrentInstance","QChip","useField","useFieldState","useFieldProps","useFieldEmits","fieldValueIsFilled","useFormProps","useFormInputNameAttr","useFile","useFileProps","useFileEmits","useFileFormDomProps","createComponent","humanStorageSize","prevent","name","inheritAttrs","props","modelValue","__QUASAR_SSR_SERVER__","File","FileList","Array","append","Boolean","useChips","displayValue","String","Number","tabindex","type","default","counterLabel","Function","inputClass","Object","inputStyle","emits","setup","slots","emit","attrs","proxy","state","inputRef","dnd","nameProp","editable","getFileInput","addFilesToQueue","pickFiles","onDragover","processFiles","getDndNode","formDomProps","innerValue","from","hasValue","value","selectedString","map","file","join","totalSize","reduce","acc","size","counterProps","filesNumber","length","maxFiles","inputAttrs","title","accept","capture","id","targetUid","disabled","isAppending","multiple","removeAtIndex","index","files","slice","splice","emitValue","removeFile","findIndex","onKeydown","e","keyCode","onKeyup","fileList","every","f","includes","concat","getFiller","class","style","getSelection","selected","i","key","removable","dense","textColor","color","onRemove","textContent","getInput","data","onChange","assign","fieldClass","floatingLabel","computedCounter","max","getControlChild","getControl","targetRef","getNativeElement"],"mappings":"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","sourcesContent":["import { h, ref, computed, getCurrentInstance } from 'vue'\n\nimport QChip from '../chip/QChip.js'\n\nimport useField, { useFieldState, useFieldProps, useFieldEmits, fieldValueIsFilled } from '../../composables/private/use-field.js'\nimport { useFormProps, useFormInputNameAttr } from '../../composables/private/use-form.js'\nimport useFile, { useFileProps, useFileEmits } from '../../composables/private/use-file.js'\nimport useFileFormDomProps from '../../composables/private/use-file-dom-props.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { humanStorageSize } from '../../utils/format.js'\nimport { prevent } from '../../utils/event.js'\n\nexport default createComponent({\n  name: 'QFile',\n\n  inheritAttrs: false,\n\n  props: {\n    ...useFieldProps,\n    ...useFormProps,\n    ...useFileProps,\n\n    /* SSR does not know about File & FileList */\n    modelValue: __QUASAR_SSR_SERVER__\n      ? {}\n      : [ File, FileList, Array ],\n\n    append: Boolean,\n    useChips: Boolean,\n    displayValue: [ String, Number ],\n\n    tabindex: {\n      type: [ String, Number ],\n      default: 0\n    },\n\n    counterLabel: Function,\n\n    inputClass: [ Array, String, Object ],\n    inputStyle: [ Array, String, Object ]\n  },\n\n  emits: [\n    ...useFieldEmits,\n    ...useFileEmits\n  ],\n\n  setup (props, { slots, emit, attrs }) {\n    const { proxy } = getCurrentInstance()\n\n    const state = useFieldState()\n\n    const inputRef = ref(null)\n    const dnd = ref(false)\n    const nameProp = useFormInputNameAttr(props)\n\n    const {\n      pickFiles,\n      onDragover,\n      processFiles,\n      getDndNode\n    } = useFile({ editable: state.editable, dnd, getFileInput, addFilesToQueue })\n\n    const formDomProps = useFileFormDomProps(props)\n\n    const innerValue = computed(() => (\n      Object(props.modelValue) === props.modelValue\n        ? ('length' in props.modelValue ? Array.from(props.modelValue) : [ props.modelValue ])\n        : []\n    ))\n\n    const hasValue = computed(() => fieldValueIsFilled(innerValue.value))\n\n    const selectedString = computed(() =>\n      innerValue.value\n        .map(file => file.name)\n        .join(', ')\n    )\n\n    const totalSize = computed(() =>\n      humanStorageSize(\n        innerValue.value.reduce((acc, file) => acc + file.size, 0)\n      )\n    )\n\n    const counterProps = computed(() => ({\n      totalSize: totalSize.value,\n      filesNumber: innerValue.value.length,\n      maxFiles: props.maxFiles\n    }))\n\n    const inputAttrs = computed(() => ({\n      tabindex: -1,\n      type: 'file',\n      title: '', // try to remove default tooltip,\n      accept: props.accept,\n      capture: props.capture,\n      name: nameProp.value,\n      ...attrs,\n      id: state.targetUid.value,\n      disabled: state.editable.value !== true\n    }))\n\n    const isAppending = computed(() =>\n      props.multiple === true && props.append === true\n    )\n\n    function removeAtIndex (index) {\n      const files = innerValue.value.slice()\n      files.splice(index, 1)\n      emitValue(files)\n    }\n\n    function removeFile (file) {\n      const index = innerValue.value.findIndex(file)\n      if (index > -1) {\n        removeAtIndex(index)\n      }\n    }\n\n    function emitValue (files) {\n      emit('update:modelValue', props.multiple === true ? files : files[ 0 ])\n    }\n\n    function onKeydown (e) {\n      // prevent form submit if ENTER is pressed\n      e.keyCode === 13 && prevent(e)\n    }\n\n    function onKeyup (e) {\n      // only on ENTER and SPACE to match native input field\n      if (e.keyCode === 13 || e.keyCode === 32) {\n        pickFiles(e)\n      }\n    }\n\n    function getFileInput () {\n      return inputRef.value\n    }\n\n    function addFilesToQueue (e, fileList) {\n      const files = processFiles(e, fileList, innerValue.value, isAppending.value)\n\n      // if nothing to do...\n      if (files === void 0) { return }\n\n      // protect against input @change being called in a loop\n      // like it happens on Safari, so don't emit same thing:\n      if (\n        props.multiple === true\n          ? props.modelValue && files.every(f => innerValue.value.includes(f))\n          : props.modelValue === files[ 0 ]\n      ) {\n        return\n      }\n\n      emitValue(\n        isAppending.value === true\n          ? innerValue.value.concat(files)\n          : files\n      )\n    }\n\n    function getFiller () {\n      return [\n        h('input', {\n          class: [ props.inputClass, 'q-file__filler' ],\n          style: props.inputStyle\n        })\n      ]\n    }\n\n    function getSelection () {\n      if (slots.file !== void 0) {\n        return innerValue.value.length === 0\n          ? getFiller()\n          : innerValue.value.map(\n            (file, index) => slots.file({ index, file, ref: this })\n          )\n      }\n\n      if (slots.selected !== void 0) {\n        return innerValue.value.length === 0\n          ? getFiller()\n          : slots.selected({ files: innerValue.value, ref: this })\n      }\n\n      if (props.useChips === true) {\n        return innerValue.value.length === 0\n          ? getFiller()\n          : innerValue.value.map((file, i) => h(QChip, {\n            key: 'file-' + i,\n            removable: state.editable.value,\n            dense: true,\n            textColor: props.color,\n            tabindex: props.tabindex,\n            onRemove: () => { removeAtIndex(i) }\n          }, () => h('span', {\n            class: 'ellipsis',\n            textContent: file.name\n          })))\n      }\n\n      const textContent = props.displayValue !== void 0\n        ? props.displayValue\n        : selectedString.value\n\n      return textContent.length > 0\n        ? [\n            h('div', {\n              class: props.inputClass,\n              style: props.inputStyle,\n              textContent\n            })\n          ]\n        : getFiller()\n    }\n\n    function getInput () {\n      const data = {\n        ref: inputRef,\n        ...inputAttrs.value,\n        ...formDomProps.value,\n        class: 'q-field__input fit absolute-full cursor-pointer',\n        onChange: addFilesToQueue\n      }\n\n      if (props.multiple === true) {\n        data.multiple = true\n      }\n\n      return h('input', data)\n    }\n\n    Object.assign(state, {\n      fieldClass: { value: 'q-file q-field--auto-height' },\n      emitValue,\n      hasValue,\n      inputRef,\n      innerValue,\n\n      floatingLabel: computed(() =>\n        hasValue.value === true\n        || fieldValueIsFilled(props.displayValue)\n      ),\n\n      computedCounter: computed(() => {\n        if (props.counterLabel !== void 0) {\n          return props.counterLabel(counterProps.value)\n        }\n\n        const max = props.maxFiles\n        return `${ innerValue.value.length }${ max !== void 0 ? ' / ' + max : '' } (${ totalSize.value })`\n      }),\n\n      getControlChild: () => getDndNode('file'),\n      getControl: () => {\n        const data = {\n          ref: state.targetRef,\n          class: 'q-field__native row items-center cursor-pointer',\n          tabindex: props.tabindex\n        }\n\n        if (state.editable.value === true) {\n          Object.assign(data, { onDragover, onKeydown, onKeyup })\n        }\n\n        return h('div', data, [ getInput() ].concat(getSelection()))\n      }\n    })\n\n    // expose public methods\n    Object.assign(proxy, {\n      removeAtIndex,\n      removeFile,\n      getNativeElement: () => inputRef.value\n    })\n\n    return useField(state)\n  }\n})\n"]}]}