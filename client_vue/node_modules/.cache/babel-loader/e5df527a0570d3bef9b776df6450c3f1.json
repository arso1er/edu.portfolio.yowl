{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-0!/app/node_modules/cache-loader/dist/cjs.js??ref--1-1!/app/node_modules/vue-loader-v16/dist/index.js??ref--1-2!/app/src/components/Comments/Pagination.vue?vue&type=script&lang=js","dependencies":[{"path":"/app/src/components/Comments/Pagination.vue","mtime":1641198370373},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js","mtime":1640775278388},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1640299655523}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzMzNDU3NTU3Ci8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NDE3NjU1NwovLyBuZXcgQXJyYXkoc3RvcC1zdGFydCsxKS5maWxsKHN0YXJ0KS5tYXAoKG4saSk9Pm4raSkKLy8gbmV3IEFycmF5KDYtNCsxKS5maWxsKDQpLm1hcCgobixpKT0+bitpKSAgID0+IFs0LCA1LCA2XQpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGxpbWl0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIDU7CiAgICAgIH0KICAgIH0sCiAgICBwYWdlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIDE7CiAgICAgIH0KICAgIH0sCiAgICB0b3RhbFBhZ2VzOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIDE7CiAgICAgIH0KICAgIH0sCiAgICBsaW5rOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgcXVlcnk6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHt9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgcGFnZXNOdW1zQXJyYXk6IGZ1bmN0aW9uIHBhZ2VzTnVtc0FycmF5KCkgewogICAgICB2YXIgdG90YWxQYWdlcyA9IHRoaXMudG90YWxQYWdlczsKICAgICAgdmFyIGN1cnJlbnRQYWdlID0gdGhpcy5wYWdlOwogICAgICB2YXIgbGltaXQgPSB0aGlzLmxpbWl0OyAvLyAgIGNvbnN0IHRvdGFsUGFnZXMgPSA4OwogICAgICAvLyAgIGNvbnN0IGN1cnJlbnRQYWdlID0gNDsKICAgICAgLy8gICBjb25zdCBsaW1pdCA9IDc7CiAgICAgIC8vIDEwLTQtNS0xMAoKICAgICAgdmFyIGlzRXZlbiA9IGxpbWl0ICUgMiA9PT0gMDsKICAgICAgdmFyIGxlZnRTaWRlID0gaXNFdmVuID8gbGltaXQgLyAyIC0gMSA6IE1hdGguZmxvb3IobGltaXQgLyAyKTsKICAgICAgdmFyIHJpZ2h0U2lkZSA9IGlzRXZlbiA/IGxpbWl0IC8gMiA6IE1hdGguZmxvb3IobGltaXQgLyAyKTsKICAgICAgdmFyIHBhZ2VzTGlua3NBcnJheSA9IFtdOwogICAgICBpZiAoY3VycmVudFBhZ2UgPiB0b3RhbFBhZ2VzKSByZXR1cm4gcGFnZXNMaW5rc0FycmF5OwoKICAgICAgaWYgKHRvdGFsUGFnZXMgPiBsaW1pdCkgewogICAgICAgIHZhciBsZWZ0ID0gTWF0aC5taW4oY3VycmVudFBhZ2UgLSAxLCBsaW1pdCk7CiAgICAgICAgdmFyIHJpZ2h0ID0gTWF0aC5taW4odG90YWxQYWdlcyAtIGN1cnJlbnRQYWdlLCBsaW1pdCk7CgogICAgICAgIGlmIChsZWZ0ID49IGxlZnRTaWRlICYmIHJpZ2h0ID49IHJpZ2h0U2lkZSkgewogICAgICAgICAgbGVmdCA9IGxlZnRTaWRlOwogICAgICAgICAgcmlnaHQgPSByaWdodFNpZGU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChsZWZ0IDwgcmlnaHQpIHsKICAgICAgICAgICAgcmlnaHQgPSBNYXRoLm1pbihsaW1pdCAtIGxlZnQgLSAxLCByaWdodCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCkgewogICAgICAgICAgICBsZWZ0ID0gTWF0aC5taW4obGltaXQgLSByaWdodCAtIDEsIGxlZnQpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChsZWZ0ID09PSByaWdodCkgewogICAgICAgICAgICBpZiAobGVmdCA8PSBsZWZ0U2lkZSkgey8vIExvb2sgaGVyZSBpZiB0aGluZ3MgZ2xpdGNoIGxhdGVyLgogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJoaXQiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBLZWVwIHJpZ2h0IGFuZCBjaGFuZ2UgbGVmdAogICAgICAgICAgICAgIGxlZnQgPSBNYXRoLm1pbihsaW1pdCAtIHJpZ2h0IC0gMSwgbGVmdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBsZWZ0TnVtID0gY3VycmVudFBhZ2UgLSBsZWZ0OwogICAgICAgIHZhciByaWdodE51bSA9IGN1cnJlbnRQYWdlICsgcmlnaHQ7CgogICAgICAgIGZvciAodmFyIGkgPSBsZWZ0TnVtOyBpIDw9IHJpZ2h0TnVtOyBpKyspIHsKICAgICAgICAgIHBhZ2VzTGlua3NBcnJheS5wdXNoKGkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDw9IHRvdGFsUGFnZXM7IF9pKyspIHsKICAgICAgICAgIHBhZ2VzTGlua3NBcnJheS5wdXNoKF9pKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBwYWdlc0xpbmtzQXJyYXk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/app/src/components/Comments/Pagination.vue"],"names":[],"mappings":";AAmBA;AACA;AACA;AACA;AAEA,eAAe;AACb,EAAA,KAAK,EAAE;AACL,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EAAE,MADD;AAEL,MAAA,OAAO,EAAE;AAAA,eAAM,CAAN;AAAA;AAFJ,KADF;AAKL,IAAA,IAAI,EAAE;AACJ,MAAA,IAAI,EAAE,MADF;AAEJ,MAAA,OAAO,EAAE;AAAA,eAAM,CAAN;AAAA;AAFL,KALD;AASL,IAAA,UAAU,EAAE;AACV,MAAA,IAAI,EAAE,MADI;AAEV,MAAA,OAAO,EAAE;AAAA,eAAM,CAAN;AAAA;AAFC,KATP;AAaL,IAAA,IAAI,EAAE;AACJ,MAAA,IAAI,EAAE,MADF;AAEJ,MAAA,OAAO,EAAE;AAAA,eAAM,EAAN;AAAA;AAFL,KAbD;AAiBL,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EAAE,MADD;AAEL,MAAA,OAAO,EAAE,oBAAM,CAAE;AAFZ;AAjBF,GADM;AAuBb,EAAA,QAAQ,EAAE;AACR,IAAA,cADQ,4BACS;AACf,UAAM,UAAS,GAAI,KAAK,UAAxB;AACA,UAAM,WAAU,GAAI,KAAK,IAAzB;AACA,UAAM,KAAI,GAAI,KAAK,KAAnB,CAHe,CAIf;AACA;AACA;AACA;;AACA,UAAM,MAAK,GAAI,KAAI,GAAI,CAAR,KAAc,CAA7B;AACA,UAAM,QAAO,GAAI,MAAK,GAAI,KAAI,GAAI,CAAR,GAAY,CAAhB,GAAoB,IAAI,CAAC,KAAL,CAAW,KAAI,GAAI,CAAnB,CAA1C;AACA,UAAM,SAAQ,GAAI,MAAK,GAAI,KAAI,GAAI,CAAZ,GAAgB,IAAI,CAAC,KAAL,CAAW,KAAI,GAAI,CAAnB,CAAvC;AAEA,UAAI,eAAc,GAAI,EAAtB;AACA,UAAI,WAAU,GAAI,UAAlB,EAA8B,OAAO,eAAP;;AAC9B,UAAI,UAAS,GAAI,KAAjB,EAAwB;AACtB,YAAI,IAAG,GAAI,IAAI,CAAC,GAAL,CAAS,WAAU,GAAI,CAAvB,EAA0B,KAA1B,CAAX;AACA,YAAI,KAAI,GAAI,IAAI,CAAC,GAAL,CAAS,UAAS,GAAI,WAAtB,EAAmC,KAAnC,CAAZ;;AACA,YAAI,IAAG,IAAK,QAAR,IAAoB,KAAI,IAAK,SAAjC,EAA4C;AAC1C,UAAA,IAAG,GAAI,QAAP;AACA,UAAA,KAAI,GAAI,SAAR;AACF,SAHA,MAGO;AACL,cAAI,IAAG,GAAI,KAAX,EAAkB;AAChB,YAAA,KAAI,GAAI,IAAI,CAAC,GAAL,CAAS,KAAI,GAAI,IAAR,GAAe,CAAxB,EAA2B,KAA3B,CAAR;AACF;;AACA,cAAI,KAAI,GAAI,IAAZ,EAAkB;AAChB,YAAA,IAAG,GAAI,IAAI,CAAC,GAAL,CAAS,KAAI,GAAI,KAAR,GAAgB,CAAzB,EAA4B,IAA5B,CAAP;AACF;;AACA,cAAI,IAAG,KAAM,KAAb,EAAoB;AAClB,gBAAI,IAAG,IAAK,QAAZ,EAAsB,CACpB;AACA;AACF,aAHA,MAGO;AACL;AACA,cAAA,IAAG,GAAI,IAAI,CAAC,GAAL,CAAS,KAAI,GAAI,KAAR,GAAgB,CAAzB,EAA4B,IAA5B,CAAP;AACF;AACF;AACF;;AAEA,YAAM,OAAM,GAAI,WAAU,GAAI,IAA9B;AACA,YAAM,QAAO,GAAI,WAAU,GAAI,KAA/B;;AACA,aAAK,IAAI,CAAA,GAAI,OAAb,EAAsB,CAAA,IAAK,QAA3B,EAAqC,CAAC,EAAtC,EAA0C;AACxC,UAAA,eAAe,CAAC,IAAhB,CAAqB,CAArB;AACF;AACF,OA7BA,MA6BO;AACL,aAAK,IAAI,EAAA,GAAI,CAAb,EAAgB,EAAA,IAAK,UAArB,EAAiC,EAAC,EAAlC,EAAsC;AACpC,UAAA,eAAe,CAAC,IAAhB,CAAqB,EAArB;AACF;AACF;;AAEA,aAAO,eAAP;AACD;AAnDO;AAvBG,CAAf","sourcesContent":["<template>\n  <div class=\"q-pa-lg flex flex-center q-mt-lg bg-white\">\n    <div\n      :class=\"i !== pagesNumsArray[pagesNumsArray.length - 1] ? 'q-mr-sm' : ''\"\n      v-for=\"i in pagesNumsArray\"\n      :key=\"i\"\n    >\n      <router-link\n        :to=\"{ path: link, query: { ...query, page: i } }\"\n        v-if=\"i !== page\"\n      >\n        <q-btn flat :label=\"i\" color=\"\" />\n      </router-link>\n      <q-btn v-else :label=\"i\" color=\"primary\" />\n    </div>\n  </div>\n</template>\n\n<script>\n// https://stackoverflow.com/a/33457557\n// https://stackoverflow.com/a/44176557\n// new Array(stop-start+1).fill(start).map((n,i)=>n+i)\n// new Array(6-4+1).fill(4).map((n,i)=>n+i)   => [4, 5, 6]\n\nexport default {\n  props: {\n    limit: {\n      type: Number,\n      default: () => 5,\n    },\n    page: {\n      type: Number,\n      default: () => 1,\n    },\n    totalPages: {\n      type: Number,\n      default: () => 1,\n    },\n    link: {\n      type: String,\n      default: () => \"\",\n    },\n    query: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  computed: {\n    pagesNumsArray() {\n      const totalPages = this.totalPages;\n      const currentPage = this.page;\n      const limit = this.limit;\n      //   const totalPages = 8;\n      //   const currentPage = 4;\n      //   const limit = 7;\n      // 10-4-5-10\n      const isEven = limit % 2 === 0;\n      const leftSide = isEven ? limit / 2 - 1 : Math.floor(limit / 2);\n      const rightSide = isEven ? limit / 2 : Math.floor(limit / 2);\n\n      let pagesLinksArray = [];\n      if (currentPage > totalPages) return pagesLinksArray;\n      if (totalPages > limit) {\n        let left = Math.min(currentPage - 1, limit);\n        let right = Math.min(totalPages - currentPage, limit);\n        if (left >= leftSide && right >= rightSide) {\n          left = leftSide;\n          right = rightSide;\n        } else {\n          if (left < right) {\n            right = Math.min(limit - left - 1, right);\n          }\n          if (right < left) {\n            left = Math.min(limit - right - 1, left);\n          }\n          if (left === right) {\n            if (left <= leftSide) {\n              // Look here if things glitch later.\n              // console.log(\"hit\");\n            } else {\n              // Keep right and change left\n              left = Math.min(limit - right - 1, left);\n            }\n          }\n        }\n\n        const leftNum = currentPage - left;\n        const rightNum = currentPage + right;\n        for (let i = leftNum; i <= rightNum; i++) {\n          pagesLinksArray.push(i);\n        }\n      } else {\n        for (let i = 1; i <= totalPages; i++) {\n          pagesLinksArray.push(i);\n        }\n      }\n\n      return pagesLinksArray;\n    },\n  },\n};\n</script>\n"],"sourceRoot":""}]}