{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-0!/app/node_modules/cache-loader/dist/cjs.js??ref--1-1!/app/node_modules/vue-loader-v16/dist/index.js??ref--1-2!/app/src/components/Dashboard/AdminDashboardComponent.vue?vue&type=script&lang=js","dependencies":[{"path":"/app/src/components/Dashboard/AdminDashboardComponent.vue","mtime":1641293987871},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1640299636617},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js","mtime":1640775278388},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1640299655523}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCBDb250YWluZXIgZnJvbSAiQC9jb21wb25lbnRzL0NvbnRhaW5lci52dWUiOwppbXBvcnQgVXNlcnNBUEkgZnJvbSAiQC9hcGkvdXNlcnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkbWluRGFzaGJvYXJkQ29tcCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vdW50ZWQ6IGZhbHNlLAogICAgICB1c2Vyc051bTogMCwKICAgICAgc2l0ZXNOdW06IDAsCiAgICAgIGNvbW1lbnRzTnVtOiAwLAogICAgICBuZWdhdGl2ZUNvbW1lbnRzOiAwLAogICAgICBwb3NpdGl2ZUNvbW1lbnRzOiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5lZ2F0aXZlQ29tbWVudHNMYWJlbDogZnVuY3Rpb24gbmVnYXRpdmVDb21tZW50c0xhYmVsKCkgewogICAgICByZXR1cm4gKyh0aGlzLm5lZ2F0aXZlQ29tbWVudHMgKiAxMDApLnRvRml4ZWQoMikgKyAiJSI7CiAgICB9LAogICAgcG9zaXRpdmVDb21tZW50c0xhYmVsOiBmdW5jdGlvbiBwb3NpdGl2ZUNvbW1lbnRzTGFiZWwoKSB7CiAgICAgIHJldHVybiArKHRoaXMucG9zaXRpdmVDb21tZW50cyAqIDEwMCkudG9GaXhlZCgyKSArICIlIjsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENvbnRhaW5lcjogQ29udGFpbmVyCiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNldEhlaWdodDogZnVuY3Rpb24gcmVzZXRIZWlnaHQob2Zmc2V0KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbWluSGVpZ2h0OiAiY2FsYygxMDB2aCAtICIuY29uY2F0KChvZmZzZXQgfHwgMCkgKyA3MCwgInB4KSIpCiAgICAgIH07CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIFVzZXJzQVBJLmFkbWluKCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgIF90aGlzLnVzZXJzTnVtID0gcmVzLnVzZXJzTnVtOwogICAgICAgICAgICAgIF90aGlzLnNpdGVzTnVtID0gcmVzLnNpdGVzTnVtLnRvdGFsOwogICAgICAgICAgICAgIF90aGlzLmNvbW1lbnRzTnVtID0gcmVzLmNvbW1lbnRzTnVtcy50b3RhbDsKCiAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbW1lbnRzTnVtKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5uZWdhdGl2ZUNvbW1lbnRzID0gcmVzLmNvbW1lbnRzTnVtcy5uZWdhdGl2ZUNvbW1lbnRzIC8gX3RoaXMuY29tbWVudHNOdW07CiAgICAgICAgICAgICAgICBfdGhpcy5wb3NpdGl2ZUNvbW1lbnRzID0gcmVzLmNvbW1lbnRzTnVtcy5wb3NpdGl2ZUNvbW1lbnRzIC8gX3RoaXMuY29tbWVudHNOdW07CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpcy5tb3VudGVkID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIHdpbmRvdy5lcnIgPSBfY29udGV4dC50MDsKICAgICAgICAgICAgICBfdGhpcy5tb3VudGVkID0gdHJ1ZTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgMTFdXSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["/app/src/components/Dashboard/AdminDashboardComponent.vue"],"names":[],"mappings":";;;AAuGA,OAAO,SAAP,MAAsB,4BAAtB;AACA,OAAO,QAAP,MAAqB,aAArB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,oBADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,OAAO,EAAE,KADJ;AAEL,MAAA,QAAQ,EAAE,CAFL;AAGL,MAAA,QAAQ,EAAE,CAHL;AAIL,MAAA,WAAW,EAAE,CAJR;AAKL,MAAA,gBAAgB,EAAE,CALb;AAML,MAAA,gBAAgB,EAAE;AANb,KAAP;AAQD,GAXY;AAYb,EAAA,QAAQ,EAAE;AACR,IAAA,qBADQ,mCACgB;AACtB,aAAO,CAAC,CAAC,KAAK,gBAAL,GAAwB,GAAzB,EAA8B,OAA9B,CAAsC,CAAtC,CAAD,GAA4C,GAAnD;AACD,KAHO;AAIR,IAAA,qBAJQ,mCAIgB;AACtB,aAAO,CAAC,CAAC,KAAK,gBAAL,GAAwB,GAAzB,EAA8B,OAA9B,CAAsC,CAAtC,CAAD,GAA4C,GAAnD;AACD;AANO,GAZG;AAoBb,EAAA,UAAU,EAAE;AACV,IAAA,SAAS,EAAT;AADU,GApBC;AAuBb,EAAA,OAAO,EAAE;AACP,IAAA,WADO,uBACK,MADL,EACa;AAClB,aAAO;AAAE,QAAA,SAAS,yBAAkB,CAAC,MAAK,IAAK,CAAX,IAAgB,EAAlC;AAAX,OAAP;AACD;AAHM,GAvBI;AA4BP,EAAA,OA5BO,qBA4BG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEM,QAAQ,CAAC,KAAT,EAFN;;AAAA;AAEN,cAAA,GAFM;AAGZ;AACA,cAAA,KAAI,CAAC,QAAL,GAAgB,GAAG,CAAC,QAApB;AACA,cAAA,KAAI,CAAC,QAAL,GAAgB,GAAG,CAAC,QAAJ,CAAa,KAA7B;AACA,cAAA,KAAI,CAAC,WAAL,GAAmB,GAAG,CAAC,YAAJ,CAAiB,KAApC;;AACA,kBAAI,KAAI,CAAC,WAAT,EAAsB;AACpB,gBAAA,KAAI,CAAC,gBAAL,GACE,GAAG,CAAC,YAAJ,CAAiB,gBAAjB,GAAoC,KAAI,CAAC,WAD3C;AAEA,gBAAA,KAAI,CAAC,gBAAL,GACE,GAAG,CAAC,YAAJ,CAAiB,gBAAjB,GAAoC,KAAI,CAAC,WAD3C;AAEF;;AACA,cAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AAbY;AAAA;;AAAA;AAAA;AAAA;AAeZ,cAAA,MAAM,CAAC,GAAP;AACA,cAAA,KAAI,CAAC,OAAL,GAAe,IAAf;;AAhBY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBf;AA9CY,CAAf","sourcesContent":["<template>\n  <q-page padding :style-fn=\"resetHeight\" class=\"bg-secondary\">\n    <Container>\n      <div class=\"yl-content\">\n        <div class=\"text-center q-pa-lg text-bold text-h5\">Admin Dashboard</div>\n        <div class=\"row justify-center\" v-if=\"!mounted\">\n          <q-spinner-audio color=\"white\" size=\"4em\" />\n        </div>\n        <div class=\"q-px-lg q-pb-lg row q-col-gutter-md\" v-if=\"mounted\">\n          <div class=\"col-12 col-sm-6 col-md-4 col-lg-4\">\n            <q-card class=\"yl-h-100\">\n              <q-card-section>\n                <div class=\"text-bold\">Total Users</div>\n                <div class=\"q-mt-sm\">\n                  YOWL has {{ usersNum }} user<span v-if=\"usersNum > 1\">s</span>\n                  registered.\n                </div>\n                <router-link to=\"/dashboard/admin/users\">\n                  <q-btn\n                    color=\"primary\"\n                    icon-right=\"send\"\n                    label=\"Manage users\"\n                    class=\"q-mt-sm\"\n                  />\n                </router-link>\n              </q-card-section>\n            </q-card>\n          </div>\n          <div class=\"col-12 col-sm-6 col-md-4 col-lg-4\">\n            <q-card class=\"yl-h-100\">\n              <q-card-section>\n                <div class=\"text-bold\">Total sites rated</div>\n                <div class=\"q-mt-sm\">\n                  YOWL has {{ sitesNum }} site<span v-if=\"sitesNum > 1\">s</span>\n                  rated.\n                </div>\n              </q-card-section>\n              <q-separator inset />\n              <q-card-section>\n                <div class=\"text-bold\">Total comments</div>\n                <div class=\"q-mt-sm\">\n                  YOWL has {{ commentsNum }} comment<span v-if=\"commentsNum > 1\"\n                    >s</span\n                  >\n                  saved.\n                </div>\n              </q-card-section>\n            </q-card>\n          </div>\n          <div class=\"col-12 col-sm-6 col-md-4 col-lg-4\">\n            <q-card class=\"yl-h-100\">\n              <q-card-section>\n                <div class=\"text-bold\">Comments distribution</div>\n                <div class=\"q-mt-sm\">\n                  <div class=\"text-secondary text-bold\">Positive comments</div>\n                  <q-linear-progress\n                    size=\"25px\"\n                    :value=\"positiveComments\"\n                    color=\"secondary\"\n                    rounded\n                  >\n                    <div class=\"absolute-full flex flex-center\">\n                      <q-badge\n                        color=\"white\"\n                        text-color=\"secondary\"\n                        :label=\"positiveCommentsLabel\"\n                      />\n                    </div>\n                  </q-linear-progress>\n                </div>\n                <div class=\"q-mt-sm\">\n                  <div class=\"text-negative text-bold\">Negative comments</div>\n                  <q-linear-progress\n                    size=\"25px\"\n                    :value=\"negativeComments\"\n                    color=\"negative\"\n                    rounded\n                  >\n                    <div class=\"absolute-full flex flex-center\">\n                      <q-badge\n                        color=\"white\"\n                        text-color=\"negative\"\n                        :label=\"negativeCommentsLabel\"\n                      />\n                    </div>\n                  </q-linear-progress>\n                </div>\n              </q-card-section>\n            </q-card>\n          </div>\n        </div>\n      </div>\n    </Container>\n  </q-page>\n</template>\n\n<style lang=\"scss\" scoped>\n.yl-h-100 {\n  height: 100%;\n}\n</style>\n\n<script>\nimport Container from \"@/components/Container.vue\";\nimport UsersAPI from \"@/api/users\";\n\nexport default {\n  name: \"AdminDashboardComp\",\n  data() {\n    return {\n      mounted: false,\n      usersNum: 0,\n      sitesNum: 0,\n      commentsNum: 0,\n      negativeComments: 0,\n      positiveComments: 0,\n    };\n  },\n  computed: {\n    negativeCommentsLabel() {\n      return +(this.negativeComments * 100).toFixed(2) + \"%\";\n    },\n    positiveCommentsLabel() {\n      return +(this.positiveComments * 100).toFixed(2) + \"%\";\n    },\n  },\n  components: {\n    Container,\n  },\n  methods: {\n    resetHeight(offset) {\n      return { minHeight: `calc(100vh - ${(offset || 0) + 70}px)` };\n    },\n  },\n  async mounted() {\n    try {\n      const res = await UsersAPI.admin();\n      // console.log(res);\n      this.usersNum = res.usersNum;\n      this.sitesNum = res.sitesNum.total;\n      this.commentsNum = res.commentsNums.total;\n      if (this.commentsNum) {\n        this.negativeComments =\n          res.commentsNums.negativeComments / this.commentsNum;\n        this.positiveComments =\n          res.commentsNums.positiveComments / this.commentsNum;\n      }\n      this.mounted = true;\n    } catch (error) {\n      window.err = error;\n      this.mounted = true;\n    }\n  },\n};\n</script>\n"],"sourceRoot":""}]}