{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/vue-loader-v16/dist/templateLoader.js??ref--7!/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-0!/app/node_modules/cache-loader/dist/cjs.js??ref--1-1!/app/node_modules/vue-loader-v16/dist/index.js??ref--1-2!/app/src/components/Comments/Pagination.vue?vue&type=template&id=15814ff3","dependencies":[{"path":"/app/src/components/Comments/Pagination.vue","mtime":1641198370373},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1640299636617},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388},{"path":"/app/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1640299655523},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js","mtime":1640775278388},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1640299655523}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5saW5rLmpzIjsKaW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgbm9ybWFsaXplQ2xhc3MgYXMgX25vcm1hbGl6ZUNsYXNzIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJxLXBhLWxnIGZsZXggZmxleC1jZW50ZXIgcS1tdC1sZyBiZy13aGl0ZSIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9xX2J0biA9IF9yZXNvbHZlQ29tcG9uZW50KCJxLWJ0biIpOwoKICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkb3B0aW9ucy5wYWdlc051bXNBcnJheSwgZnVuY3Rpb24gKGkpIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhpICE9PSAkb3B0aW9ucy5wYWdlc051bXNBcnJheVskb3B0aW9ucy5wYWdlc051bXNBcnJheS5sZW5ndGggLSAxXSA/ICdxLW1yLXNtJyA6ICcnKSwKICAgICAga2V5OiBpCiAgICB9LCBbaSAhPT0gJHByb3BzLnBhZ2UgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9yb3V0ZXJfbGluaywgewogICAgICBrZXk6IDAsCiAgICAgIHRvOiB7CiAgICAgICAgcGF0aDogJHByb3BzLmxpbmssCiAgICAgICAgcXVlcnk6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgJHByb3BzLnF1ZXJ5KSwge30sIHsKICAgICAgICAgIHBhZ2U6IGkKICAgICAgICB9KQogICAgICB9CiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3FfYnRuLCB7CiAgICAgICAgICBmbGF0OiAiIiwKICAgICAgICAgIGxhYmVsOiBpLAogICAgICAgICAgY29sb3I6ICIiCiAgICAgICAgfSwgbnVsbCwgOCwgWyJsYWJlbCJdKV07CiAgICAgIH0pLAogICAgICBfOiAyCiAgICB9LCAxMDMyLCBbInRvIl0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X3FfYnRuLCB7CiAgICAgIGtleTogMSwKICAgICAgbGFiZWw6IGksCiAgICAgIGNvbG9yOiAicHJpbWFyeSIKICAgIH0sIG51bGwsIDgsIFsibGFiZWwiXSkpXSwgMik7CiAgfSksIDEyOCkpXSk7Cn0="},{"version":3,"sources":["/app/src/components/Comments/Pagination.vue"],"names":[],"mappings":";;;;AACO,EAAA,KAAK,EAAC;;;;;;;uBAAX,mBAAA,CAcM,KAdN,EAAA,UAAA,EAcM,E,kBAbJ,mBAAA,CAYM,SAZN,EAYM,IAZN,EAYM,WAAA,CAVQ,QAAA,CAAA,cAUR,EAVsB,UAAnB,CAAmB,EAAlB;yBAFV,mBAAA,CAYM,KAZN,EAYM;AAXH,MAAA,KAAK,EAAA,eAAA,CAAE,CAAC,KAAK,QAAA,CAAA,cAAA,CAAe,QAAA,CAAA,cAAA,CAAe,MAAf,GAAqB,CAApC,CAAN,GAA0C,SAA1C,GAA0C,EAA5C,CAWF;AATH,MAAA,GAAG,EAAE;AASF,KAZN,E,CAOU,CAAC,KAAK,MAAA,CAAA,I,kBAFd,YAAA,CAKc,sBALd,EAKc;YAAA;AAJX,MAAA,EAAE,EAAA;AAAA,QAAA,IAAA,EAAU,MAAA,CAAA,IAAV;AAAc,QAAA,KAAA,kCAAc,MAAA,CAAA,KAAd;AAAmB,UAAA,IAAA,EAAQ;AAA3B;AAAd;AAIS,KALd,E;wBAIE;AAAA,eAAkC,CAAlC,YAAA,CAAkC,gBAAlC,EAAkC;AAA3B,UAAA,IAAI,EAAJ,EAA2B;AAArB,UAAA,KAAK,EAAE,CAAc;AAAX,UAAA,KAAK,EAAC;AAAK,SAAlC,E,IAAA,E,CAAA,E,SAAA,CAAkC,CAAlC;AAAA,O;;KAJF,E,IAAA,E,MAAA,C,mBAMA,YAAA,CAA2C,gBAA3C,EAA2C;YAAA;AAA5B,MAAA,KAAK,EAAE,CAAqB;AAAlB,MAAA,KAAK,EAAC;AAAY,KAA3C,E,IAAA,E,CAAA,E,SAAA,C,EAXF,E,CAAA,C;GAYM,CAZN,E,GAAA,CAaI,EAdN,C","sourcesContent":["<template>\n  <div class=\"q-pa-lg flex flex-center q-mt-lg bg-white\">\n    <div\n      :class=\"i !== pagesNumsArray[pagesNumsArray.length - 1] ? 'q-mr-sm' : ''\"\n      v-for=\"i in pagesNumsArray\"\n      :key=\"i\"\n    >\n      <router-link\n        :to=\"{ path: link, query: { ...query, page: i } }\"\n        v-if=\"i !== page\"\n      >\n        <q-btn flat :label=\"i\" color=\"\" />\n      </router-link>\n      <q-btn v-else :label=\"i\" color=\"primary\" />\n    </div>\n  </div>\n</template>\n\n<script>\n// https://stackoverflow.com/a/33457557\n// https://stackoverflow.com/a/44176557\n// new Array(stop-start+1).fill(start).map((n,i)=>n+i)\n// new Array(6-4+1).fill(4).map((n,i)=>n+i)   => [4, 5, 6]\n\nexport default {\n  props: {\n    limit: {\n      type: Number,\n      default: () => 5,\n    },\n    page: {\n      type: Number,\n      default: () => 1,\n    },\n    totalPages: {\n      type: Number,\n      default: () => 1,\n    },\n    link: {\n      type: String,\n      default: () => \"\",\n    },\n    query: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  computed: {\n    pagesNumsArray() {\n      const totalPages = this.totalPages;\n      const currentPage = this.page;\n      const limit = this.limit;\n      //   const totalPages = 8;\n      //   const currentPage = 4;\n      //   const limit = 7;\n      // 10-4-5-10\n      const isEven = limit % 2 === 0;\n      const leftSide = isEven ? limit / 2 - 1 : Math.floor(limit / 2);\n      const rightSide = isEven ? limit / 2 : Math.floor(limit / 2);\n\n      let pagesLinksArray = [];\n      if (currentPage > totalPages) return pagesLinksArray;\n      if (totalPages > limit) {\n        let left = Math.min(currentPage - 1, limit);\n        let right = Math.min(totalPages - currentPage, limit);\n        if (left >= leftSide && right >= rightSide) {\n          left = leftSide;\n          right = rightSide;\n        } else {\n          if (left < right) {\n            right = Math.min(limit - left - 1, right);\n          }\n          if (right < left) {\n            left = Math.min(limit - right - 1, left);\n          }\n          if (left === right) {\n            if (left <= leftSide) {\n              // Look here if things glitch later.\n              // console.log(\"hit\");\n            } else {\n              // Keep right and change left\n              left = Math.min(limit - right - 1, left);\n            }\n          }\n        }\n\n        const leftNum = currentPage - left;\n        const rightNum = currentPage + right;\n        for (let i = leftNum; i <= rightNum; i++) {\n          pagesLinksArray.push(i);\n        }\n      } else {\n        for (let i = 1; i <= totalPages; i++) {\n          pagesLinksArray.push(i);\n        }\n      }\n\n      return pagesLinksArray;\n    },\n  },\n};\n</script>\n"],"sourceRoot":""}]}