{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-0!/app/node_modules/cache-loader/dist/cjs.js??ref--1-1!/app/node_modules/vue-loader-v16/dist/index.js??ref--1-2!/app/src/components/Dashboard/AdminDashboardUsersComponent.vue?vue&type=script&lang=js","dependencies":[{"path":"/app/src/components/Dashboard/AdminDashboardUsersComponent.vue","mtime":1641322427592},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js","mtime":1640775278388},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1640299655523}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgQ29udGFpbmVyIGZyb20gIkAvY29tcG9uZW50cy9Db250YWluZXIudnVlIjsKaW1wb3J0IFVzZXJzQVBJIGZyb20gIkAvYXBpL3VzZXJzIjsKaW1wb3J0IEVkaXRVc2VyIGZyb20gIkAvY29tcG9uZW50cy9EYXNoYm9hcmQvRWRpdFVzZXIudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZG1pbkRhc2hib2FyZFVzZXJDb21wb25lbnQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb3VudGVkOiBmYWxzZSwKICAgICAgdXNlcnM6IFtdLAogICAgICBzaG93VXNlclZpZXc6IGZhbHNlLAogICAgICBjdXJyZW50VXNlcjoge30KICAgIH07CiAgfSwKICAvLyAgIGNvbXB1dGVkOiB7CiAgLy8gICAgIG5lZ2F0aXZlQ29tbWVudHNMYWJlbCgpIHsKICAvLyAgICAgICByZXR1cm4gKyh0aGlzLm5lZ2F0aXZlQ29tbWVudHMgKiAxMDApLnRvRml4ZWQoMikgKyAiJSI7CiAgLy8gICAgIH0sCiAgLy8gICAgIHBvc2l0aXZlQ29tbWVudHNMYWJlbCgpIHsKICAvLyAgICAgICByZXR1cm4gKyh0aGlzLnBvc2l0aXZlQ29tbWVudHMgKiAxMDApLnRvRml4ZWQoMikgKyAiJSI7CiAgLy8gICAgIH0sCiAgLy8gICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENvbnRhaW5lcjogQ29udGFpbmVyLAogICAgRWRpdFVzZXI6IEVkaXRVc2VyCiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNldEhlaWdodDogZnVuY3Rpb24gcmVzZXRIZWlnaHQob2Zmc2V0KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbWluSGVpZ2h0OiAiY2FsYygxMDB2aCAtICIuY29uY2F0KChvZmZzZXQgfHwgMCkgKyA3MCwgInB4KSIpCiAgICAgIH07CiAgICB9LAogICAgdG9nZ2xlU2hvd1VzZXI6IGZ1bmN0aW9uIHRvZ2dsZVNob3dVc2VyKCkgewogICAgICB0aGlzLnNob3dVc2VyVmlldyA9ICF0aGlzLnNob3dVc2VyVmlldzsKICAgIH0sCiAgICBzaG93VXNlcjogZnVuY3Rpb24gc2hvd1VzZXIodXNlcikgewogICAgICBpZiAodXNlci5pZCA9PT0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci5pZCkgcmV0dXJuOwogICAgICB0aGlzLmN1cnJlbnRVc2VyID0gdXNlcjsKICAgICAgdGhpcy50b2dnbGVTaG93VXNlcigpOwogICAgfSwKICAgIHVwZGF0ZWRVc2VyOiBmdW5jdGlvbiB1cGRhdGVkVXNlcih1c2VyKSB7CiAgICAgIHRoaXMudXNlcnMgPSB0aGlzLnVzZXJzLm1hcChmdW5jdGlvbiAoZWwpIHsKICAgICAgICBpZiAoZWwuaWQgPT09IHVzZXIuaWQpIHJldHVybiB1c2VyO2Vsc2UgcmV0dXJuIGVsOwogICAgICB9KTsKICAgICAgdGhpcy5jdXJyZW50VXNlciA9IHt9OwogICAgICB0aGlzLnRvZ2dsZVNob3dVc2VyKCk7CiAgICB9LAogICAgcmVtb3ZlZFVzZXI6IGZ1bmN0aW9uIHJlbW92ZWRVc2VyKHVzZXIpIHsKICAgICAgdGhpcy51c2VycyA9IHRoaXMudXNlcnMuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5pZCAhPT0gdXNlci5pZDsKICAgICAgfSk7CiAgICAgIHRoaXMuY3VycmVudFVzZXIgPSB7fTsKICAgICAgdGhpcy50b2dnbGVTaG93VXNlcigpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBVc2Vyc0FQSS5pbmRleCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXMudXNlcnMgPSByZXMudXNlcnM7IC8vIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgICAgIF90aGlzLm1vdW50ZWQgPSB0cnVlOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIHdpbmRvdy5lcnIgPSBfY29udGV4dC50MDsKICAgICAgICAgICAgICBfdGhpcy5tb3VudGVkID0gdHJ1ZTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOF1dKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["/app/src/components/Dashboard/AdminDashboardUsersComponent.vue"],"names":[],"mappings":";;;;;AAkEA,OAAO,SAAP,MAAsB,4BAAtB;AACA,OAAO,QAAP,MAAqB,aAArB;AACA,OAAO,QAAP,MAAqB,qCAArB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,6BADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,OAAO,EAAE,KADJ;AAEL,MAAA,KAAK,EAAE,EAFF;AAGL,MAAA,YAAY,EAAE,KAHT;AAIL,MAAA,WAAW,EAAE;AAJR,KAAP;AAMD,GATY;AAUb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAA,UAAU,EAAE;AACV,IAAA,SAAS,EAAT,SADU;AAEV,IAAA,QAAQ,EAAR;AAFU,GAlBC;AAsBb,EAAA,OAAO,EAAE;AACP,IAAA,WADO,uBACK,MADL,EACa;AAClB,aAAO;AAAE,QAAA,SAAS,yBAAkB,CAAC,MAAK,IAAK,CAAX,IAAgB,EAAlC;AAAX,OAAP;AACD,KAHM;AAIP,IAAA,cAJO,4BAIU;AACf,WAAK,YAAL,GAAoB,CAAC,KAAK,YAA1B;AACD,KANM;AAOP,IAAA,QAPO,oBAOE,IAPF,EAOQ;AACb,UAAI,IAAI,CAAC,EAAL,KAAY,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,EAAvC,EAA2C;AAC3C,WAAK,WAAL,GAAmB,IAAnB;AACA,WAAK,cAAL;AACD,KAXM;AAYP,IAAA,WAZO,uBAYK,IAZL,EAYW;AAChB,WAAK,KAAL,GAAa,KAAK,KAAL,CAAW,GAAX,CAAe,UAAC,EAAD,EAAQ;AAClC,YAAI,EAAE,CAAC,EAAH,KAAU,IAAI,CAAC,EAAnB,EAAuB,OAAO,IAAP,CAAvB,KACK,OAAO,EAAP;AACN,OAHY,CAAb;AAIA,WAAK,WAAL,GAAmB,EAAnB;AACA,WAAK,cAAL;AACD,KAnBM;AAoBP,IAAA,WApBO,uBAoBK,IApBL,EAoBW;AAChB,WAAK,KAAL,GAAa,KAAK,KAAL,CAAW,MAAX,CAAkB,UAAC,EAAD;AAAA,eAAQ,EAAE,CAAC,EAAH,KAAU,IAAI,CAAC,EAAvB;AAAA,OAAlB,CAAb;AACA,WAAK,WAAL,GAAmB,EAAnB;AACA,WAAK,cAAL;AACD;AAxBM,GAtBI;AAgDP,EAAA,OAhDO,qBAgDG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEM,QAAQ,CAAC,KAAT,EAFN;;AAAA;AAEN,cAAA,GAFM;AAGZ,cAAA,KAAI,CAAC,KAAL,GAAa,GAAG,CAAC,KAAjB,CAHY,CAIZ;;AACA,cAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AALY;AAAA;;AAAA;AAAA;AAAA;AAOZ,cAAA,MAAM,CAAC,GAAP;AACA,cAAA,KAAI,CAAC,OAAL,GAAe,IAAf;;AARY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUf;AA1DY,CAAf","sourcesContent":["<template>\n  <q-page padding :style-fn=\"resetHeight\" class=\"bg-secondary\">\n    <Container>\n      <div class=\"yl-content\">\n        <div class=\"text-center q-pa-lg text-bold text-h5\">\n          Users management\n        </div>\n        <div class=\"row justify-center\" v-if=\"!mounted\">\n          <q-spinner-audio color=\"white\" size=\"4em\" />\n        </div>\n        <div class=\"q-px-lg q-pb-lg row q-col-gutter-md\" v-if=\"mounted\">\n          <q-dialog\n            v-model=\"showUserView\"\n            transition-show=\"scale\"\n            transition-hide=\"scale\"\n          >\n            <EditUser\n              :user=\"currentUser\"\n              @close=\"toggleShowUser\"\n              @updatedUser=\"updatedUser\"\n              @removedUser=\"removedUser\"\n            />\n          </q-dialog>\n          <div\n            class=\"col-12 col-sm-6 col-md-4 col-lg-3\"\n            v-for=\"user in users\"\n            :key=\"user.id\"\n            @click=\"showUser(user)\"\n          >\n            <q-card\n              :class=\"\n                'yl-h-100' +\n                (user.id === this.$store.state.user.id ? '' : ' cursor-pointer')\n              \"\n            >\n              <q-item>\n                <q-item-section top avatar>\n                  <q-avatar>\n                    <img :src=\"$store.state.env.apiBaseUrl + user.picture\" />\n                  </q-avatar>\n                </q-item-section>\n\n                <q-item-section>\n                  <q-item-label>{{ user.name }}</q-item-label>\n                  <q-item-label caption>{{ user.email }}</q-item-label>\n                </q-item-section>\n\n                <q-item-section side top>\n                  <q-badge class=\"text-capitalize\" :label=\"user.role\" />\n                </q-item-section>\n              </q-item>\n            </q-card>\n          </div>\n        </div>\n      </div>\n    </Container>\n  </q-page>\n</template>\n\n<style lang=\"scss\" scoped>\n.yl-h-100 {\n  height: 100%;\n}\n</style>\n\n<script>\nimport Container from \"@/components/Container.vue\";\nimport UsersAPI from \"@/api/users\";\nimport EditUser from \"@/components/Dashboard/EditUser.vue\";\n\nexport default {\n  name: \"AdminDashboardUserComponent\",\n  data() {\n    return {\n      mounted: false,\n      users: [],\n      showUserView: false,\n      currentUser: {},\n    };\n  },\n  //   computed: {\n  //     negativeCommentsLabel() {\n  //       return +(this.negativeComments * 100).toFixed(2) + \"%\";\n  //     },\n  //     positiveCommentsLabel() {\n  //       return +(this.positiveComments * 100).toFixed(2) + \"%\";\n  //     },\n  //   },\n  components: {\n    Container,\n    EditUser,\n  },\n  methods: {\n    resetHeight(offset) {\n      return { minHeight: `calc(100vh - ${(offset || 0) + 70}px)` };\n    },\n    toggleShowUser() {\n      this.showUserView = !this.showUserView;\n    },\n    showUser(user) {\n      if (user.id === this.$store.state.user.id) return;\n      this.currentUser = user;\n      this.toggleShowUser();\n    },\n    updatedUser(user) {\n      this.users = this.users.map((el) => {\n        if (el.id === user.id) return user;\n        else return el;\n      });\n      this.currentUser = {};\n      this.toggleShowUser();\n    },\n    removedUser(user) {\n      this.users = this.users.filter((el) => el.id !== user.id);\n      this.currentUser = {};\n      this.toggleShowUser();\n    },\n  },\n  async mounted() {\n    try {\n      const res = await UsersAPI.index();\n      this.users = res.users;\n      // console.log(res);\n      this.mounted = true;\n    } catch (error) {\n      window.err = error;\n      this.mounted = true;\n    }\n  },\n};\n</script>\n"],"sourceRoot":""}]}