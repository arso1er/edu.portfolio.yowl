{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-0!/app/node_modules/cache-loader/dist/cjs.js??ref--1-1!/app/node_modules/vue-loader-v16/dist/index.js??ref--1-2!/app/src/components/User/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/app/src/components/User/Login.vue","mtime":1641198370377},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js","mtime":1640775278388},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1640299655523}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBDb250YWluZXIgZnJvbSAiQC9jb21wb25lbnRzL0NvbnRhaW5lci52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luQ29tcCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvZ2luOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBzdWJtaXR0aW5nOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENvbnRhaW5lcjogQ29udGFpbmVyCiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNldEhlaWdodDogZnVuY3Rpb24gcmVzZXRIZWlnaHQob2Zmc2V0KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbWluSGVpZ2h0OiAiY2FsYygxMDB2aCAtICIuY29uY2F0KChvZmZzZXQgfHwgMCkgKyA3MCwgInB4KSIpCiAgICAgIH07CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkYXRhLCBtZXNzYWdlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLmxvZ2luUmVmLnZhbGlkYXRlKCk7IC8vICAgdGhpcy4kcmVmcy5lbWFpbFJlZi52YWxpZGF0ZSgpOwoKCiAgICAgICAgICAgICAgICBfdGhpcy4kcmVmcy5wYXNzd29yZFJlZi52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLiRyZWZzLmxvZ2luUmVmLmhhc0Vycm9yIHx8IC8vIHRoaXMuJHJlZnMuZW1haWxSZWYuaGFzRXJyb3IgfHwKICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLnBhc3N3b3JkUmVmLmhhc0Vycm9yKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnVzZXJuYW1lKTsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucGFzc3dvcmQpOwogICAgICAgICAgICAgICAgX3RoaXMuc3VibWl0dGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICBsb2dpbjogX3RoaXMubG9naW4sCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5wYXNzd29yZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJsb2dpbiIsIGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfdGhpcy5zdWJtaXR0aW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvIik7CgogICAgICAgICAgICAgICAgX3RoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHRydWUsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJZb3UgYXJlIGxvZ2dlZCBpbiIsCiAgICAgICAgICAgICAgICAgIC8vIGNvbG9yOiAncHJpbWFyeScsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJwb3NpdGl2ZSIsCiAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFt7CiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJEaXNtaXNzIiwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIndoaXRlIiwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgICAgICAgICAgICAgICAgLyogLi4uICovCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDYpOwogICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJUaGUgcmVxdWVzdCBmYWlsZWQuIjsgLy8gd2luZG93LmVyciA9IGVycm9yOwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpOwoKICAgICAgICAgICAgICAgIF90aGlzLnN1Ym1pdHRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAoX2NvbnRleHQudDAucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBtZXNzYWdlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiB0cnVlLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICAgICAgICAgICAgICBodG1sOiB0cnVlLAogICAgICAgICAgICAgICAgICAvLyBjb2xvcjogJ3ByaW1hcnknLAogICAgICAgICAgICAgICAgICB0eXBlOiAibmVnYXRpdmUiLAogICAgICAgICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCwKICAgICAgICAgICAgICAgICAgYWN0aW9uczogW3sKICAgICAgICAgICAgICAgICAgICBsYWJlbDogIkRpc21pc3MiLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAid2hpdGUiLAogICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgICAgICAgICAgICAgICAvKiAuLi4gKi8KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbNiwgMTRdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/app/src/components/User/Login.vue"],"names":[],"mappings":";;AA2DA,OAAO,SAAP,MAAsB,4BAAtB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,KAAK,EAAE,EADF;AAEL,MAAA,QAAQ,EAAE,EAFL;AAGL,MAAA,UAAU,EAAE;AAHP,KAAP;AAKD,GARY;AASb,EAAA,UAAU,EAAE;AACV,IAAA,SAAS,EAAT;AADU,GATC;AAYb,EAAA,OAAO,EAAE;AACP,IAAA,WADO,uBACK,MADL,EACa;AAClB,aAAO;AAAE,QAAA,SAAS,yBAAkB,CAAC,MAAK,IAAK,CAAX,IAAgB,EAAlC;AAAX,OAAP;AACD,KAHM;AAID,IAAA,YAJC,0BAIc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACnB,gBAAA,KAAI,CAAC,KAAL,CAAW,QAAX,CAAoB,QAApB,GADmB,CAEnB;;;AACA,gBAAA,KAAI,CAAC,KAAL,CAAW,WAAX,CAAuB,QAAvB;;AAHmB,sBAMjB,KAAI,CAAC,KAAL,CAAW,QAAX,CAAoB,QAApB,IACA;AACA,gBAAA,KAAI,CAAC,KAAL,CAAW,WAAX,CAAuB,QARN;AAAA;AAAA;AAAA;;AAAA,iDAUV,KAVU;;AAAA;AAanB;AACA;AAEA,gBAAA,KAAI,CAAC,UAAL,GAAkB,IAAlB;AAEM,gBAAA,IAlBa,GAkBN;AACX,kBAAA,KAAK,EAAE,KAAI,CAAC,KADD;AAEX,kBAAA,QAAQ,EAAE,KAAI,CAAC;AAFJ,iBAlBM;AAAA;AAAA;AAAA,uBAwBX,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,OAArB,EAA8B,IAA9B,CAxBW;;AAAA;AAyBjB,gBAAA,KAAI,CAAC,UAAL,GAAkB,KAAlB;;AACA,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb;;AACA,gBAAA,KAAI,CAAC,EAAL,CAAQ,MAAR,CAAe;AACb,kBAAA,QAAQ,EAAE,IADG;AAEb,kBAAA,OAAO,EAAE,mBAFI;AAGb;AACA,kBAAA,IAAI,EAAE,UAJO;AAKb,kBAAA,OAAO,EAAE,CACP;AACE,oBAAA,KAAK,EAAE,SADT;AAEE,oBAAA,KAAK,EAAE,OAFT;AAGE,oBAAA,OAAO,EAAE,mBAAM;AACb;AACD;AALH,mBADO;AALI,iBAAf;;AA3BiB;AAAA;;AAAA;AAAA;AAAA;AA2Cb,gBAAA,OA3Ca,GA2CH,qBA3CG,EA4CjB;AACA;;AACA,gBAAA,KAAI,CAAC,UAAL,GAAkB,KAAlB;;AACA,oBAAI,YAAM,QAAV,EAAoB;AAClB,kBAAA,OAAM,GAAI,YAAM,QAAN,CAAe,IAAf,CAAoB,OAApB,IAA+B,OAAzC;AACF;;AACA,gBAAA,KAAI,CAAC,EAAL,CAAQ,MAAR,CAAe;AACb,kBAAA,QAAQ,EAAE,IADG;AAEb,kBAAA,OAAO,EAAE,OAFI;AAGb,kBAAA,IAAI,EAAE,IAHO;AAIb;AACA,kBAAA,IAAI,EAAE,UALO;AAMb,kBAAA,OAAO,EAAE,KANI;AAOb,kBAAA,OAAO,EAAE,CACP;AACE,oBAAA,KAAK,EAAE,SADT;AAEE,oBAAA,KAAK,EAAE,OAFT;AAGE,oBAAA,OAAO,EAAE,mBAAM;AACb;AACD;AALH,mBADO;AAPI,iBAAf;;AAlDiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoEpB;AAxEM;AAZI,CAAf","sourcesContent":["<template>\n  <q-page padding :style-fn=\"resetHeight\" class=\"bg-secondary\">\n    <Container style=\"max-width: 700px\">\n      <q-card>\n        <q-card-section>\n          <div class=\"text-h6\">Login</div>\n        </q-card-section>\n\n        <q-separator inset />\n\n        <q-card-section>\n          <form @submit.prevent=\"handleSubmit\">\n            <q-input\n              :rules=\"[(val) => !!val || 'Login/Username is required']\"\n              ref=\"loginRef\"\n              v-model=\"login\"\n              class=\"q-mt-sm\"\n              outlined\n              label=\"Login/Username\"\n            />\n\n            <q-input\n              :rules=\"[(val) => !!val || 'Password is required']\"\n              type=\"password\"\n              ref=\"passwordRef\"\n              v-model=\"password\"\n              class=\"q-mt-sm\"\n              outlined\n              label=\"Password\"\n            />\n\n            <div class=\"q-mt-md\">\n              <q-btn color=\"grey\" to=\"/\" type=\"reset\" :disable=\"submitting\">\n                Cancel\n              </q-btn>\n              <q-btn\n                class=\"q-ml-sm\"\n                color=\"positive\"\n                type=\"submit\"\n                :disable=\"submitting\"\n              >\n                <q-spinner\n                  v-if=\"submitting\"\n                  class=\"q-mr-sm\"\n                  color=\"white\"\n                  size=\"1em\"\n                  :thickness=\"3\"\n                />\n                Login\n              </q-btn>\n            </div>\n          </form>\n        </q-card-section>\n      </q-card>\n    </Container>\n  </q-page>\n</template>\n\n<script>\nimport Container from \"@/components/Container.vue\";\n\nexport default {\n  name: \"LoginComp\",\n  data() {\n    return {\n      login: \"\",\n      password: \"\",\n      submitting: false,\n    };\n  },\n  components: {\n    Container,\n  },\n  methods: {\n    resetHeight(offset) {\n      return { minHeight: `calc(100vh - ${(offset || 0) + 70}px)` };\n    },\n    async handleSubmit() {\n      this.$refs.loginRef.validate();\n      //   this.$refs.emailRef.validate();\n      this.$refs.passwordRef.validate();\n\n      if (\n        this.$refs.loginRef.hasError ||\n        // this.$refs.emailRef.hasError ||\n        this.$refs.passwordRef.hasError\n      ) {\n        return false;\n      }\n\n      // console.log(this.username);\n      // console.log(this.password);\n\n      this.submitting = true;\n\n      const data = {\n        login: this.login,\n        password: this.password,\n      };\n\n      try {\n        await this.$store.dispatch(\"login\", data);\n        this.submitting = false;\n        this.$router.push(`/`);\n        this.$q.notify({\n          progress: true,\n          message: \"You are logged in\",\n          // color: 'primary',\n          type: \"positive\",\n          actions: [\n            {\n              label: \"Dismiss\",\n              color: \"white\",\n              handler: () => {\n                /* ... */\n              },\n            },\n          ],\n        });\n      } catch (error) {\n        let message = \"The request failed.\";\n        // window.err = error;\n        // console.log(error);\n        this.submitting = false;\n        if (error.response) {\n          message = error.response.data.message || message;\n        }\n        this.$q.notify({\n          progress: true,\n          message: message,\n          html: true,\n          // color: 'primary',\n          type: \"negative\",\n          timeout: 10000,\n          actions: [\n            {\n              label: \"Dismiss\",\n              color: \"white\",\n              handler: () => {\n                /* ... */\n              },\n            },\n          ],\n        });\n      }\n    },\n  },\n};\n</script>\n"],"sourceRoot":""}]}