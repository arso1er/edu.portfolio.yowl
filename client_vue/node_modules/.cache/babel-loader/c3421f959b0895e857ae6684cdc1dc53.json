{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/quasar/src/components/editor/QEditor.js","dependencies":[{"path":"/app/node_modules/quasar/src/components/editor/QEditor.js","mtime":1640793220809},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1640299636617},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuYm9sZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGFsaWNzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZsYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS51bnNjb3BhYmxlcy5mbGF0LmpzIjsKaW1wb3J0IHsgaCwgcmVmLCBjb21wdXRlZCwgd2F0Y2gsIG9uTW91bnRlZCwgbmV4dFRpY2ssIGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBDYXJldCBmcm9tICcuL2VkaXRvci1jYXJldC5qcyc7CmltcG9ydCB7IGdldFRvb2xiYXIsIGdldEZvbnRzLCBnZXRMaW5rRWRpdG9yIH0gZnJvbSAnLi9lZGl0b3ItdXRpbHMuanMnOwppbXBvcnQgdXNlRGFyaywgeyB1c2VEYXJrUHJvcHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlL3VzZS1kYXJrLmpzJzsKaW1wb3J0IHVzZUZ1bGxzY3JlZW4sIHsgdXNlRnVsbHNjcmVlblByb3BzLCB1c2VGdWxsc2NyZWVuRW1pdHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlL3VzZS1mdWxsc2NyZWVuLmpzJzsKaW1wb3J0IHVzZVNwbGl0QXR0cnMgZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS91c2Utc3BsaXQtYXR0cnMuanMnOwppbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlL2NyZWF0ZS5qcyc7CmltcG9ydCB7IHN0b3BBbmRQcmV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvZXZlbnQuanMnOwppbXBvcnQgZXh0ZW5kIGZyb20gJy4uLy4uL3V0aWxzL2V4dGVuZC5qcyc7CmltcG9ydCB7IHNob3VsZElnbm9yZUtleSB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUva2V5LWNvbXBvc2l0aW9uLmpzJzsKaW1wb3J0IHsgYWRkRm9jdXNGbiB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUvZm9jdXMtbWFuYWdlci5qcyc7CmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCh7CiAgbmFtZTogJ1FFZGl0b3InLAogIHByb3BzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdXNlRGFya1Byb3BzKSwgdXNlRnVsbHNjcmVlblByb3BzKSwge30sIHsKICAgIG1vZGVsVmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHJlYWRvbmx5OiBCb29sZWFuLAogICAgZGlzYWJsZTogQm9vbGVhbiwKICAgIG1pbkhlaWdodDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcxMHJlbScKICAgIH0sCiAgICBtYXhIZWlnaHQ6IFN0cmluZywKICAgIGhlaWdodDogU3RyaW5nLAogICAgZGVmaW5pdGlvbnM6IE9iamVjdCwKICAgIGZvbnRzOiBPYmplY3QsCiAgICBwbGFjZWhvbGRlcjogU3RyaW5nLAogICAgdG9vbGJhcjogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodikgewogICAgICAgIHJldHVybiB2Lmxlbmd0aCA9PT0gMCB8fCB2LmV2ZXJ5KGZ1bmN0aW9uIChncm91cCkgewogICAgICAgICAgcmV0dXJuIGdyb3VwLmxlbmd0aDsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtbJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0JywgJ2p1c3RpZnknXSwgWydib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCAnc3RyaWtlJ10sIFsndW5kbycsICdyZWRvJ11dOwogICAgICB9CiAgICB9LAogICAgdG9vbGJhckNvbG9yOiBTdHJpbmcsCiAgICB0b29sYmFyQmc6IFN0cmluZywKICAgIHRvb2xiYXJUZXh0Q29sb3I6IFN0cmluZywKICAgIHRvb2xiYXJUb2dnbGVDb2xvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdwcmltYXJ5JwogICAgfSwKICAgIHRvb2xiYXJPdXRsaW5lOiBCb29sZWFuLAogICAgdG9vbGJhclB1c2g6IEJvb2xlYW4sCiAgICB0b29sYmFyUm91bmRlZDogQm9vbGVhbiwKICAgIHBhcmFncmFwaFRhZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHYpIHsKICAgICAgICByZXR1cm4gWydkaXYnLCAncCddLmluY2x1ZGVzKHYpOwogICAgICB9LAogICAgICBkZWZhdWx0OiAnZGl2JwogICAgfSwKICAgIGNvbnRlbnRTdHlsZTogT2JqZWN0LAogICAgY29udGVudENsYXNzOiBbT2JqZWN0LCBBcnJheSwgU3RyaW5nXSwKICAgIHNxdWFyZTogQm9vbGVhbiwKICAgIGZsYXQ6IEJvb2xlYW4sCiAgICBkZW5zZTogQm9vbGVhbgogIH0pLAogIGVtaXRzOiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHVzZUZ1bGxzY3JlZW5FbWl0cyksIFsndXBkYXRlOm1vZGVsVmFsdWUnLCAna2V5ZG93bicsICdjbGljaycsICdtb3VzZXVwJywgJ2tleXVwJywgJ3RvdWNoZW5kJywgJ2ZvY3VzJywgJ2JsdXInXSksCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgc2xvdHMgPSBfcmVmLnNsb3RzLAogICAgICAgIGVtaXQgPSBfcmVmLmVtaXQsCiAgICAgICAgYXR0cnMgPSBfcmVmLmF0dHJzOwoKICAgIHZhciBfZ2V0Q3VycmVudEluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCksCiAgICAgICAgcHJveHkgPSBfZ2V0Q3VycmVudEluc3RhbmNlLnByb3h5LAogICAgICAgIHZub2RlID0gX2dldEN1cnJlbnRJbnN0YW5jZS52bm9kZTsKCiAgICB2YXIgJHEgPSBwcm94eS4kcTsKICAgIHZhciBpc0RhcmsgPSB1c2VEYXJrKHByb3BzLCAkcSk7CgogICAgdmFyIF91c2VGdWxsc2NyZWVuID0gdXNlRnVsbHNjcmVlbigpLAogICAgICAgIGluRnVsbHNjcmVlbiA9IF91c2VGdWxsc2NyZWVuLmluRnVsbHNjcmVlbiwKICAgICAgICB0b2dnbGVGdWxsc2NyZWVuID0gX3VzZUZ1bGxzY3JlZW4udG9nZ2xlRnVsbHNjcmVlbjsKCiAgICB2YXIgc3BsaXRBdHRycyA9IHVzZVNwbGl0QXR0cnMoYXR0cnMsIHZub2RlKTsKICAgIHZhciByb290UmVmID0gcmVmKG51bGwpOwogICAgdmFyIGNvbnRlbnRSZWYgPSByZWYobnVsbCk7CiAgICB2YXIgZWRpdExpbmtVcmwgPSByZWYobnVsbCk7CiAgICB2YXIgaXNWaWV3aW5nU291cmNlID0gcmVmKGZhbHNlKTsKICAgIHZhciBlZGl0YWJsZSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICFwcm9wcy5yZWFkb25seSAmJiAhcHJvcHMuZGlzYWJsZTsKICAgIH0pOwogICAgdmFyIGRlZmF1bHRGb250LCBvZmZzZXRCb3R0b207CiAgICB2YXIgbGFzdEVtaXQgPSBwcm9wcy5tb2RlbFZhbHVlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCgogICAgaWYgKF9fUVVBU0FSX1NTUl9TRVJWRVJfXyAhPT0gdHJ1ZSkgewogICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnZGVmYXVsdFBhcmFncmFwaFNlcGFyYXRvcicsIGZhbHNlLCBwcm9wcy5wYXJhZ3JhcGhUYWcpOwogICAgICBkZWZhdWx0Rm9udCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLmZvbnRGYW1pbHk7CiAgICB9CgogICAgdmFyIHRvb2xiYXJCYWNrZ3JvdW5kQ2xhc3MgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBwcm9wcy50b29sYmFyQmcgPyAiIGJnLSIuY29uY2F0KHByb3BzLnRvb2xiYXJCZykgOiAnJzsKICAgIH0pOwogICAgdmFyIGJ1dHRvblByb3BzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgZmxhdCA9IHByb3BzLnRvb2xiYXJPdXRsaW5lICE9PSB0cnVlICYmIHByb3BzLnRvb2xiYXJQdXNoICE9PSB0cnVlOwogICAgICByZXR1cm4gewogICAgICAgIHR5cGU6ICdhJywKICAgICAgICBmbGF0OiBmbGF0LAogICAgICAgIG5vV3JhcDogdHJ1ZSwKICAgICAgICBvdXRsaW5lOiBwcm9wcy50b29sYmFyT3V0bGluZSwKICAgICAgICBwdXNoOiBwcm9wcy50b29sYmFyUHVzaCwKICAgICAgICByb3VuZGVkOiBwcm9wcy50b29sYmFyUm91bmRlZCwKICAgICAgICBkZW5zZTogdHJ1ZSwKICAgICAgICBjb2xvcjogcHJvcHMudG9vbGJhckNvbG9yLAogICAgICAgIGRpc2FibGU6ICFlZGl0YWJsZS52YWx1ZSwKICAgICAgICBzaXplOiAnc20nCiAgICAgIH07CiAgICB9KTsKICAgIHZhciBidXR0b25EZWYgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlID0gJHEubGFuZy5lZGl0b3IsCiAgICAgICAgICBpID0gJHEuaWNvblNldC5lZGl0b3I7CiAgICAgIHJldHVybiB7CiAgICAgICAgYm9sZDogewogICAgICAgICAgY21kOiAnYm9sZCcsCiAgICAgICAgICBpY29uOiBpLmJvbGQsCiAgICAgICAgICB0aXA6IGUuYm9sZCwKICAgICAgICAgIGtleTogNjYKICAgICAgICB9LAogICAgICAgIGl0YWxpYzogewogICAgICAgICAgY21kOiAnaXRhbGljJywKICAgICAgICAgIGljb246IGkuaXRhbGljLAogICAgICAgICAgdGlwOiBlLml0YWxpYywKICAgICAgICAgIGtleTogNzMKICAgICAgICB9LAogICAgICAgIHN0cmlrZTogewogICAgICAgICAgY21kOiAnc3RyaWtlVGhyb3VnaCcsCiAgICAgICAgICBpY29uOiBpLnN0cmlrZXRocm91Z2gsCiAgICAgICAgICB0aXA6IGUuc3RyaWtldGhyb3VnaCwKICAgICAgICAgIGtleTogODMKICAgICAgICB9LAogICAgICAgIHVuZGVybGluZTogewogICAgICAgICAgY21kOiAndW5kZXJsaW5lJywKICAgICAgICAgIGljb246IGkudW5kZXJsaW5lLAogICAgICAgICAgdGlwOiBlLnVuZGVybGluZSwKICAgICAgICAgIGtleTogODUKICAgICAgICB9LAogICAgICAgIHVub3JkZXJlZDogewogICAgICAgICAgY21kOiAnaW5zZXJ0VW5vcmRlcmVkTGlzdCcsCiAgICAgICAgICBpY29uOiBpLnVub3JkZXJlZExpc3QsCiAgICAgICAgICB0aXA6IGUudW5vcmRlcmVkTGlzdAogICAgICAgIH0sCiAgICAgICAgb3JkZXJlZDogewogICAgICAgICAgY21kOiAnaW5zZXJ0T3JkZXJlZExpc3QnLAogICAgICAgICAgaWNvbjogaS5vcmRlcmVkTGlzdCwKICAgICAgICAgIHRpcDogZS5vcmRlcmVkTGlzdAogICAgICAgIH0sCiAgICAgICAgc3Vic2NyaXB0OiB7CiAgICAgICAgICBjbWQ6ICdzdWJzY3JpcHQnLAogICAgICAgICAgaWNvbjogaS5zdWJzY3JpcHQsCiAgICAgICAgICB0aXA6IGUuc3Vic2NyaXB0LAogICAgICAgICAgaHRtbFRpcDogJ3g8c3Vic2NyaXB0PjI8L3N1YnNjcmlwdD4nCiAgICAgICAgfSwKICAgICAgICBzdXBlcnNjcmlwdDogewogICAgICAgICAgY21kOiAnc3VwZXJzY3JpcHQnLAogICAgICAgICAgaWNvbjogaS5zdXBlcnNjcmlwdCwKICAgICAgICAgIHRpcDogZS5zdXBlcnNjcmlwdCwKICAgICAgICAgIGh0bWxUaXA6ICd4PHN1cGVyc2NyaXB0PjI8L3N1cGVyc2NyaXB0PicKICAgICAgICB9LAogICAgICAgIGxpbms6IHsKICAgICAgICAgIGNtZDogJ2xpbmsnLAogICAgICAgICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZShlVm0pIHsKICAgICAgICAgICAgcmV0dXJuIGVWbS5jYXJldCAmJiAhZVZtLmNhcmV0LmNhbignbGluaycpOwogICAgICAgICAgfSwKICAgICAgICAgIGljb246IGkuaHlwZXJsaW5rLAogICAgICAgICAgdGlwOiBlLmh5cGVybGluaywKICAgICAgICAgIGtleTogNzYKICAgICAgICB9LAogICAgICAgIGZ1bGxzY3JlZW46IHsKICAgICAgICAgIGNtZDogJ2Z1bGxzY3JlZW4nLAogICAgICAgICAgaWNvbjogaS50b2dnbGVGdWxsc2NyZWVuLAogICAgICAgICAgdGlwOiBlLnRvZ2dsZUZ1bGxzY3JlZW4sCiAgICAgICAgICBrZXk6IDcwCiAgICAgICAgfSwKICAgICAgICB2aWV3c291cmNlOiB7CiAgICAgICAgICBjbWQ6ICd2aWV3c291cmNlJywKICAgICAgICAgIGljb246IGkudmlld1NvdXJjZSwKICAgICAgICAgIHRpcDogZS52aWV3U291cmNlCiAgICAgICAgfSwKICAgICAgICBxdW90ZTogewogICAgICAgICAgY21kOiAnZm9ybWF0QmxvY2snLAogICAgICAgICAgcGFyYW06ICdCTE9DS1FVT1RFJywKICAgICAgICAgIGljb246IGkucXVvdGUsCiAgICAgICAgICB0aXA6IGUucXVvdGUsCiAgICAgICAgICBrZXk6IDgxCiAgICAgICAgfSwKICAgICAgICBsZWZ0OiB7CiAgICAgICAgICBjbWQ6ICdqdXN0aWZ5TGVmdCcsCiAgICAgICAgICBpY29uOiBpLmxlZnQsCiAgICAgICAgICB0aXA6IGUubGVmdAogICAgICAgIH0sCiAgICAgICAgY2VudGVyOiB7CiAgICAgICAgICBjbWQ6ICdqdXN0aWZ5Q2VudGVyJywKICAgICAgICAgIGljb246IGkuY2VudGVyLAogICAgICAgICAgdGlwOiBlLmNlbnRlcgogICAgICAgIH0sCiAgICAgICAgcmlnaHQ6IHsKICAgICAgICAgIGNtZDogJ2p1c3RpZnlSaWdodCcsCiAgICAgICAgICBpY29uOiBpLnJpZ2h0LAogICAgICAgICAgdGlwOiBlLnJpZ2h0CiAgICAgICAgfSwKICAgICAgICBqdXN0aWZ5OiB7CiAgICAgICAgICBjbWQ6ICdqdXN0aWZ5RnVsbCcsCiAgICAgICAgICBpY29uOiBpLmp1c3RpZnksCiAgICAgICAgICB0aXA6IGUuanVzdGlmeQogICAgICAgIH0sCiAgICAgICAgcHJpbnQ6IHsKICAgICAgICAgIHR5cGU6ICduby1zdGF0ZScsCiAgICAgICAgICBjbWQ6ICdwcmludCcsCiAgICAgICAgICBpY29uOiBpLnByaW50LAogICAgICAgICAgdGlwOiBlLnByaW50LAogICAgICAgICAga2V5OiA4MAogICAgICAgIH0sCiAgICAgICAgb3V0ZGVudDogewogICAgICAgICAgdHlwZTogJ25vLXN0YXRlJywKICAgICAgICAgIGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUoZVZtKSB7CiAgICAgICAgICAgIHJldHVybiBlVm0uY2FyZXQgJiYgIWVWbS5jYXJldC5jYW4oJ291dGRlbnQnKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjbWQ6ICdvdXRkZW50JywKICAgICAgICAgIGljb246IGkub3V0ZGVudCwKICAgICAgICAgIHRpcDogZS5vdXRkZW50CiAgICAgICAgfSwKICAgICAgICBpbmRlbnQ6IHsKICAgICAgICAgIHR5cGU6ICduby1zdGF0ZScsCiAgICAgICAgICBkaXNhYmxlOiBmdW5jdGlvbiBkaXNhYmxlKGVWbSkgewogICAgICAgICAgICByZXR1cm4gZVZtLmNhcmV0ICYmICFlVm0uY2FyZXQuY2FuKCdpbmRlbnQnKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjbWQ6ICdpbmRlbnQnLAogICAgICAgICAgaWNvbjogaS5pbmRlbnQsCiAgICAgICAgICB0aXA6IGUuaW5kZW50CiAgICAgICAgfSwKICAgICAgICByZW1vdmVGb3JtYXQ6IHsKICAgICAgICAgIHR5cGU6ICduby1zdGF0ZScsCiAgICAgICAgICBjbWQ6ICdyZW1vdmVGb3JtYXQnLAogICAgICAgICAgaWNvbjogaS5yZW1vdmVGb3JtYXQsCiAgICAgICAgICB0aXA6IGUucmVtb3ZlRm9ybWF0CiAgICAgICAgfSwKICAgICAgICBocjogewogICAgICAgICAgdHlwZTogJ25vLXN0YXRlJywKICAgICAgICAgIGNtZDogJ2luc2VydEhvcml6b250YWxSdWxlJywKICAgICAgICAgIGljb246IGkuaHIsCiAgICAgICAgICB0aXA6IGUuaHIKICAgICAgICB9LAogICAgICAgIHVuZG86IHsKICAgICAgICAgIHR5cGU6ICduby1zdGF0ZScsCiAgICAgICAgICBjbWQ6ICd1bmRvJywKICAgICAgICAgIGljb246IGkudW5kbywKICAgICAgICAgIHRpcDogZS51bmRvLAogICAgICAgICAga2V5OiA5MAogICAgICAgIH0sCiAgICAgICAgcmVkbzogewogICAgICAgICAgdHlwZTogJ25vLXN0YXRlJywKICAgICAgICAgIGNtZDogJ3JlZG8nLAogICAgICAgICAgaWNvbjogaS5yZWRvLAogICAgICAgICAgdGlwOiBlLnJlZG8sCiAgICAgICAgICBrZXk6IDg5CiAgICAgICAgfSwKICAgICAgICBoMTogewogICAgICAgICAgY21kOiAnZm9ybWF0QmxvY2snLAogICAgICAgICAgcGFyYW06ICdIMScsCiAgICAgICAgICBpY29uOiBpLmhlYWRpbmcxIHx8IGkuaGVhZGluZywKICAgICAgICAgIHRpcDogZS5oZWFkaW5nMSwKICAgICAgICAgIGh0bWxUaXA6ICI8aDEgY2xhc3M9XCJxLW1hLW5vbmVcIj4iLmNvbmNhdChlLmhlYWRpbmcxLCAiPC9oMT4iKQogICAgICAgIH0sCiAgICAgICAgaDI6IHsKICAgICAgICAgIGNtZDogJ2Zvcm1hdEJsb2NrJywKICAgICAgICAgIHBhcmFtOiAnSDInLAogICAgICAgICAgaWNvbjogaS5oZWFkaW5nMiB8fCBpLmhlYWRpbmcsCiAgICAgICAgICB0aXA6IGUuaGVhZGluZzIsCiAgICAgICAgICBodG1sVGlwOiAiPGgyIGNsYXNzPVwicS1tYS1ub25lXCI+Ii5jb25jYXQoZS5oZWFkaW5nMiwgIjwvaDI+IikKICAgICAgICB9LAogICAgICAgIGgzOiB7CiAgICAgICAgICBjbWQ6ICdmb3JtYXRCbG9jaycsCiAgICAgICAgICBwYXJhbTogJ0gzJywKICAgICAgICAgIGljb246IGkuaGVhZGluZzMgfHwgaS5oZWFkaW5nLAogICAgICAgICAgdGlwOiBlLmhlYWRpbmczLAogICAgICAgICAgaHRtbFRpcDogIjxoMyBjbGFzcz1cInEtbWEtbm9uZVwiPiIuY29uY2F0KGUuaGVhZGluZzMsICI8L2gzPiIpCiAgICAgICAgfSwKICAgICAgICBoNDogewogICAgICAgICAgY21kOiAnZm9ybWF0QmxvY2snLAogICAgICAgICAgcGFyYW06ICdINCcsCiAgICAgICAgICBpY29uOiBpLmhlYWRpbmc0IHx8IGkuaGVhZGluZywKICAgICAgICAgIHRpcDogZS5oZWFkaW5nNCwKICAgICAgICAgIGh0bWxUaXA6ICI8aDQgY2xhc3M9XCJxLW1hLW5vbmVcIj4iLmNvbmNhdChlLmhlYWRpbmc0LCAiPC9oND4iKQogICAgICAgIH0sCiAgICAgICAgaDU6IHsKICAgICAgICAgIGNtZDogJ2Zvcm1hdEJsb2NrJywKICAgICAgICAgIHBhcmFtOiAnSDUnLAogICAgICAgICAgaWNvbjogaS5oZWFkaW5nNSB8fCBpLmhlYWRpbmcsCiAgICAgICAgICB0aXA6IGUuaGVhZGluZzUsCiAgICAgICAgICBodG1sVGlwOiAiPGg1IGNsYXNzPVwicS1tYS1ub25lXCI+Ii5jb25jYXQoZS5oZWFkaW5nNSwgIjwvaDU+IikKICAgICAgICB9LAogICAgICAgIGg2OiB7CiAgICAgICAgICBjbWQ6ICdmb3JtYXRCbG9jaycsCiAgICAgICAgICBwYXJhbTogJ0g2JywKICAgICAgICAgIGljb246IGkuaGVhZGluZzYgfHwgaS5oZWFkaW5nLAogICAgICAgICAgdGlwOiBlLmhlYWRpbmc2LAogICAgICAgICAgaHRtbFRpcDogIjxoNiBjbGFzcz1cInEtbWEtbm9uZVwiPiIuY29uY2F0KGUuaGVhZGluZzYsICI8L2g2PiIpCiAgICAgICAgfSwKICAgICAgICBwOiB7CiAgICAgICAgICBjbWQ6ICdmb3JtYXRCbG9jaycsCiAgICAgICAgICBwYXJhbTogcHJvcHMucGFyYWdyYXBoVGFnLAogICAgICAgICAgaWNvbjogaS5oZWFkaW5nLAogICAgICAgICAgdGlwOiBlLnBhcmFncmFwaAogICAgICAgIH0sCiAgICAgICAgY29kZTogewogICAgICAgICAgY21kOiAnZm9ybWF0QmxvY2snLAogICAgICAgICAgcGFyYW06ICdQUkUnLAogICAgICAgICAgaWNvbjogaS5jb2RlLAogICAgICAgICAgaHRtbFRpcDogIjxjb2RlPiIuY29uY2F0KGUuY29kZSwgIjwvY29kZT4iKQogICAgICAgIH0sCiAgICAgICAgJ3NpemUtMSc6IHsKICAgICAgICAgIGNtZDogJ2ZvbnRTaXplJywKICAgICAgICAgIHBhcmFtOiAnMScsCiAgICAgICAgICBpY29uOiBpLnNpemUxIHx8IGkuc2l6ZSwKICAgICAgICAgIHRpcDogZS5zaXplMSwKICAgICAgICAgIGh0bWxUaXA6ICI8Zm9udCBzaXplPVwiMVwiPiIuY29uY2F0KGUuc2l6ZTEsICI8L2ZvbnQ+IikKICAgICAgICB9LAogICAgICAgICdzaXplLTInOiB7CiAgICAgICAgICBjbWQ6ICdmb250U2l6ZScsCiAgICAgICAgICBwYXJhbTogJzInLAogICAgICAgICAgaWNvbjogaS5zaXplMiB8fCBpLnNpemUsCiAgICAgICAgICB0aXA6IGUuc2l6ZTIsCiAgICAgICAgICBodG1sVGlwOiAiPGZvbnQgc2l6ZT1cIjJcIj4iLmNvbmNhdChlLnNpemUyLCAiPC9mb250PiIpCiAgICAgICAgfSwKICAgICAgICAnc2l6ZS0zJzogewogICAgICAgICAgY21kOiAnZm9udFNpemUnLAogICAgICAgICAgcGFyYW06ICczJywKICAgICAgICAgIGljb246IGkuc2l6ZTMgfHwgaS5zaXplLAogICAgICAgICAgdGlwOiBlLnNpemUzLAogICAgICAgICAgaHRtbFRpcDogIjxmb250IHNpemU9XCIzXCI+Ii5jb25jYXQoZS5zaXplMywgIjwvZm9udD4iKQogICAgICAgIH0sCiAgICAgICAgJ3NpemUtNCc6IHsKICAgICAgICAgIGNtZDogJ2ZvbnRTaXplJywKICAgICAgICAgIHBhcmFtOiAnNCcsCiAgICAgICAgICBpY29uOiBpLnNpemU0IHx8IGkuc2l6ZSwKICAgICAgICAgIHRpcDogZS5zaXplNCwKICAgICAgICAgIGh0bWxUaXA6ICI8Zm9udCBzaXplPVwiNFwiPiIuY29uY2F0KGUuc2l6ZTQsICI8L2ZvbnQ+IikKICAgICAgICB9LAogICAgICAgICdzaXplLTUnOiB7CiAgICAgICAgICBjbWQ6ICdmb250U2l6ZScsCiAgICAgICAgICBwYXJhbTogJzUnLAogICAgICAgICAgaWNvbjogaS5zaXplNSB8fCBpLnNpemUsCiAgICAgICAgICB0aXA6IGUuc2l6ZTUsCiAgICAgICAgICBodG1sVGlwOiAiPGZvbnQgc2l6ZT1cIjVcIj4iLmNvbmNhdChlLnNpemU1LCAiPC9mb250PiIpCiAgICAgICAgfSwKICAgICAgICAnc2l6ZS02JzogewogICAgICAgICAgY21kOiAnZm9udFNpemUnLAogICAgICAgICAgcGFyYW06ICc2JywKICAgICAgICAgIGljb246IGkuc2l6ZTYgfHwgaS5zaXplLAogICAgICAgICAgdGlwOiBlLnNpemU2LAogICAgICAgICAgaHRtbFRpcDogIjxmb250IHNpemU9XCI2XCI+Ii5jb25jYXQoZS5zaXplNiwgIjwvZm9udD4iKQogICAgICAgIH0sCiAgICAgICAgJ3NpemUtNyc6IHsKICAgICAgICAgIGNtZDogJ2ZvbnRTaXplJywKICAgICAgICAgIHBhcmFtOiAnNycsCiAgICAgICAgICBpY29uOiBpLnNpemU3IHx8IGkuc2l6ZSwKICAgICAgICAgIHRpcDogZS5zaXplNywKICAgICAgICAgIGh0bWxUaXA6ICI8Zm9udCBzaXplPVwiN1wiPiIuY29uY2F0KGUuc2l6ZTcsICI8L2ZvbnQ+IikKICAgICAgICB9CiAgICAgIH07CiAgICB9KTsKICAgIHZhciBidXR0b25zID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgdXNlckRlZiA9IHByb3BzLmRlZmluaXRpb25zIHx8IHt9OwogICAgICB2YXIgZGVmID0gcHJvcHMuZGVmaW5pdGlvbnMgfHwgcHJvcHMuZm9udHMgPyBleHRlbmQodHJ1ZSwge30sIGJ1dHRvbkRlZi52YWx1ZSwgdXNlckRlZiwgZ2V0Rm9udHMoZGVmYXVsdEZvbnQsICRxLmxhbmcuZWRpdG9yLmRlZmF1bHRGb250LCAkcS5pY29uU2V0LmVkaXRvci5mb250LCBwcm9wcy5mb250cykpIDogYnV0dG9uRGVmLnZhbHVlOwogICAgICByZXR1cm4gcHJvcHMudG9vbGJhci5tYXAoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgcmV0dXJuIGdyb3VwLm1hcChmdW5jdGlvbiAodG9rZW4pIHsKICAgICAgICAgIGlmICh0b2tlbi5vcHRpb25zKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgdHlwZTogJ2Ryb3Bkb3duJywKICAgICAgICAgICAgICBpY29uOiB0b2tlbi5pY29uLAogICAgICAgICAgICAgIGxhYmVsOiB0b2tlbi5sYWJlbCwKICAgICAgICAgICAgICBzaXplOiAnc20nLAogICAgICAgICAgICAgIGRlbnNlOiB0cnVlLAogICAgICAgICAgICAgIGZpeGVkTGFiZWw6IHRva2VuLmZpeGVkTGFiZWwsCiAgICAgICAgICAgICAgZml4ZWRJY29uOiB0b2tlbi5maXhlZEljb24sCiAgICAgICAgICAgICAgaGlnaGxpZ2h0OiB0b2tlbi5oaWdobGlnaHQsCiAgICAgICAgICAgICAgbGlzdDogdG9rZW4ubGlzdCwKICAgICAgICAgICAgICBvcHRpb25zOiB0b2tlbi5vcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRlZltpdGVtXTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9OwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBvYmogPSBkZWZbdG9rZW5dOwoKICAgICAgICAgIGlmIChvYmopIHsKICAgICAgICAgICAgcmV0dXJuIG9iai50eXBlID09PSAnbm8tc3RhdGUnIHx8IHVzZXJEZWZbdG9rZW5dICYmIChvYmouY21kID09PSB2b2lkIDAgfHwgYnV0dG9uRGVmLnZhbHVlW29iai5jbWRdICYmIGJ1dHRvbkRlZi52YWx1ZVtvYmouY21kXS50eXBlID09PSAnbm8tc3RhdGUnKSA/IG9iaiA6IE9iamVjdC5hc3NpZ24oewogICAgICAgICAgICAgIHR5cGU6ICd0b2dnbGUnCiAgICAgICAgICAgIH0sIG9iaik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIHR5cGU6ICdzbG90JywKICAgICAgICAgICAgICBzbG90OiB0b2tlbgogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogICAgdmFyIGVWbSA9IHsKICAgICAgJHE6ICRxLAogICAgICBwcm9wczogcHJvcHMsCiAgICAgIHNsb3RzOiBzbG90cywKICAgICAgLy8gY2FyZXQgKHdpbGwgZ2V0IGluamVjdGVkIGFmdGVyIG1vdW50KQogICAgICBpbkZ1bGxzY3JlZW46IGluRnVsbHNjcmVlbiwKICAgICAgdG9nZ2xlRnVsbHNjcmVlbjogdG9nZ2xlRnVsbHNjcmVlbiwKICAgICAgcnVuQ21kOiBydW5DbWQsCiAgICAgIGlzVmlld2luZ1NvdXJjZTogaXNWaWV3aW5nU291cmNlLAogICAgICBlZGl0TGlua1VybDogZWRpdExpbmtVcmwsCiAgICAgIHRvb2xiYXJCYWNrZ3JvdW5kQ2xhc3M6IHRvb2xiYXJCYWNrZ3JvdW5kQ2xhc3MsCiAgICAgIGJ1dHRvblByb3BzOiBidXR0b25Qcm9wcywKICAgICAgY29udGVudFJlZjogY29udGVudFJlZiwKICAgICAgYnV0dG9uczogYnV0dG9ucywKICAgICAgc2V0Q29udGVudDogc2V0Q29udGVudAogICAgfTsKICAgIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHByb3BzLm1vZGVsVmFsdWU7CiAgICB9LCBmdW5jdGlvbiAodikgewogICAgICBpZiAobGFzdEVtaXQgIT09IHYpIHsKICAgICAgICBsYXN0RW1pdCA9IHY7CiAgICAgICAgc2V0Q29udGVudCh2LCB0cnVlKTsKICAgICAgfQogICAgfSk7CiAgICB2YXIgaGFzVG9vbGJhciA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHByb3BzLnRvb2xiYXIgJiYgcHJvcHMudG9vbGJhci5sZW5ndGggPiAwOwogICAgfSk7CiAgICB2YXIga2V5cyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGsgPSB7fSwKICAgICAgICAgIGFkZCA9IGZ1bmN0aW9uIGFkZChidG4pIHsKICAgICAgICBpZiAoYnRuLmtleSkgewogICAgICAgICAga1tidG4ua2V5XSA9IHsKICAgICAgICAgICAgY21kOiBidG4uY21kLAogICAgICAgICAgICBwYXJhbTogYnRuLnBhcmFtCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGJ1dHRvbnMudmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICBncm91cC5mb3JFYWNoKGZ1bmN0aW9uICh0b2tlbikgewogICAgICAgICAgaWYgKHRva2VuLm9wdGlvbnMpIHsKICAgICAgICAgICAgdG9rZW4ub3B0aW9ucy5mb3JFYWNoKGFkZCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGQodG9rZW4pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIGs7CiAgICB9KTsKICAgIHZhciBpbm5lclN0eWxlID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gaW5GdWxsc2NyZWVuLnZhbHVlID8gcHJvcHMuY29udGVudFN0eWxlIDogW3sKICAgICAgICBtaW5IZWlnaHQ6IHByb3BzLm1pbkhlaWdodCwKICAgICAgICBoZWlnaHQ6IHByb3BzLmhlaWdodCwKICAgICAgICBtYXhIZWlnaHQ6IHByb3BzLm1heEhlaWdodAogICAgICB9LCBwcm9wcy5jb250ZW50U3R5bGVdOwogICAgfSk7CiAgICB2YXIgY2xhc3NlcyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICJxLWVkaXRvciBxLWVkaXRvci0tIi5jb25jYXQoaXNWaWV3aW5nU291cmNlLnZhbHVlID09PSB0cnVlID8gJ3NvdXJjZScgOiAnZGVmYXVsdCcpICsgKHByb3BzLmRpc2FibGUgPT09IHRydWUgPyAnIGRpc2FibGVkJyA6ICcnKSArIChpbkZ1bGxzY3JlZW4udmFsdWUgPT09IHRydWUgPyAnIGZ1bGxzY3JlZW4gY29sdW1uJyA6ICcnKSArIChwcm9wcy5zcXVhcmUgPT09IHRydWUgPyAnIHEtZWRpdG9yLS1zcXVhcmUgbm8tYm9yZGVyLXJhZGl1cycgOiAnJykgKyAocHJvcHMuZmxhdCA9PT0gdHJ1ZSA/ICcgcS1lZGl0b3ItLWZsYXQnIDogJycpICsgKHByb3BzLmRlbnNlID09PSB0cnVlID8gJyBxLWVkaXRvci0tZGVuc2UnIDogJycpICsgKGlzRGFyay52YWx1ZSA9PT0gdHJ1ZSA/ICcgcS1lZGl0b3ItLWRhcmsgcS1kYXJrJyA6ICcnKTsKICAgIH0pOwogICAgdmFyIGlubmVyQ2xhc3MgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbcHJvcHMuY29udGVudENsYXNzLCAncS1lZGl0b3JfX2NvbnRlbnQnLCB7CiAgICAgICAgY29sOiBpbkZ1bGxzY3JlZW4udmFsdWUsCiAgICAgICAgJ292ZXJmbG93LWF1dG8nOiBpbkZ1bGxzY3JlZW4udmFsdWUgfHwgcHJvcHMubWF4SGVpZ2h0CiAgICAgIH1dOwogICAgfSk7CiAgICB2YXIgYXR0cmlidXRlcyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHByb3BzLmRpc2FibGUgPT09IHRydWUgPyB7CiAgICAgICAgJ2FyaWEtZGlzYWJsZWQnOiAndHJ1ZScKICAgICAgfSA6IHByb3BzLnJlYWRvbmx5ID09PSB0cnVlID8gewogICAgICAgICdhcmlhLXJlYWRvbmx5JzogJ3RydWUnCiAgICAgIH0gOiB7fTsKICAgIH0pOwoKICAgIGZ1bmN0aW9uIG9uSW5wdXQoKSB7CiAgICAgIGlmIChjb250ZW50UmVmLnZhbHVlICE9PSBudWxsKSB7CiAgICAgICAgdmFyIHByb3AgPSAiaW5uZXIiLmNvbmNhdChpc1ZpZXdpbmdTb3VyY2UudmFsdWUgPT09IHRydWUgPyAnVGV4dCcgOiAnSFRNTCcpOwogICAgICAgIHZhciB2YWwgPSBjb250ZW50UmVmLnZhbHVlW3Byb3BdOwoKICAgICAgICBpZiAodmFsICE9PSBwcm9wcy5tb2RlbFZhbHVlKSB7CiAgICAgICAgICBsYXN0RW1pdCA9IHZhbDsKICAgICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgdmFsKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBvbktleWRvd24oZSkgewogICAgICBlbWl0KCdrZXlkb3duJywgZSk7CgogICAgICBpZiAoZS5jdHJsS2V5ICE9PSB0cnVlIHx8IHNob3VsZElnbm9yZUtleShlKSA9PT0gdHJ1ZSkgewogICAgICAgIHJlZnJlc2hUb29sYmFyKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIga2V5ID0gZS5rZXlDb2RlOwogICAgICB2YXIgdGFyZ2V0ID0ga2V5cy52YWx1ZVtrZXldOwoKICAgICAgaWYgKHRhcmdldCAhPT0gdm9pZCAwKSB7CiAgICAgICAgdmFyIGNtZCA9IHRhcmdldC5jbWQsCiAgICAgICAgICAgIHBhcmFtID0gdGFyZ2V0LnBhcmFtOwogICAgICAgIHN0b3BBbmRQcmV2ZW50KGUpOwogICAgICAgIHJ1bkNtZChjbWQsIHBhcmFtLCBmYWxzZSk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBvbkNsaWNrKGUpIHsKICAgICAgcmVmcmVzaFRvb2xiYXIoKTsKICAgICAgZW1pdCgnY2xpY2snLCBlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvbkJsdXIoZSkgewogICAgICBpZiAoY29udGVudFJlZi52YWx1ZSAhPT0gbnVsbCkgewogICAgICAgIHZhciBfY29udGVudFJlZiR2YWx1ZSA9IGNvbnRlbnRSZWYudmFsdWUsCiAgICAgICAgICAgIHNjcm9sbFRvcCA9IF9jb250ZW50UmVmJHZhbHVlLnNjcm9sbFRvcCwKICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gX2NvbnRlbnRSZWYkdmFsdWUuc2Nyb2xsSGVpZ2h0OwogICAgICAgIG9mZnNldEJvdHRvbSA9IHNjcm9sbEhlaWdodCAtIHNjcm9sbFRvcDsKICAgICAgfQoKICAgICAgZVZtLmNhcmV0LnNhdmUoKTsKICAgICAgZW1pdCgnYmx1cicsIGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIG9uRm9jdXMoZSkgewogICAgICBuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGNvbnRlbnRSZWYudmFsdWUgIT09IG51bGwgJiYgb2Zmc2V0Qm90dG9tICE9PSB2b2lkIDApIHsKICAgICAgICAgIGNvbnRlbnRSZWYudmFsdWUuc2Nyb2xsVG9wID0gY29udGVudFJlZi52YWx1ZS5zY3JvbGxIZWlnaHQgLSBvZmZzZXRCb3R0b207CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZW1pdCgnZm9jdXMnLCBlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvbkZvY3VzaW4oZSkgewogICAgICBpZiAocm9vdFJlZi52YWx1ZS5jb250YWlucyhlLnRhcmdldCkgPT09IHRydWUgJiYgKGUucmVsYXRlZFRhcmdldCA9PT0gbnVsbCB8fCByb290UmVmLnZhbHVlLmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCkgIT09IHRydWUpKSB7CiAgICAgICAgdmFyIHByb3AgPSAiaW5uZXIiLmNvbmNhdChpc1ZpZXdpbmdTb3VyY2UudmFsdWUgPT09IHRydWUgPyAnVGV4dCcgOiAnSFRNTCcpOwogICAgICAgIGVWbS5jYXJldC5yZXN0b3JlUG9zaXRpb24oY29udGVudFJlZi52YWx1ZVtwcm9wXS5sZW5ndGgpOwogICAgICAgIHJlZnJlc2hUb29sYmFyKCk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBvbkZvY3Vzb3V0KGUpIHsKICAgICAgaWYgKHJvb3RSZWYudmFsdWUuY29udGFpbnMoZS50YXJnZXQpID09PSB0cnVlICYmIChlLnJlbGF0ZWRUYXJnZXQgPT09IG51bGwgfHwgcm9vdFJlZi52YWx1ZS5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpICE9PSB0cnVlKSkgewogICAgICAgIGVWbS5jYXJldC5zYXZlUG9zaXRpb24oKTsKICAgICAgICByZWZyZXNoVG9vbGJhcigpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gb25Nb3VzZWRvd24oKSB7CiAgICAgIG9mZnNldEJvdHRvbSA9IHZvaWQgMDsKICAgIH0KCiAgICBmdW5jdGlvbiBvbk1vdXNldXAoZSkgewogICAgICBlVm0uY2FyZXQuc2F2ZSgpOwogICAgICBlbWl0KCdtb3VzZXVwJywgZSk7CiAgICB9CgogICAgZnVuY3Rpb24gb25Ub3VjaHN0YXJ0UGFzc2l2ZSgpIHsKICAgICAgb2Zmc2V0Qm90dG9tID0gdm9pZCAwOwogICAgfQoKICAgIGZ1bmN0aW9uIG9uS2V5dXAoZSkgewogICAgICBlVm0uY2FyZXQuc2F2ZSgpOwogICAgICBlbWl0KCdrZXl1cCcsIGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIG9uVG91Y2hlbmQoZSkgewogICAgICBlVm0uY2FyZXQuc2F2ZSgpOwogICAgICBlbWl0KCd0b3VjaGVuZCcsIGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldENvbnRlbnQodiwgcmVzdG9yZVBvc2l0aW9uKSB7CiAgICAgIGlmIChjb250ZW50UmVmLnZhbHVlICE9PSBudWxsKSB7CiAgICAgICAgaWYgKHJlc3RvcmVQb3NpdGlvbiA9PT0gdHJ1ZSkgewogICAgICAgICAgZVZtLmNhcmV0LnNhdmVQb3NpdGlvbigpOwogICAgICAgIH0KCiAgICAgICAgdmFyIHByb3AgPSAiaW5uZXIiLmNvbmNhdChpc1ZpZXdpbmdTb3VyY2UudmFsdWUgPT09IHRydWUgPyAnVGV4dCcgOiAnSFRNTCcpOwogICAgICAgIGNvbnRlbnRSZWYudmFsdWVbcHJvcF0gPSB2OwoKICAgICAgICBpZiAocmVzdG9yZVBvc2l0aW9uID09PSB0cnVlKSB7CiAgICAgICAgICBlVm0uY2FyZXQucmVzdG9yZVBvc2l0aW9uKGNvbnRlbnRSZWYudmFsdWVbcHJvcF0ubGVuZ3RoKTsKICAgICAgICAgIHJlZnJlc2hUb29sYmFyKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcnVuQ21kKGNtZCwgcGFyYW0pIHsKICAgICAgdmFyIHVwZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTsKICAgICAgZm9jdXMoKTsKICAgICAgZVZtLmNhcmV0LnJlc3RvcmUoKTsKICAgICAgZVZtLmNhcmV0LmFwcGx5KGNtZCwgcGFyYW0sIGZ1bmN0aW9uICgpIHsKICAgICAgICBmb2N1cygpOwogICAgICAgIGVWbS5jYXJldC5zYXZlKCk7CgogICAgICAgIGlmICh1cGRhdGUpIHsKICAgICAgICAgIHJlZnJlc2hUb29sYmFyKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiByZWZyZXNoVG9vbGJhcigpIHsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgZWRpdExpbmtVcmwudmFsdWUgPSBudWxsOwogICAgICAgIHByb3h5LiRmb3JjZVVwZGF0ZSgpOwogICAgICB9LCAxKTsKICAgIH0KCiAgICBmdW5jdGlvbiBmb2N1cygpIHsKICAgICAgYWRkRm9jdXNGbihmdW5jdGlvbiAoKSB7CiAgICAgICAgY29udGVudFJlZi52YWx1ZSAhPT0gbnVsbCAmJiBjb250ZW50UmVmLnZhbHVlLmZvY3VzKCk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldENvbnRlbnRFbCgpIHsKICAgICAgcmV0dXJuIGNvbnRlbnRSZWYudmFsdWU7CiAgICB9IC8vIGV4cG9zZSBwdWJsaWMgbWV0aG9kcwoKCiAgICBPYmplY3QuYXNzaWduKHByb3h5LCB7CiAgICAgIHJ1bkNtZDogcnVuQ21kLAogICAgICByZWZyZXNoVG9vbGJhcjogcmVmcmVzaFRvb2xiYXIsCiAgICAgIGZvY3VzOiBmb2N1cywKICAgICAgZ2V0Q29udGVudEVsOiBnZXRDb250ZW50RWwKICAgIH0pOwogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgZVZtLmNhcmV0ID0gcHJveHkuY2FyZXQgPSBuZXcgQ2FyZXQoY29udGVudFJlZi52YWx1ZSwgZVZtKTsKICAgICAgc2V0Q29udGVudChwcm9wcy5tb2RlbFZhbHVlKTsKICAgICAgcmVmcmVzaFRvb2xiYXIoKTsKICAgIH0pOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHRvb2xiYXJzOwoKICAgICAgaWYgKGhhc1Rvb2xiYXIudmFsdWUpIHsKICAgICAgICB2YXIgYmFycyA9IFtoKCdkaXYnLCB7CiAgICAgICAgICBrZXk6ICdxZWR0X3RvcCcsCiAgICAgICAgICBjbGFzczogJ3EtZWRpdG9yX190b29sYmFyIHJvdyBuby13cmFwIHNjcm9sbC14JyArIHRvb2xiYXJCYWNrZ3JvdW5kQ2xhc3MudmFsdWUKICAgICAgICB9LCBnZXRUb29sYmFyKGVWbSkpXTsKICAgICAgICBlZGl0TGlua1VybC52YWx1ZSAhPT0gbnVsbCAmJiBiYXJzLnB1c2goaCgnZGl2JywgewogICAgICAgICAga2V5OiAncWVkdF9idG0nLAogICAgICAgICAgY2xhc3M6ICdxLWVkaXRvcl9fdG9vbGJhciByb3cgbm8td3JhcCBpdGVtcy1jZW50ZXIgc2Nyb2xsLXgnICsgdG9vbGJhckJhY2tncm91bmRDbGFzcy52YWx1ZQogICAgICAgIH0sIGdldExpbmtFZGl0b3IoZVZtKSkpOwogICAgICAgIHRvb2xiYXJzID0gaCgnZGl2JywgewogICAgICAgICAga2V5OiAndG9vbGJhcl9jdGFpbmVyJywKICAgICAgICAgIGNsYXNzOiAncS1lZGl0b3JfX3Rvb2xiYXJzLWNvbnRhaW5lcicKICAgICAgICB9LCBiYXJzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGgoJ2RpdicsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgcmVmOiByb290UmVmLAogICAgICAgIGNsYXNzOiBjbGFzc2VzLnZhbHVlLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBoZWlnaHQ6IGluRnVsbHNjcmVlbi52YWx1ZSA9PT0gdHJ1ZSA/ICcxMDAlJyA6IG51bGwKICAgICAgICB9CiAgICAgIH0sIGF0dHJpYnV0ZXMudmFsdWUpLCB7fSwgewogICAgICAgIG9uRm9jdXNpbjogb25Gb2N1c2luLAogICAgICAgIG9uRm9jdXNvdXQ6IG9uRm9jdXNvdXQKICAgICAgfSksIFt0b29sYmFycywgaCgnZGl2JywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgICAgIHJlZjogY29udGVudFJlZiwKICAgICAgICBzdHlsZTogaW5uZXJTdHlsZS52YWx1ZSwKICAgICAgICBjbGFzczogaW5uZXJDbGFzcy52YWx1ZSwKICAgICAgICBjb250ZW50ZWRpdGFibGU6IGVkaXRhYmxlLnZhbHVlLAogICAgICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5wbGFjZWhvbGRlcgogICAgICB9LCBfX1FVQVNBUl9TU1JfU0VSVkVSX18gPyB7CiAgICAgICAgaW5uZXJIVE1MOiBwcm9wcy5tb2RlbFZhbHVlCiAgICAgIH0gOiB7fSksIHNwbGl0QXR0cnMubGlzdGVuZXJzLnZhbHVlKSwge30sIHsKICAgICAgICBvbklucHV0OiBvbklucHV0LAogICAgICAgIG9uS2V5ZG93bjogb25LZXlkb3duLAogICAgICAgIG9uQ2xpY2s6IG9uQ2xpY2ssCiAgICAgICAgb25CbHVyOiBvbkJsdXIsCiAgICAgICAgb25Gb2N1czogb25Gb2N1cywKICAgICAgICAvLyBjbGVhbiBzYXZlZCBzY3JvbGwgcG9zaXRpb24KICAgICAgICBvbk1vdXNlZG93bjogb25Nb3VzZWRvd24sCiAgICAgICAgb25Ub3VjaHN0YXJ0UGFzc2l2ZTogb25Ub3VjaHN0YXJ0UGFzc2l2ZSwKICAgICAgICAvLyBzYXZlIGNhcmV0CiAgICAgICAgb25Nb3VzZXVwOiBvbk1vdXNldXAsCiAgICAgICAgb25LZXl1cDogb25LZXl1cCwKICAgICAgICBvblRvdWNoZW5kOiBvblRvdWNoZW5kCiAgICAgIH0pKV0pOwogICAgfTsKICB9Cn0pOw=="},{"version":3,"sources":["/app/node_modules/quasar/src/components/editor/QEditor.js"],"names":["h","ref","computed","watch","onMounted","nextTick","getCurrentInstance","Caret","getToolbar","getFonts","getLinkEditor","useDark","useDarkProps","useFullscreen","useFullscreenProps","useFullscreenEmits","useSplitAttrs","createComponent","stopAndPrevent","extend","shouldIgnoreKey","addFocusFn","name","props","modelValue","type","String","required","readonly","Boolean","disable","minHeight","default","maxHeight","height","definitions","Object","fonts","placeholder","toolbar","Array","validator","v","length","every","group","toolbarColor","toolbarBg","toolbarTextColor","toolbarToggleColor","toolbarOutline","toolbarPush","toolbarRounded","paragraphTag","includes","contentStyle","contentClass","square","flat","dense","emits","setup","slots","emit","attrs","proxy","vnode","$q","isDark","inFullscreen","toggleFullscreen","splitAttrs","rootRef","contentRef","editLinkUrl","isViewingSource","editable","defaultFont","offsetBottom","lastEmit","__QUASAR_SSR_SERVER__","document","execCommand","window","getComputedStyle","body","fontFamily","toolbarBackgroundClass","buttonProps","noWrap","outline","push","rounded","color","value","size","buttonDef","e","lang","editor","i","iconSet","bold","cmd","icon","tip","key","italic","strike","strikethrough","underline","unordered","unorderedList","ordered","orderedList","subscript","htmlTip","superscript","link","eVm","caret","can","hyperlink","fullscreen","viewsource","viewSource","quote","param","left","center","right","justify","print","outdent","indent","removeFormat","hr","undo","redo","h1","heading1","heading","h2","heading2","h3","heading3","h4","heading4","h5","heading5","h6","heading6","p","paragraph","code","size1","size2","size3","size4","size5","size6","size7","buttons","userDef","def","font","map","token","options","label","fixedLabel","fixedIcon","highlight","list","item","obj","assign","slot","runCmd","setContent","hasToolbar","keys","k","add","btn","forEach","innerStyle","classes","innerClass","col","attributes","onInput","prop","val","onKeydown","ctrlKey","refreshToolbar","keyCode","target","onClick","onBlur","scrollTop","scrollHeight","save","onFocus","onFocusin","contains","relatedTarget","restorePosition","onFocusout","savePosition","onMousedown","onMouseup","onTouchstartPassive","onKeyup","onTouchend","update","focus","restore","apply","setTimeout","$forceUpdate","getContentEl","toolbars","bars","class","style","contenteditable","innerHTML","listeners"],"mappings":"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","sourcesContent":["import { h, ref, computed, watch, onMounted, nextTick, getCurrentInstance } from 'vue'\n\nimport Caret from './editor-caret.js'\nimport { getToolbar, getFonts, getLinkEditor } from './editor-utils.js'\n\nimport useDark, { useDarkProps } from '../../composables/private/use-dark.js'\nimport useFullscreen, { useFullscreenProps, useFullscreenEmits } from '../../composables/private/use-fullscreen.js'\nimport useSplitAttrs from '../../composables/private/use-split-attrs.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { stopAndPrevent } from '../../utils/event.js'\nimport extend from '../../utils/extend.js'\nimport { shouldIgnoreKey } from '../../utils/private/key-composition.js'\nimport { addFocusFn } from '../../utils/private/focus-manager.js'\n\nexport default createComponent({\n  name: 'QEditor',\n\n  props: {\n    ...useDarkProps,\n    ...useFullscreenProps,\n\n    modelValue: {\n      type: String,\n      required: true\n    },\n    readonly: Boolean,\n    disable: Boolean,\n    minHeight: {\n      type: String,\n      default: '10rem'\n    },\n    maxHeight: String,\n    height: String,\n    definitions: Object,\n    fonts: Object,\n    placeholder: String,\n\n    toolbar: {\n      type: Array,\n      validator: v => v.length === 0 || v.every(group => group.length),\n      default () {\n        return [\n          [ 'left', 'center', 'right', 'justify' ],\n          [ 'bold', 'italic', 'underline', 'strike' ],\n          [ 'undo', 'redo' ]\n        ]\n      }\n    },\n    toolbarColor: String,\n    toolbarBg: String,\n    toolbarTextColor: String,\n    toolbarToggleColor: {\n      type: String,\n      default: 'primary'\n    },\n    toolbarOutline: Boolean,\n    toolbarPush: Boolean,\n    toolbarRounded: Boolean,\n\n    paragraphTag: {\n      type: String,\n      validator: v => [ 'div', 'p' ].includes(v),\n      default: 'div'\n    },\n\n    contentStyle: Object,\n    contentClass: [ Object, Array, String ],\n\n    square: Boolean,\n    flat: Boolean,\n    dense: Boolean\n  },\n\n  emits: [\n    ...useFullscreenEmits,\n    'update:modelValue',\n    'keydown', 'click', 'mouseup', 'keyup', 'touchend',\n    'focus', 'blur'\n  ],\n\n  setup (props, { slots, emit, attrs }) {\n    const { proxy, vnode } = getCurrentInstance()\n    const { $q } = proxy\n\n    const isDark = useDark(props, $q)\n    const { inFullscreen, toggleFullscreen } = useFullscreen()\n    const splitAttrs = useSplitAttrs(attrs, vnode)\n\n    const rootRef = ref(null)\n    const contentRef = ref(null)\n\n    const editLinkUrl = ref(null)\n    const isViewingSource = ref(false)\n\n    const editable = computed(() => !props.readonly && !props.disable)\n\n    let defaultFont, offsetBottom\n    let lastEmit = props.modelValue // eslint-disable-line\n\n    if (__QUASAR_SSR_SERVER__ !== true) {\n      document.execCommand('defaultParagraphSeparator', false, props.paragraphTag)\n      defaultFont = window.getComputedStyle(document.body).fontFamily\n    }\n\n    const toolbarBackgroundClass = computed(() => (\n      props.toolbarBg ? ` bg-${ props.toolbarBg }` : ''\n    ))\n\n    const buttonProps = computed(() => {\n      const flat = props.toolbarOutline !== true\n        && props.toolbarPush !== true\n\n      return {\n        type: 'a',\n        flat,\n        noWrap: true,\n        outline: props.toolbarOutline,\n        push: props.toolbarPush,\n        rounded: props.toolbarRounded,\n        dense: true,\n        color: props.toolbarColor,\n        disable: !editable.value,\n        size: 'sm'\n      }\n    })\n\n    const buttonDef = computed(() => {\n      const\n        e = $q.lang.editor,\n        i = $q.iconSet.editor\n\n      return {\n        bold: { cmd: 'bold', icon: i.bold, tip: e.bold, key: 66 },\n        italic: { cmd: 'italic', icon: i.italic, tip: e.italic, key: 73 },\n        strike: { cmd: 'strikeThrough', icon: i.strikethrough, tip: e.strikethrough, key: 83 },\n        underline: { cmd: 'underline', icon: i.underline, tip: e.underline, key: 85 },\n        unordered: { cmd: 'insertUnorderedList', icon: i.unorderedList, tip: e.unorderedList },\n        ordered: { cmd: 'insertOrderedList', icon: i.orderedList, tip: e.orderedList },\n        subscript: { cmd: 'subscript', icon: i.subscript, tip: e.subscript, htmlTip: 'x<subscript>2</subscript>' },\n        superscript: { cmd: 'superscript', icon: i.superscript, tip: e.superscript, htmlTip: 'x<superscript>2</superscript>' },\n        link: { cmd: 'link', disable: eVm => eVm.caret && !eVm.caret.can('link'), icon: i.hyperlink, tip: e.hyperlink, key: 76 },\n        fullscreen: { cmd: 'fullscreen', icon: i.toggleFullscreen, tip: e.toggleFullscreen, key: 70 },\n        viewsource: { cmd: 'viewsource', icon: i.viewSource, tip: e.viewSource },\n\n        quote: { cmd: 'formatBlock', param: 'BLOCKQUOTE', icon: i.quote, tip: e.quote, key: 81 },\n        left: { cmd: 'justifyLeft', icon: i.left, tip: e.left },\n        center: { cmd: 'justifyCenter', icon: i.center, tip: e.center },\n        right: { cmd: 'justifyRight', icon: i.right, tip: e.right },\n        justify: { cmd: 'justifyFull', icon: i.justify, tip: e.justify },\n\n        print: { type: 'no-state', cmd: 'print', icon: i.print, tip: e.print, key: 80 },\n        outdent: { type: 'no-state', disable: eVm => eVm.caret && !eVm.caret.can('outdent'), cmd: 'outdent', icon: i.outdent, tip: e.outdent },\n        indent: { type: 'no-state', disable: eVm => eVm.caret && !eVm.caret.can('indent'), cmd: 'indent', icon: i.indent, tip: e.indent },\n        removeFormat: { type: 'no-state', cmd: 'removeFormat', icon: i.removeFormat, tip: e.removeFormat },\n        hr: { type: 'no-state', cmd: 'insertHorizontalRule', icon: i.hr, tip: e.hr },\n        undo: { type: 'no-state', cmd: 'undo', icon: i.undo, tip: e.undo, key: 90 },\n        redo: { type: 'no-state', cmd: 'redo', icon: i.redo, tip: e.redo, key: 89 },\n\n        h1: { cmd: 'formatBlock', param: 'H1', icon: i.heading1 || i.heading, tip: e.heading1, htmlTip: `<h1 class=\"q-ma-none\">${ e.heading1 }</h1>` },\n        h2: { cmd: 'formatBlock', param: 'H2', icon: i.heading2 || i.heading, tip: e.heading2, htmlTip: `<h2 class=\"q-ma-none\">${ e.heading2 }</h2>` },\n        h3: { cmd: 'formatBlock', param: 'H3', icon: i.heading3 || i.heading, tip: e.heading3, htmlTip: `<h3 class=\"q-ma-none\">${ e.heading3 }</h3>` },\n        h4: { cmd: 'formatBlock', param: 'H4', icon: i.heading4 || i.heading, tip: e.heading4, htmlTip: `<h4 class=\"q-ma-none\">${ e.heading4 }</h4>` },\n        h5: { cmd: 'formatBlock', param: 'H5', icon: i.heading5 || i.heading, tip: e.heading5, htmlTip: `<h5 class=\"q-ma-none\">${ e.heading5 }</h5>` },\n        h6: { cmd: 'formatBlock', param: 'H6', icon: i.heading6 || i.heading, tip: e.heading6, htmlTip: `<h6 class=\"q-ma-none\">${ e.heading6 }</h6>` },\n        p: { cmd: 'formatBlock', param: props.paragraphTag, icon: i.heading, tip: e.paragraph },\n        code: { cmd: 'formatBlock', param: 'PRE', icon: i.code, htmlTip: `<code>${ e.code }</code>` },\n\n        'size-1': { cmd: 'fontSize', param: '1', icon: i.size1 || i.size, tip: e.size1, htmlTip: `<font size=\"1\">${ e.size1 }</font>` },\n        'size-2': { cmd: 'fontSize', param: '2', icon: i.size2 || i.size, tip: e.size2, htmlTip: `<font size=\"2\">${ e.size2 }</font>` },\n        'size-3': { cmd: 'fontSize', param: '3', icon: i.size3 || i.size, tip: e.size3, htmlTip: `<font size=\"3\">${ e.size3 }</font>` },\n        'size-4': { cmd: 'fontSize', param: '4', icon: i.size4 || i.size, tip: e.size4, htmlTip: `<font size=\"4\">${ e.size4 }</font>` },\n        'size-5': { cmd: 'fontSize', param: '5', icon: i.size5 || i.size, tip: e.size5, htmlTip: `<font size=\"5\">${ e.size5 }</font>` },\n        'size-6': { cmd: 'fontSize', param: '6', icon: i.size6 || i.size, tip: e.size6, htmlTip: `<font size=\"6\">${ e.size6 }</font>` },\n        'size-7': { cmd: 'fontSize', param: '7', icon: i.size7 || i.size, tip: e.size7, htmlTip: `<font size=\"7\">${ e.size7 }</font>` }\n      }\n    })\n\n    const buttons = computed(() => {\n      const userDef = props.definitions || {}\n      const def = props.definitions || props.fonts\n        ? extend(\n            true,\n            {},\n            buttonDef.value,\n            userDef,\n            getFonts(\n              defaultFont,\n              $q.lang.editor.defaultFont,\n              $q.iconSet.editor.font,\n              props.fonts\n            )\n          )\n        : buttonDef.value\n\n      return props.toolbar.map(\n        group => group.map(token => {\n          if (token.options) {\n            return {\n              type: 'dropdown',\n              icon: token.icon,\n              label: token.label,\n              size: 'sm',\n              dense: true,\n              fixedLabel: token.fixedLabel,\n              fixedIcon: token.fixedIcon,\n              highlight: token.highlight,\n              list: token.list,\n              options: token.options.map(item => def[ item ])\n            }\n          }\n\n          const obj = def[ token ]\n\n          if (obj) {\n            return obj.type === 'no-state' || (userDef[ token ] && (\n              obj.cmd === void 0 || (buttonDef.value[ obj.cmd ] && buttonDef.value[ obj.cmd ].type === 'no-state')\n            ))\n              ? obj\n              : Object.assign({ type: 'toggle' }, obj)\n          }\n          else {\n            return {\n              type: 'slot',\n              slot: token\n            }\n          }\n        })\n      )\n    })\n\n    const eVm = {\n      $q,\n      props,\n      slots,\n      // caret (will get injected after mount)\n      inFullscreen,\n      toggleFullscreen,\n      runCmd,\n      isViewingSource,\n      editLinkUrl,\n      toolbarBackgroundClass,\n      buttonProps,\n      contentRef,\n      buttons,\n      setContent\n    }\n\n    watch(() => props.modelValue, v => {\n      if (lastEmit !== v) {\n        lastEmit = v\n        setContent(v, true)\n      }\n    })\n\n    const hasToolbar = computed(() => props.toolbar && props.toolbar.length > 0)\n\n    const keys = computed(() => {\n      const\n        k = {},\n        add = btn => {\n          if (btn.key) {\n            k[ btn.key ] = {\n              cmd: btn.cmd,\n              param: btn.param\n            }\n          }\n        }\n\n      buttons.value.forEach(group => {\n        group.forEach(token => {\n          if (token.options) {\n            token.options.forEach(add)\n          }\n          else {\n            add(token)\n          }\n        })\n      })\n      return k\n    })\n\n    const innerStyle = computed(() => (\n      inFullscreen.value\n        ? props.contentStyle\n        : [\n            {\n              minHeight: props.minHeight,\n              height: props.height,\n              maxHeight: props.maxHeight\n            },\n            props.contentStyle\n          ]\n    ))\n\n    const classes = computed(() =>\n      `q-editor q-editor--${ isViewingSource.value === true ? 'source' : 'default' }`\n      + (props.disable === true ? ' disabled' : '')\n      + (inFullscreen.value === true ? ' fullscreen column' : '')\n      + (props.square === true ? ' q-editor--square no-border-radius' : '')\n      + (props.flat === true ? ' q-editor--flat' : '')\n      + (props.dense === true ? ' q-editor--dense' : '')\n      + (isDark.value === true ? ' q-editor--dark q-dark' : '')\n    )\n\n    const innerClass = computed(() => ([\n      props.contentClass,\n      'q-editor__content',\n      { col: inFullscreen.value, 'overflow-auto': inFullscreen.value || props.maxHeight }\n    ]))\n\n    const attributes = computed(() => (\n      props.disable === true\n        ? { 'aria-disabled': 'true' }\n        : (props.readonly === true ? { 'aria-readonly': 'true' } : {})\n    ))\n\n    function onInput () {\n      if (contentRef.value !== null) {\n        const prop = `inner${ isViewingSource.value === true ? 'Text' : 'HTML' }`\n        const val = contentRef.value[ prop ]\n\n        if (val !== props.modelValue) {\n          lastEmit = val\n          emit('update:modelValue', val)\n        }\n      }\n    }\n\n    function onKeydown (e) {\n      emit('keydown', e)\n\n      if (e.ctrlKey !== true || shouldIgnoreKey(e) === true) {\n        refreshToolbar()\n        return\n      }\n\n      const key = e.keyCode\n      const target = keys.value[ key ]\n      if (target !== void 0) {\n        const { cmd, param } = target\n        stopAndPrevent(e)\n        runCmd(cmd, param, false)\n      }\n    }\n\n    function onClick (e) {\n      refreshToolbar()\n      emit('click', e)\n    }\n\n    function onBlur (e) {\n      if (contentRef.value !== null) {\n        const { scrollTop, scrollHeight } = contentRef.value\n        offsetBottom = scrollHeight - scrollTop\n      }\n      eVm.caret.save()\n      emit('blur', e)\n    }\n\n    function onFocus (e) {\n      nextTick(() => {\n        if (contentRef.value !== null && offsetBottom !== void 0) {\n          contentRef.value.scrollTop = contentRef.value.scrollHeight - offsetBottom\n        }\n      })\n      emit('focus', e)\n    }\n\n    function onFocusin (e) {\n      if (\n        rootRef.value.contains(e.target) === true\n        && (\n          e.relatedTarget === null\n          || rootRef.value.contains(e.relatedTarget) !== true\n        )\n      ) {\n        const prop = `inner${ isViewingSource.value === true ? 'Text' : 'HTML' }`\n        eVm.caret.restorePosition(contentRef.value[ prop ].length)\n        refreshToolbar()\n      }\n    }\n\n    function onFocusout (e) {\n      if (\n        rootRef.value.contains(e.target) === true\n        && (\n          e.relatedTarget === null\n          || rootRef.value.contains(e.relatedTarget) !== true\n        )\n      ) {\n        eVm.caret.savePosition()\n        refreshToolbar()\n      }\n    }\n\n    function onMousedown () {\n      offsetBottom = void 0\n    }\n\n    function onMouseup (e) {\n      eVm.caret.save()\n      emit('mouseup', e)\n    }\n\n    function onTouchstartPassive () {\n      offsetBottom = void 0\n    }\n\n    function onKeyup (e) {\n      eVm.caret.save()\n      emit('keyup', e)\n    }\n\n    function onTouchend (e) {\n      eVm.caret.save()\n      emit('touchend', e)\n    }\n\n    function setContent (v, restorePosition) {\n      if (contentRef.value !== null) {\n        if (restorePosition === true) {\n          eVm.caret.savePosition()\n        }\n\n        const prop = `inner${ isViewingSource.value === true ? 'Text' : 'HTML' }`\n        contentRef.value[ prop ] = v\n\n        if (restorePosition === true) {\n          eVm.caret.restorePosition(contentRef.value[ prop ].length)\n          refreshToolbar()\n        }\n      }\n    }\n\n    function runCmd (cmd, param, update = true) {\n      focus()\n      eVm.caret.restore()\n      eVm.caret.apply(cmd, param, () => {\n        focus()\n        eVm.caret.save()\n        if (update) {\n          refreshToolbar()\n        }\n      })\n    }\n\n    function refreshToolbar () {\n      setTimeout(() => {\n        editLinkUrl.value = null\n        proxy.$forceUpdate()\n      }, 1)\n    }\n\n    function focus () {\n      addFocusFn(() => {\n        contentRef.value !== null && contentRef.value.focus()\n      })\n    }\n\n    function getContentEl () {\n      return contentRef.value\n    }\n\n    // expose public methods\n    Object.assign(proxy, {\n      runCmd, refreshToolbar, focus, getContentEl\n    })\n\n    onMounted(() => {\n      eVm.caret = proxy.caret = new Caret(contentRef.value, eVm)\n      setContent(props.modelValue)\n      refreshToolbar()\n    })\n\n    return () => {\n      let toolbars\n\n      if (hasToolbar.value) {\n        const bars = [\n          h('div', {\n            key: 'qedt_top',\n            class: 'q-editor__toolbar row no-wrap scroll-x'\n              + toolbarBackgroundClass.value\n          }, getToolbar(eVm))\n        ]\n\n        editLinkUrl.value !== null && bars.push(\n          h('div', {\n            key: 'qedt_btm',\n            class: 'q-editor__toolbar row no-wrap items-center scroll-x'\n              + toolbarBackgroundClass.value\n          }, getLinkEditor(eVm))\n        )\n\n        toolbars = h('div', {\n          key: 'toolbar_ctainer',\n          class: 'q-editor__toolbars-container'\n        }, bars)\n      }\n\n      return h('div', {\n        ref: rootRef,\n        class: classes.value,\n        style: { height: inFullscreen.value === true ? '100%' : null },\n        ...attributes.value,\n        onFocusin,\n        onFocusout\n      }, [\n        toolbars,\n\n        h('div', {\n          ref: contentRef,\n          style: innerStyle.value,\n          class: innerClass.value,\n          contenteditable: editable.value,\n          placeholder: props.placeholder,\n          ...(__QUASAR_SSR_SERVER__\n            ? { innerHTML: props.modelValue }\n            : {}),\n          ...splitAttrs.listeners.value,\n          onInput,\n          onKeydown,\n          onClick,\n          onBlur,\n          onFocus,\n\n          // clean saved scroll position\n          onMousedown,\n          onTouchstartPassive,\n\n          // save caret\n          onMouseup,\n          onKeyup,\n          onTouchend\n        })\n      ])\n    }\n  }\n})\n"]}]}