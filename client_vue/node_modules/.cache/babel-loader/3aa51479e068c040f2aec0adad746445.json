{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-0!/app/node_modules/cache-loader/dist/cjs.js??ref--1-1!/app/node_modules/vue-loader-v16/dist/index.js??ref--1-2!/app/src/components/Home/RecentComments.vue?vue&type=script&lang=js","dependencies":[{"path":"/app/src/components/Home/RecentComments.vue","mtime":1641336298319},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1640299636617},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js","mtime":1640775278388},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1640299655523}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGdldFJhdGluZ0NvbG9yIH0gZnJvbSAiQC91dGlscyI7CmltcG9ydCBDb21tZW50c0FQSSBmcm9tICJAL2FwaS9jb21tZW50cyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVjZW50Q29tbWVudHMiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb3VudGVkOiBmYWxzZSwKICAgICAgY29tbWVudHM6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q29sb3I6IGZ1bmN0aW9uIGdldENvbG9yKHJhdGUpIHsKICAgICAgcmV0dXJuIGdldFJhdGluZ0NvbG9yKHJhdGUpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBDb21tZW50c0FQSS5pbmRleCh7CiAgICAgICAgICAgICAgICBwZXJfcGFnZTogOAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXMuY29tbWVudHMgPSByZXMuY29tbWVudHM7CiAgICAgICAgICAgICAgX3RoaXMubW91bnRlZCA9IHRydWU7IC8vIGNvbnNvbGUubG9nKHRoaXMuY29tbWVudHMpOwoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDg7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICBfdGhpcy5tb3VudGVkID0gdHJ1ZTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOF1dKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["/app/src/components/Home/RecentComments.vue"],"names":[],"mappings":";;AAmFA,SAAS,cAAT,QAA+B,SAA/B;AACA,OAAO,WAAP,MAAwB,gBAAxB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,gBADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,OAAO,EAAE,KADJ;AAEL,MAAA,QAAQ,EAAE;AAFL,KAAP;AAID,GAPY;AAQb,EAAA,OAAO,EAAE;AACP,IAAA,QADO,oBACE,IADF,EACQ;AACb,aAAO,cAAc,CAAC,IAAD,CAArB;AACD;AAHM,GARI;AAaP,EAAA,OAbO,qBAaG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEM,WAAW,CAAC,KAAZ,CAAkB;AAClC,gBAAA,QAAQ,EAAE;AADwB,eAAlB,CAFN;;AAAA;AAEN,cAAA,GAFM;AAKZ,cAAA,KAAI,CAAC,QAAL,GAAgB,GAAG,CAAC,QAApB;AACA,cAAA,KAAI,CAAC,OAAL,GAAe,IAAf,CANY,CAOZ;;AAPY;AAAA;;AAAA;AAAA;AAAA;AASZ,cAAA,KAAI,CAAC,OAAL,GAAe,IAAf;;AATY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWf;AAxBY,CAAf","sourcesContent":["<template>\n  <div class=\"bg-teal\">\n    <div class=\"yl-content\">\n      <div class=\"text-center q-pa-lg text-bold text-h5\">Recent Comments</div>\n      <div class=\"row justify-center\" v-if=\"!mounted\">\n        <q-spinner-audio color=\"white\" size=\"4em\" />\n      </div>\n      <div\n        class=\"q-px-lg q-pb-lg row q-col-gutter-md\"\n        v-if=\"mounted && comments.length\"\n      >\n        <div\n          class=\"col-12 col-sm-6 col-md-4 col-lg-3\"\n          v-for=\"comment in comments\"\n          :key=\"comment.id\"\n        >\n          <q-card bordered class=\"my-card\">\n            <q-item class=\"q-pb-none\">\n              <q-item-section avatar>\n                <q-avatar>\n                  <img\n                    :src=\"$store.state.env.apiBaseUrl + comment.userPicture\"\n                  />\n                </q-avatar>\n              </q-item-section>\n\n              <q-item-section>\n                <q-rating\n                  size=\"2em\"\n                  icon=\"star_border\"\n                  icon-selected=\"star\"\n                  icon-half=\"star_half\"\n                  readonly\n                  :modelValue=\"comment.rating\"\n                  :color=\"getColor(comment.rating)\"\n                />\n              </q-item-section>\n            </q-item>\n\n            <q-item class=\"q-pb-none\" style=\"min-height: auto\">\n              <router-link\n                class=\"text-bold yl-lu\"\n                :to=\"`/users/${comment.user_id}`\"\n              >\n                {{ comment.userName }}\n              </router-link>\n              &nbsp; <span class=\"text-grey\">reviewed</span> &nbsp;\n              <router-link\n                class=\"text-bold yl-lu\"\n                :to=\"`/sites/${comment.site_link}`\"\n              >\n                {{ comment.site_name }}\n              </router-link>\n            </q-item>\n\n            <q-card-section>\n              <router-link\n                class=\"ellipsis-3-lines\"\n                :to=\"`/comments/${comment.id}`\"\n              >\n                <div v-html=\"comment.content\" />\n              </router-link>\n            </q-card-section>\n          </q-card>\n        </div>\n      </div>\n      <div\n        v-if=\"mounted && !comments.length\"\n        class=\"row justify-center text-h6\"\n      >\n        No comment has been made yet.\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.my-card {\n  height: 100%;\n}\n</style>\n\n<script>\nimport { getRatingColor } from \"@/utils\";\nimport CommentsAPI from \"@/api/comments\";\n\nexport default {\n  name: \"RecentComments\",\n  data() {\n    return {\n      mounted: false,\n      comments: [],\n    };\n  },\n  methods: {\n    getColor(rate) {\n      return getRatingColor(rate);\n    },\n  },\n  async mounted() {\n    try {\n      const res = await CommentsAPI.index({\n        per_page: 8,\n      });\n      this.comments = res.comments;\n      this.mounted = true;\n      // console.log(this.comments);\n    } catch (error) {\n      this.mounted = true;\n    }\n  },\n};\n</script>\n"],"sourceRoot":""}]}