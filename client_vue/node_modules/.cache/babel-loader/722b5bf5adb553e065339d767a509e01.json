{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/app/node_modules/quasar/src/components/uploader/uploader-core.js","dependencies":[{"path":"/app/node_modules/quasar/src/components/uploader/uploader-core.js","mtime":1640793220809},{"path":"/app/babel.config.js","mtime":1641198370373},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1640299636612},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1640299636617},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1640299636618},{"path":"/app/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1640775278388}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mbGF0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zY29wYWJsZXMuZmxhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IHsgaCwgcmVmLCBpc1JlZiwgY29tcHV0ZWQsIHdhdGNoLCBwcm92aWRlLCBvbkJlZm9yZVVubW91bnQsIGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBRQnRuIGZyb20gJy4uL2J0bi9RQnRuLmpzJzsKaW1wb3J0IFFJY29uIGZyb20gJy4uL2ljb24vUUljb24uanMnOwppbXBvcnQgUVNwaW5uZXIgZnJvbSAnLi4vc3Bpbm5lci9RU3Bpbm5lci5qcyc7CmltcG9ydCBRQ2lyY3VsYXJQcm9ncmVzcyBmcm9tICcuLi9jaXJjdWxhci1wcm9ncmVzcy9RQ2lyY3VsYXJQcm9ncmVzcy5qcyc7CmltcG9ydCB1c2VEYXJrLCB7IHVzZURhcmtQcm9wcyB9IGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3ByaXZhdGUvdXNlLWRhcmsuanMnOwppbXBvcnQgdXNlRmlsZSwgeyB1c2VGaWxlUHJvcHMsIHVzZUZpbGVFbWl0cyB9IGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3ByaXZhdGUvdXNlLWZpbGUuanMnOwppbXBvcnQgeyBzdG9wIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXZlbnQuanMnOwppbXBvcnQgeyBodW1hblN0b3JhZ2VTaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvZm9ybWF0LmpzJzsKaW1wb3J0IHsgdXBsb2FkZXJLZXkgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlL3N5bWJvbHMuanMnOwoKZnVuY3Rpb24gZ2V0UHJvZ3Jlc3NMYWJlbChwKSB7CiAgcmV0dXJuIChwICogMTAwKS50b0ZpeGVkKDIpICsgJyUnOwp9CgpleHBvcnQgdmFyIGNvcmVQcm9wcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB1c2VEYXJrUHJvcHMpLCB1c2VGaWxlUHJvcHMpLCB7fSwgewogIGxhYmVsOiBTdHJpbmcsCiAgY29sb3I6IFN0cmluZywKICB0ZXh0Q29sb3I6IFN0cmluZywKICBzcXVhcmU6IEJvb2xlYW4sCiAgZmxhdDogQm9vbGVhbiwKICBib3JkZXJlZDogQm9vbGVhbiwKICBub1RodW1ibmFpbHM6IEJvb2xlYW4sCiAgYXV0b1VwbG9hZDogQm9vbGVhbiwKICBoaWRlVXBsb2FkQnRuOiBCb29sZWFuLAogIGRpc2FibGU6IEJvb2xlYW4sCiAgcmVhZG9ubHk6IEJvb2xlYW4KfSk7CmV4cG9ydCB2YXIgY29yZUVtaXRzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh1c2VGaWxlRW1pdHMpLCBbJ3N0YXJ0JywgJ2ZpbmlzaCcsICdhZGRlZCcsICdyZW1vdmVkJ10pOwpleHBvcnQgZnVuY3Rpb24gZ2V0UmVuZGVyZXIoZ2V0UGx1Z2luKSB7CiAgdmFyIHZtID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7CiAgdmFyIHByb3BzID0gdm0ucHJvcHMsCiAgICAgIHNsb3RzID0gdm0uc2xvdHMsCiAgICAgIGVtaXQgPSB2bS5lbWl0LAogICAgICBwcm94eSA9IHZtLnByb3h5OwogIHZhciAkcSA9IHByb3h5LiRxOwogIHZhciBpc0RhcmsgPSB1c2VEYXJrKHByb3BzLCAkcSk7CgogIGZ1bmN0aW9uIHVwZGF0ZUZpbGVTdGF0dXMoZmlsZSwgc3RhdHVzLCB1cGxvYWRlZFNpemUpIHsKICAgIGZpbGUuX19zdGF0dXMgPSBzdGF0dXM7CgogICAgaWYgKHN0YXR1cyA9PT0gJ2lkbGUnKSB7CiAgICAgIGZpbGUuX191cGxvYWRlZCA9IDA7CiAgICAgIGZpbGUuX19wcm9ncmVzcyA9IDA7CiAgICAgIGZpbGUuX19zaXplTGFiZWwgPSBodW1hblN0b3JhZ2VTaXplKGZpbGUuc2l6ZSk7CiAgICAgIGZpbGUuX19wcm9ncmVzc0xhYmVsID0gJzAuMDAlJzsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChzdGF0dXMgPT09ICdmYWlsZWQnKSB7CiAgICAgIHByb3h5LiRmb3JjZVVwZGF0ZSgpOwogICAgICByZXR1cm47CiAgICB9CgogICAgZmlsZS5fX3VwbG9hZGVkID0gc3RhdHVzID09PSAndXBsb2FkZWQnID8gZmlsZS5zaXplIDogdXBsb2FkZWRTaXplOwogICAgZmlsZS5fX3Byb2dyZXNzID0gc3RhdHVzID09PSAndXBsb2FkZWQnID8gMSA6IE1hdGgubWluKDAuOTk5OSwgZmlsZS5fX3VwbG9hZGVkIC8gZmlsZS5zaXplKTsKICAgIGZpbGUuX19wcm9ncmVzc0xhYmVsID0gZ2V0UHJvZ3Jlc3NMYWJlbChmaWxlLl9fcHJvZ3Jlc3MpOwogICAgcHJveHkuJGZvcmNlVXBkYXRlKCk7CiAgfQoKICB2YXIgc3RhdGUgPSB7CiAgICBmaWxlczogcmVmKFtdKSwKICAgIHF1ZXVlZEZpbGVzOiByZWYoW10pLAogICAgdXBsb2FkZWRGaWxlczogcmVmKFtdKSwKICAgIHVwbG9hZGVkU2l6ZTogcmVmKDApLAogICAgdXBkYXRlRmlsZVN0YXR1czogdXBkYXRlRmlsZVN0YXR1cywKICAgIGlzQWxpdmU6IGZ1bmN0aW9uIGlzQWxpdmUoKSB7CiAgICAgIHJldHVybiB2bS5pc0RlYWN0aXZhdGVkICE9PSB0cnVlICYmIHZtLmlzVW5tb3VudGVkICE9PSB0cnVlOwogICAgfQogIH07CiAgT2JqZWN0LmFzc2lnbihzdGF0ZSwgZ2V0UGx1Z2luKHsKICAgIHByb3BzOiBwcm9wcywKICAgIHNsb3RzOiBzbG90cywKICAgIGVtaXQ6IGVtaXQsCiAgICBoZWxwZXJzOiBzdGF0ZQogIH0pKTsKICB2YXIgdXBsb2FkU2l6ZSA9IHJlZigwKTsKICB2YXIgZWRpdGFibGUgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gcHJvcHMuZGlzYWJsZSAhPT0gdHJ1ZSAmJiBwcm9wcy5yZWFkb25seSAhPT0gdHJ1ZTsKICB9KTsKCiAgaWYgKHN0YXRlLmlzQnVzeSA9PT0gdm9pZCAwKSB7CiAgICBzdGF0ZS5pc0J1c3kgPSByZWYoZmFsc2UpOwogIH0KCiAgdmFyIGRuZCA9IHJlZihmYWxzZSk7CiAgdmFyIHJvb3RSZWYgPSByZWYobnVsbCk7CiAgdmFyIGlucHV0UmVmID0gcmVmKG51bGwpOwogIHByb3ZpZGUodXBsb2FkZXJLZXksIHJlbmRlcklucHV0KTsKCiAgdmFyIF91c2VGaWxlID0gdXNlRmlsZSh7CiAgICBlZGl0YWJsZTogZWRpdGFibGUsCiAgICBkbmQ6IGRuZCwKICAgIGdldEZpbGVJbnB1dDogZ2V0RmlsZUlucHV0LAogICAgYWRkRmlsZXNUb1F1ZXVlOiBhZGRGaWxlc1RvUXVldWUKICB9KSwKICAgICAgcGlja0ZpbGVzID0gX3VzZUZpbGUucGlja0ZpbGVzLAogICAgICBhZGRGaWxlcyA9IF91c2VGaWxlLmFkZEZpbGVzLAogICAgICBvbkRyYWdvdmVyID0gX3VzZUZpbGUub25EcmFnb3ZlciwKICAgICAgcHJvY2Vzc0ZpbGVzID0gX3VzZUZpbGUucHJvY2Vzc0ZpbGVzLAogICAgICBnZXREbmROb2RlID0gX3VzZUZpbGUuZ2V0RG5kTm9kZSwKICAgICAgbWF4RmlsZXNOdW1iZXIgPSBfdXNlRmlsZS5tYXhGaWxlc051bWJlciwKICAgICAgbWF4VG90YWxTaXplTnVtYmVyID0gX3VzZUZpbGUubWF4VG90YWxTaXplTnVtYmVyOwoKICB2YXIgY2FuQWRkRmlsZXMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZWRpdGFibGUudmFsdWUgPT09IHRydWUgJiYgc3RhdGUuaXNVcGxvYWRpbmcudmFsdWUgIT09IHRydWUgLy8gaWYgc2luZ2xlIHNlbGVjdGlvbiBhbmQgbm8gZmlsZXMgYXJlIHF1ZXVlZDoKICAgICYmIChwcm9wcy5tdWx0aXBsZSA9PT0gdHJ1ZSB8fCBzdGF0ZS5xdWV1ZWRGaWxlcy52YWx1ZS5sZW5ndGggPT09IDApIC8vIGlmIG1heC1maWxlcyBpcyBzZXQgYW5kIGN1cnJlbnQgbnVtYmVyIG9mIGZpbGVzIGRvZXMgbm90IGV4Y2VlZHMgaXQ6CiAgICAmJiAocHJvcHMubWF4RmlsZXMgPT09IHZvaWQgMCB8fCBzdGF0ZS5maWxlcy52YWx1ZS5sZW5ndGggPCBtYXhGaWxlc051bWJlci52YWx1ZSkgLy8gaWYgbWF4LXRvdGFsLXNpemUgaXMgc2V0IGFuZCBjdXJyZW50IHVwbG9hZCBzaXplIGRvZXMgbm90IGV4Y2VlZHMgaXQ6CiAgICAmJiAocHJvcHMubWF4VG90YWxTaXplID09PSB2b2lkIDAgfHwgdXBsb2FkU2l6ZS52YWx1ZSA8IG1heFRvdGFsU2l6ZU51bWJlci52YWx1ZSk7CiAgfSk7CiAgdmFyIGNhblVwbG9hZCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBlZGl0YWJsZS52YWx1ZSA9PT0gdHJ1ZSAmJiBzdGF0ZS5pc0J1c3kudmFsdWUgIT09IHRydWUgJiYgc3RhdGUuaXNVcGxvYWRpbmcudmFsdWUgIT09IHRydWUgJiYgc3RhdGUucXVldWVkRmlsZXMudmFsdWUubGVuZ3RoID4gMDsKICB9KTsKICB2YXIgdXBsb2FkUHJvZ3Jlc3MgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdXBsb2FkU2l6ZS52YWx1ZSA9PT0gMCA/IDAgOiBzdGF0ZS51cGxvYWRlZFNpemUudmFsdWUgLyB1cGxvYWRTaXplLnZhbHVlOwogIH0pOwogIHZhciB1cGxvYWRQcm9ncmVzc0xhYmVsID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGdldFByb2dyZXNzTGFiZWwodXBsb2FkUHJvZ3Jlc3MudmFsdWUpOwogIH0pOwogIHZhciB1cGxvYWRTaXplTGFiZWwgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gaHVtYW5TdG9yYWdlU2l6ZSh1cGxvYWRTaXplLnZhbHVlKTsKICB9KTsKICB2YXIgY2xhc3NlcyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAncS11cGxvYWRlciBjb2x1bW4gbm8td3JhcCcgKyAoaXNEYXJrLnZhbHVlID09PSB0cnVlID8gJyBxLXVwbG9hZGVyLS1kYXJrIHEtZGFyaycgOiAnJykgKyAocHJvcHMuYm9yZGVyZWQgPT09IHRydWUgPyAnIHEtdXBsb2FkZXItLWJvcmRlcmVkJyA6ICcnKSArIChwcm9wcy5zcXVhcmUgPT09IHRydWUgPyAnIHEtdXBsb2FkZXItLXNxdWFyZSBuby1ib3JkZXItcmFkaXVzJyA6ICcnKSArIChwcm9wcy5mbGF0ID09PSB0cnVlID8gJyBxLXVwbG9hZGVyLS1mbGF0IG5vLXNoYWRvdycgOiAnJykgKyAocHJvcHMuZGlzYWJsZSA9PT0gdHJ1ZSA/ICcgZGlzYWJsZWQgcS11cGxvYWRlci0tZGlzYWJsZScgOiAnJyk7CiAgfSk7CiAgdmFyIGNvbG9yQ2xhc3MgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gJ3EtdXBsb2FkZXJfX2hlYWRlcicgKyAocHJvcHMuY29sb3IgIT09IHZvaWQgMCA/ICIgYmctIi5jb25jYXQocHJvcHMuY29sb3IpIDogJycpICsgKHByb3BzLnRleHRDb2xvciAhPT0gdm9pZCAwID8gIiB0ZXh0LSIuY29uY2F0KHByb3BzLnRleHRDb2xvcikgOiAnJyk7CiAgfSk7CiAgd2F0Y2goc3RhdGUuaXNVcGxvYWRpbmcsIGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkgewogICAgaWYgKG9sZFZhbCA9PT0gZmFsc2UgJiYgbmV3VmFsID09PSB0cnVlKSB7CiAgICAgIGVtaXQoJ3N0YXJ0Jyk7CiAgICB9IGVsc2UgaWYgKG9sZFZhbCA9PT0gdHJ1ZSAmJiBuZXdWYWwgPT09IGZhbHNlKSB7CiAgICAgIGVtaXQoJ2ZpbmlzaCcpOwogICAgfQogIH0pOwoKICBmdW5jdGlvbiByZXNldCgpIHsKICAgIGlmIChwcm9wcy5kaXNhYmxlID09PSBmYWxzZSkgewogICAgICBzdGF0ZS5hYm9ydCgpOwogICAgICBzdGF0ZS51cGxvYWRlZFNpemUudmFsdWUgPSAwOwogICAgICB1cGxvYWRTaXplLnZhbHVlID0gMDsKICAgICAgcmV2b2tlSW1nVVJMcygpOwogICAgICBzdGF0ZS5maWxlcy52YWx1ZSA9IFtdOwogICAgICBzdGF0ZS5xdWV1ZWRGaWxlcy52YWx1ZSA9IFtdOwogICAgICBzdGF0ZS51cGxvYWRlZEZpbGVzLnZhbHVlID0gW107CiAgICB9CiAgfQoKICBmdW5jdGlvbiByZW1vdmVVcGxvYWRlZEZpbGVzKCkgewogICAgaWYgKHByb3BzLmRpc2FibGUgPT09IGZhbHNlKSB7CiAgICAgIGJhdGNoUmVtb3ZlRmlsZXMoWyd1cGxvYWRlZCddLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgc3RhdGUudXBsb2FkZWRGaWxlcy52YWx1ZSA9IFtdOwogICAgICB9KTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHJlbW92ZVF1ZXVlZEZpbGVzKCkgewogICAgYmF0Y2hSZW1vdmVGaWxlcyhbJ2lkbGUnLCAnZmFpbGVkJ10sIGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgIHZhciBzaXplID0gX3JlZi5zaXplOwogICAgICB1cGxvYWRTaXplLnZhbHVlIC09IHNpemU7CiAgICAgIHN0YXRlLnF1ZXVlZEZpbGVzLnZhbHVlID0gW107CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGJhdGNoUmVtb3ZlRmlsZXMoc3RhdHVzTGlzdCwgY2IpIHsKICAgIGlmIChwcm9wcy5kaXNhYmxlID09PSB0cnVlKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgcmVtb3ZlZCA9IHsKICAgICAgZmlsZXM6IFtdLAogICAgICBzaXplOiAwCiAgICB9OwogICAgdmFyIGxvY2FsRmlsZXMgPSBzdGF0ZS5maWxlcy52YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKGYpIHsKICAgICAgaWYgKHN0YXR1c0xpc3QuaW5kZXhPZihmLl9fc3RhdHVzKSA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmVtb3ZlZC5zaXplICs9IGYuc2l6ZTsKICAgICAgcmVtb3ZlZC5maWxlcy5wdXNoKGYpOwogICAgICBmLl9faW1nICE9PSB2b2lkIDAgJiYgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoZi5fX2ltZy5zcmMpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9KTsKCiAgICBpZiAocmVtb3ZlZC5maWxlcy5sZW5ndGggPiAwKSB7CiAgICAgIHN0YXRlLmZpbGVzLnZhbHVlID0gbG9jYWxGaWxlczsKICAgICAgY2IocmVtb3ZlZCk7CiAgICAgIGVtaXQoJ3JlbW92ZWQnLCByZW1vdmVkLmZpbGVzKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHJlbW92ZUZpbGUoZmlsZSkgewogICAgaWYgKHByb3BzLmRpc2FibGUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChmaWxlLl9fc3RhdHVzID09PSAndXBsb2FkZWQnKSB7CiAgICAgIHN0YXRlLnVwbG9hZGVkRmlsZXMudmFsdWUgPSBzdGF0ZS51cGxvYWRlZEZpbGVzLnZhbHVlLmZpbHRlcihmdW5jdGlvbiAoZikgewogICAgICAgIHJldHVybiBmLl9fa2V5ICE9PSBmaWxlLl9fa2V5OwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoZmlsZS5fX3N0YXR1cyA9PT0gJ3VwbG9hZGluZycpIHsKICAgICAgZmlsZS5fX2Fib3J0KCk7CiAgICB9IGVsc2UgewogICAgICB1cGxvYWRTaXplLnZhbHVlIC09IGZpbGUuc2l6ZTsKICAgIH0KCiAgICBzdGF0ZS5maWxlcy52YWx1ZSA9IHN0YXRlLmZpbGVzLnZhbHVlLmZpbHRlcihmdW5jdGlvbiAoZikgewogICAgICBpZiAoZi5fX2tleSAhPT0gZmlsZS5fX2tleSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBmLl9faW1nICE9PSB2b2lkIDAgJiYgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoZi5fX2ltZy5zcmMpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9KTsKICAgIHN0YXRlLnF1ZXVlZEZpbGVzLnZhbHVlID0gc3RhdGUucXVldWVkRmlsZXMudmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChmKSB7CiAgICAgIHJldHVybiBmLl9fa2V5ICE9PSBmaWxlLl9fa2V5OwogICAgfSk7CiAgICBlbWl0KCdyZW1vdmVkJywgW2ZpbGVdKTsKICB9CgogIGZ1bmN0aW9uIHJldm9rZUltZ1VSTHMoKSB7CiAgICBzdGF0ZS5maWxlcy52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7CiAgICAgIGYuX19pbWcgIT09IHZvaWQgMCAmJiB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChmLl9faW1nLnNyYyk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGdldEZpbGVJbnB1dCgpIHsKICAgIHJldHVybiBpbnB1dFJlZi52YWx1ZSB8fCByb290UmVmLnZhbHVlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3EtdXBsb2FkZXJfX2lucHV0JylbMF07CiAgfQoKICBmdW5jdGlvbiBhZGRGaWxlc1RvUXVldWUoZSwgZmlsZUxpc3QpIHsKICAgIHZhciBsb2NhbEZpbGVzID0gcHJvY2Vzc0ZpbGVzKGUsIGZpbGVMaXN0LCBzdGF0ZS5maWxlcy52YWx1ZSwgdHJ1ZSk7CgogICAgaWYgKGxvY2FsRmlsZXMgPT09IHZvaWQgMCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIGZpbGVJbnB1dCA9IGdldEZpbGVJbnB1dCgpOwoKICAgIGlmIChmaWxlSW5wdXQgIT09IHZvaWQgMCAmJiBmaWxlSW5wdXQgIT09IG51bGwpIHsKICAgICAgZmlsZUlucHV0LnZhbHVlID0gJyc7CiAgICB9CgogICAgbG9jYWxGaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgIHN0YXRlLnVwZGF0ZUZpbGVTdGF0dXMoZmlsZSwgJ2lkbGUnKTsKICAgICAgdXBsb2FkU2l6ZS52YWx1ZSArPSBmaWxlLnNpemU7CgogICAgICBpZiAocHJvcHMubm9UaHVtYm5haWxzICE9PSB0cnVlICYmIGZpbGUudHlwZS50b1VwcGVyQ2FzZSgpLnN0YXJ0c1dpdGgoJ0lNQUdFJykpIHsKICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgICAgaW1nLnNyYyA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpOwogICAgICAgIGZpbGUuX19pbWcgPSBpbWc7CiAgICAgIH0KICAgIH0pOwogICAgc3RhdGUuZmlsZXMudmFsdWUgPSBzdGF0ZS5maWxlcy52YWx1ZS5jb25jYXQobG9jYWxGaWxlcyk7CiAgICBzdGF0ZS5xdWV1ZWRGaWxlcy52YWx1ZSA9IHN0YXRlLnF1ZXVlZEZpbGVzLnZhbHVlLmNvbmNhdChsb2NhbEZpbGVzKTsKICAgIGVtaXQoJ2FkZGVkJywgbG9jYWxGaWxlcyk7CiAgICBwcm9wcy5hdXRvVXBsb2FkID09PSB0cnVlICYmIHN0YXRlLnVwbG9hZCgpOwogIH0KCiAgZnVuY3Rpb24gdXBsb2FkKCkgewogICAgY2FuVXBsb2FkLnZhbHVlID09PSB0cnVlICYmIHN0YXRlLnVwbG9hZCgpOwogIH0KCiAgZnVuY3Rpb24gZ2V0QnRuKHNob3csIGljb24sIGZuKSB7CiAgICBpZiAoc2hvdyA9PT0gdHJ1ZSkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICB0eXBlOiAnYScsCiAgICAgICAga2V5OiBpY29uLAogICAgICAgIGljb246ICRxLmljb25TZXQudXBsb2FkZXJbaWNvbl0sCiAgICAgICAgZmxhdDogdHJ1ZSwKICAgICAgICBkZW5zZTogdHJ1ZQogICAgICB9OwogICAgICB2YXIgY2hpbGQgPSB2b2lkIDA7CgogICAgICBpZiAoaWNvbiA9PT0gJ2FkZCcpIHsKICAgICAgICBkYXRhLm9uQ2xpY2sgPSBwaWNrRmlsZXM7CiAgICAgICAgY2hpbGQgPSByZW5kZXJJbnB1dDsKICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhLm9uQ2xpY2sgPSBmbjsKICAgICAgfQoKICAgICAgcmV0dXJuIGgoUUJ0biwgZGF0YSwgY2hpbGQpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcmVuZGVySW5wdXQoKSB7CiAgICByZXR1cm4gaCgnaW5wdXQnLCB7CiAgICAgIHJlZjogaW5wdXRSZWYsCiAgICAgIGNsYXNzOiAncS11cGxvYWRlcl9faW5wdXQgb3ZlcmZsb3ctaGlkZGVuIGFic29sdXRlLWZ1bGwnLAogICAgICB0YWJpbmRleDogLTEsCiAgICAgIHR5cGU6ICdmaWxlJywKICAgICAgdGl0bGU6ICcnLAogICAgICAvLyB0cnkgdG8gcmVtb3ZlIGRlZmF1bHQgdG9vbHRpcAogICAgICBhY2NlcHQ6IHByb3BzLmFjY2VwdCwKICAgICAgbXVsdGlwbGU6IHByb3BzLm11bHRpcGxlID09PSB0cnVlID8gJ211bHRpcGxlJyA6IHZvaWQgMCwKICAgICAgY2FwdHVyZTogcHJvcHMuY2FwdHVyZSwKICAgICAgb25Nb3VzZWRvd246IHN0b3AsCiAgICAgIC8vIG5lZWQgdG8gc3RvcCByZWZvY3VzIGZyb20gUUJ0bgogICAgICBvbkNsaWNrOiBwaWNrRmlsZXMsCiAgICAgIG9uQ2hhbmdlOiBhZGRGaWxlc1RvUXVldWUKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gZ2V0SGVhZGVyKCkgewogICAgaWYgKHNsb3RzLmhlYWRlciAhPT0gdm9pZCAwKSB7CiAgICAgIHJldHVybiBzbG90cy5oZWFkZXIoc2xvdFNjb3BlLnZhbHVlKTsKICAgIH0KCiAgICByZXR1cm4gW2goJ2RpdicsIHsKICAgICAgY2xhc3M6ICdxLXVwbG9hZGVyX19oZWFkZXItY29udGVudCBmbGV4IGZsZXgtY2VudGVyIG5vLXdyYXAgcS1ndXR0ZXIteHMnCiAgICB9LCBbZ2V0QnRuKHN0YXRlLnF1ZXVlZEZpbGVzLnZhbHVlLmxlbmd0aCA+IDAsICdyZW1vdmVRdWV1ZScsIHJlbW92ZVF1ZXVlZEZpbGVzKSwgZ2V0QnRuKHN0YXRlLnVwbG9hZGVkRmlsZXMudmFsdWUubGVuZ3RoID4gMCwgJ3JlbW92ZVVwbG9hZGVkJywgcmVtb3ZlVXBsb2FkZWRGaWxlcyksIHN0YXRlLmlzVXBsb2FkaW5nLnZhbHVlID09PSB0cnVlID8gaChRU3Bpbm5lciwgewogICAgICBjbGFzczogJ3EtdXBsb2FkZXJfX3NwaW5uZXInCiAgICB9KSA6IG51bGwsIGgoJ2RpdicsIHsKICAgICAgY2xhc3M6ICdjb2wgY29sdW1uIGp1c3RpZnktY2VudGVyJwogICAgfSwgW3Byb3BzLmxhYmVsICE9PSB2b2lkIDAgPyBoKCdkaXYnLCB7CiAgICAgIGNsYXNzOiAncS11cGxvYWRlcl9fdGl0bGUnCiAgICB9LCBbcHJvcHMubGFiZWxdKSA6IG51bGwsIGgoJ2RpdicsIHsKICAgICAgY2xhc3M6ICdxLXVwbG9hZGVyX19zdWJ0aXRsZScKICAgIH0sIFt1cGxvYWRTaXplTGFiZWwudmFsdWUgKyAnIC8gJyArIHVwbG9hZFByb2dyZXNzTGFiZWwudmFsdWVdKV0pLCBnZXRCdG4oY2FuQWRkRmlsZXMudmFsdWUsICdhZGQnKSwgZ2V0QnRuKHByb3BzLmhpZGVVcGxvYWRCdG4gPT09IGZhbHNlICYmIGNhblVwbG9hZC52YWx1ZSA9PT0gdHJ1ZSwgJ3VwbG9hZCcsIHN0YXRlLnVwbG9hZCksIGdldEJ0bihzdGF0ZS5pc1VwbG9hZGluZy52YWx1ZSwgJ2NsZWFyJywgc3RhdGUuYWJvcnQpXSldOwogIH0KCiAgZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgIGlmIChzbG90cy5saXN0ICE9PSB2b2lkIDApIHsKICAgICAgcmV0dXJuIHNsb3RzLmxpc3Qoc2xvdFNjb3BlLnZhbHVlKTsKICAgIH0KCiAgICByZXR1cm4gc3RhdGUuZmlsZXMudmFsdWUubWFwKGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAga2V5OiBmaWxlLl9fa2V5LAogICAgICAgIGNsYXNzOiAncS11cGxvYWRlcl9fZmlsZSByZWxhdGl2ZS1wb3NpdGlvbicgKyAocHJvcHMubm9UaHVtYm5haWxzICE9PSB0cnVlICYmIGZpbGUuX19pbWcgIT09IHZvaWQgMCA/ICcgcS11cGxvYWRlcl9fZmlsZS0taW1nJyA6ICcnKSArIChmaWxlLl9fc3RhdHVzID09PSAnZmFpbGVkJyA/ICcgcS11cGxvYWRlcl9fZmlsZS0tZmFpbGVkJyA6IGZpbGUuX19zdGF0dXMgPT09ICd1cGxvYWRlZCcgPyAnIHEtdXBsb2FkZXJfX2ZpbGUtLXVwbG9hZGVkJyA6ICcnKSwKICAgICAgICBzdHlsZTogcHJvcHMubm9UaHVtYm5haWxzICE9PSB0cnVlICYmIGZpbGUuX19pbWcgIT09IHZvaWQgMCA/IHsKICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogJ3VybCgiJyArIGZpbGUuX19pbWcuc3JjICsgJyIpJwogICAgICAgIH0gOiBudWxsCiAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAgY2xhc3M6ICdxLXVwbG9hZGVyX19maWxlLWhlYWRlciByb3cgZmxleC1jZW50ZXIgbm8td3JhcCcKICAgICAgfSwgW2ZpbGUuX19zdGF0dXMgPT09ICdmYWlsZWQnID8gaChRSWNvbiwgewogICAgICAgIGNsYXNzOiAncS11cGxvYWRlcl9fZmlsZS1zdGF0dXMnLAogICAgICAgIG5hbWU6ICRxLmljb25TZXQudHlwZS5uZWdhdGl2ZSwKICAgICAgICBjb2xvcjogJ25lZ2F0aXZlJwogICAgICB9KSA6IG51bGwsIGgoJ2RpdicsIHsKICAgICAgICBjbGFzczogJ3EtdXBsb2FkZXJfX2ZpbGUtaGVhZGVyLWNvbnRlbnQgY29sJwogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIGNsYXNzOiAncS11cGxvYWRlcl9fdGl0bGUnCiAgICAgIH0sIFtmaWxlLm5hbWVdKSwgaCgnZGl2JywgewogICAgICAgIGNsYXNzOiAncS11cGxvYWRlcl9fc3VidGl0bGUgcm93IGl0ZW1zLWNlbnRlciBuby13cmFwJwogICAgICB9LCBbZmlsZS5fX3NpemVMYWJlbCArICcgLyAnICsgZmlsZS5fX3Byb2dyZXNzTGFiZWxdKV0pLCBmaWxlLl9fc3RhdHVzID09PSAndXBsb2FkaW5nJyA/IGgoUUNpcmN1bGFyUHJvZ3Jlc3MsIHsKICAgICAgICB2YWx1ZTogZmlsZS5fX3Byb2dyZXNzLAogICAgICAgIG1pbjogMCwKICAgICAgICBtYXg6IDEsCiAgICAgICAgaW5kZXRlcm1pbmF0ZTogZmlsZS5fX3Byb2dyZXNzID09PSAwCiAgICAgIH0pIDogaChRQnRuLCB7CiAgICAgICAgcm91bmQ6IHRydWUsCiAgICAgICAgZGVuc2U6IHRydWUsCiAgICAgICAgZmxhdDogdHJ1ZSwKICAgICAgICBpY29uOiAkcS5pY29uU2V0LnVwbG9hZGVyW2ZpbGUuX19zdGF0dXMgPT09ICd1cGxvYWRlZCcgPyAnZG9uZScgOiAnY2xlYXInXSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgcmVtb3ZlRmlsZShmaWxlKTsKICAgICAgICB9CiAgICAgIH0pXSldKTsKICAgIH0pOwogIH0KCiAgb25CZWZvcmVVbm1vdW50KGZ1bmN0aW9uICgpIHsKICAgIHN0YXRlLmlzVXBsb2FkaW5nLnZhbHVlID09PSB0cnVlICYmIHN0YXRlLmFib3J0KCk7CiAgICBzdGF0ZS5maWxlcy52YWx1ZS5sZW5ndGggPiAwICYmIHJldm9rZUltZ1VSTHMoKTsKICB9KTsKICB2YXIgcHVibGljTWV0aG9kcyA9IHsKICAgIHBpY2tGaWxlczogcGlja0ZpbGVzLAogICAgYWRkRmlsZXM6IGFkZEZpbGVzLAogICAgcmVzZXQ6IHJlc2V0LAogICAgcmVtb3ZlVXBsb2FkZWRGaWxlczogcmVtb3ZlVXBsb2FkZWRGaWxlcywKICAgIHJlbW92ZVF1ZXVlZEZpbGVzOiByZW1vdmVRdWV1ZWRGaWxlcywKICAgIHJlbW92ZUZpbGU6IHJlbW92ZUZpbGUsCiAgICB1cGxvYWQ6IHVwbG9hZCwKICAgIGFib3J0OiBzdGF0ZS5hYm9ydAogIH07CiAgdmFyIHNsb3RTY29wZSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHZhciBhY2MgPSB7CiAgICAgIGNhbkFkZEZpbGVzOiBjYW5BZGRGaWxlcy52YWx1ZSwKICAgICAgY2FuVXBsb2FkOiBjYW5VcGxvYWQudmFsdWUsCiAgICAgIHVwbG9hZFNpemVMYWJlbDogdXBsb2FkU2l6ZUxhYmVsLnZhbHVlLAogICAgICB1cGxvYWRQcm9ncmVzc0xhYmVsOiB1cGxvYWRQcm9ncmVzc0xhYmVsLnZhbHVlCiAgICB9OwoKICAgIGZvciAodmFyIGtleSBpbiBzdGF0ZSkgewogICAgICBhY2Nba2V5XSA9IGlzUmVmKHN0YXRlW2tleV0pID09PSB0cnVlID8gc3RhdGVba2V5XS52YWx1ZSA6IHN0YXRlW2tleV07CiAgICB9IC8vIFRPRE86IChRdjMpIFB1dCB0aGUgUVVwbG9hZGVyIGluc3RhbmNlIHVuZGVyIGByZWZgCiAgICAvLyBwcm9wZXJ0eSBmb3IgY29uc2lzdGVuY3kgYW5kIGZsZXhpYmlsaXR5CiAgICAvLyByZXR1cm4geyByZWY6IHsgLi4uYWNjLCAuLi5wdWJsaWNNZXRob2RzIH0gfQoKCiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhY2MpLCBwdWJsaWNNZXRob2RzKTsKICB9KTsgLy8gZXhwb3NlIHB1YmxpYyBtZXRob2RzCgogIE9iamVjdC5hc3NpZ24ocHJveHksIHB1YmxpY01ldGhvZHMpOwogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY2hpbGRyZW4gPSBbaCgnZGl2JywgewogICAgICBjbGFzczogY29sb3JDbGFzcy52YWx1ZQogICAgfSwgZ2V0SGVhZGVyKCkpLCBoKCdkaXYnLCB7CiAgICAgIGNsYXNzOiAncS11cGxvYWRlcl9fbGlzdCBzY3JvbGwnCiAgICB9LCBnZXRMaXN0KCkpLCBnZXREbmROb2RlKCd1cGxvYWRlcicpXTsKICAgIHN0YXRlLmlzQnVzeS52YWx1ZSA9PT0gdHJ1ZSAmJiBjaGlsZHJlbi5wdXNoKGgoJ2RpdicsIHsKICAgICAgY2xhc3M6ICdxLXVwbG9hZGVyX19vdmVybGF5IGFic29sdXRlLWZ1bGwgZmxleCBmbGV4LWNlbnRlcicKICAgIH0sIFtoKFFTcGlubmVyKV0pKTsKICAgIHZhciBkYXRhID0gewogICAgICByZWY6IHJvb3RSZWYsCiAgICAgIGNsYXNzOiBjbGFzc2VzLnZhbHVlCiAgICB9OwoKICAgIGlmIChjYW5BZGRGaWxlcy52YWx1ZSA9PT0gdHJ1ZSkgewogICAgICBkYXRhLm9uRHJhZ292ZXIgPSBvbkRyYWdvdmVyOwogICAgfQoKICAgIHJldHVybiBoKCdkaXYnLCBkYXRhLCBjaGlsZHJlbik7CiAgfTsKfQ=="},{"version":3,"sources":["/app/node_modules/quasar/src/components/uploader/uploader-core.js"],"names":["h","ref","isRef","computed","watch","provide","onBeforeUnmount","getCurrentInstance","QBtn","QIcon","QSpinner","QCircularProgress","useDark","useDarkProps","useFile","useFileProps","useFileEmits","stop","humanStorageSize","uploaderKey","getProgressLabel","p","toFixed","coreProps","label","String","color","textColor","square","Boolean","flat","bordered","noThumbnails","autoUpload","hideUploadBtn","disable","readonly","coreEmits","getRenderer","getPlugin","vm","props","slots","emit","proxy","$q","isDark","updateFileStatus","file","status","uploadedSize","__status","__uploaded","__progress","__sizeLabel","size","__progressLabel","$forceUpdate","Math","min","state","files","queuedFiles","uploadedFiles","isAlive","isDeactivated","isUnmounted","Object","assign","helpers","uploadSize","editable","isBusy","dnd","rootRef","inputRef","renderInput","getFileInput","addFilesToQueue","pickFiles","addFiles","onDragover","processFiles","getDndNode","maxFilesNumber","maxTotalSizeNumber","canAddFiles","value","isUploading","multiple","length","maxFiles","maxTotalSize","canUpload","uploadProgress","uploadProgressLabel","uploadSizeLabel","classes","colorClass","newVal","oldVal","reset","abort","revokeImgURLs","removeUploadedFiles","batchRemoveFiles","removeQueuedFiles","statusList","cb","removed","localFiles","filter","f","indexOf","push","__img","window","URL","revokeObjectURL","src","removeFile","__key","__abort","forEach","getElementsByClassName","e","fileList","fileInput","type","toUpperCase","startsWith","img","Image","createObjectURL","concat","upload","getBtn","show","icon","fn","data","key","iconSet","uploader","dense","child","onClick","class","tabindex","title","accept","capture","onMousedown","onChange","getHeader","header","slotScope","getList","list","map","style","backgroundImage","name","negative","max","indeterminate","round","publicMethods","acc","children"],"mappings":"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","sourcesContent":["import { h, ref, isRef, computed, watch, provide, onBeforeUnmount, getCurrentInstance } from 'vue'\n\nimport QBtn from '../btn/QBtn.js'\nimport QIcon from '../icon/QIcon.js'\nimport QSpinner from '../spinner/QSpinner.js'\nimport QCircularProgress from '../circular-progress/QCircularProgress.js'\n\nimport useDark, { useDarkProps } from '../../composables/private/use-dark.js'\nimport useFile, { useFileProps, useFileEmits } from '../../composables/private/use-file.js'\n\nimport { stop } from '../../utils/event.js'\nimport { humanStorageSize } from '../../utils/format.js'\nimport { uploaderKey } from '../../utils/private/symbols.js'\n\nfunction getProgressLabel (p) {\n  return (p * 100).toFixed(2) + '%'\n}\n\nexport const coreProps = {\n  ...useDarkProps,\n  ...useFileProps,\n\n  label: String,\n\n  color: String,\n  textColor: String,\n\n  square: Boolean,\n  flat: Boolean,\n  bordered: Boolean,\n\n  noThumbnails: Boolean,\n  autoUpload: Boolean,\n  hideUploadBtn: Boolean,\n\n  disable: Boolean,\n  readonly: Boolean\n}\n\nexport const coreEmits = [\n  ...useFileEmits,\n  'start', 'finish', 'added', 'removed'\n]\n\nexport function getRenderer (getPlugin) {\n  const vm = getCurrentInstance()\n  const { props, slots, emit, proxy } = vm\n  const { $q } = proxy\n\n  const isDark = useDark(props, $q)\n\n  function updateFileStatus (file, status, uploadedSize) {\n    file.__status = status\n\n    if (status === 'idle') {\n      file.__uploaded = 0\n      file.__progress = 0\n      file.__sizeLabel = humanStorageSize(file.size)\n      file.__progressLabel = '0.00%'\n      return\n    }\n    if (status === 'failed') {\n      proxy.$forceUpdate()\n      return\n    }\n\n    file.__uploaded = status === 'uploaded'\n      ? file.size\n      : uploadedSize\n\n    file.__progress = status === 'uploaded'\n      ? 1\n      : Math.min(0.9999, file.__uploaded / file.size)\n\n    file.__progressLabel = getProgressLabel(file.__progress)\n    proxy.$forceUpdate()\n  }\n\n  const state = {\n    files: ref([]),\n    queuedFiles: ref([]),\n    uploadedFiles: ref([]),\n    uploadedSize: ref(0),\n\n    updateFileStatus,\n    isAlive () {\n      return vm.isDeactivated !== true && vm.isUnmounted !== true\n    }\n  }\n\n  Object.assign(state, getPlugin({ props, slots, emit, helpers: state }))\n\n  const uploadSize = ref(0)\n  const editable = computed(() => props.disable !== true && props.readonly !== true)\n\n  if (state.isBusy === void 0) {\n    state.isBusy = ref(false)\n  }\n\n  const dnd = ref(false)\n\n  const rootRef = ref(null)\n  const inputRef = ref(null)\n\n  provide(uploaderKey, renderInput)\n\n  const {\n    pickFiles,\n    addFiles,\n    onDragover,\n    processFiles,\n    getDndNode,\n    maxFilesNumber,\n    maxTotalSizeNumber\n  } = useFile({ editable, dnd, getFileInput, addFilesToQueue })\n\n  const canAddFiles = computed(() =>\n    editable.value === true\n    && state.isUploading.value !== true\n    // if single selection and no files are queued:\n    && (props.multiple === true || state.queuedFiles.value.length === 0)\n    // if max-files is set and current number of files does not exceeds it:\n    && (props.maxFiles === void 0 || state.files.value.length < maxFilesNumber.value)\n    // if max-total-size is set and current upload size does not exceeds it:\n    && (props.maxTotalSize === void 0 || uploadSize.value < maxTotalSizeNumber.value)\n  )\n\n  const canUpload = computed(() =>\n    editable.value === true\n    && state.isBusy.value !== true\n    && state.isUploading.value !== true\n    && state.queuedFiles.value.length > 0\n  )\n\n  const uploadProgress = computed(() => (\n    uploadSize.value === 0\n      ? 0\n      : state.uploadedSize.value / uploadSize.value\n  ))\n\n  const uploadProgressLabel = computed(() => getProgressLabel(uploadProgress.value))\n  const uploadSizeLabel = computed(() => humanStorageSize(uploadSize.value))\n\n  const classes = computed(() =>\n    'q-uploader column no-wrap'\n    + (isDark.value === true ? ' q-uploader--dark q-dark' : '')\n    + (props.bordered === true ? ' q-uploader--bordered' : '')\n    + (props.square === true ? ' q-uploader--square no-border-radius' : '')\n    + (props.flat === true ? ' q-uploader--flat no-shadow' : '')\n    + (props.disable === true ? ' disabled q-uploader--disable' : '')\n  )\n\n  const colorClass = computed(() =>\n    'q-uploader__header'\n    + (props.color !== void 0 ? ` bg-${ props.color }` : '')\n    + (props.textColor !== void 0 ? ` text-${ props.textColor }` : '')\n  )\n\n  watch(state.isUploading, (newVal, oldVal) => {\n    if (oldVal === false && newVal === true) {\n      emit('start')\n    }\n    else if (oldVal === true && newVal === false) {\n      emit('finish')\n    }\n  })\n\n  function reset () {\n    if (props.disable === false) {\n      state.abort()\n      state.uploadedSize.value = 0\n      uploadSize.value = 0\n      revokeImgURLs()\n      state.files.value = []\n      state.queuedFiles.value = []\n      state.uploadedFiles.value = []\n    }\n  }\n\n  function removeUploadedFiles () {\n    if (props.disable === false) {\n      batchRemoveFiles([ 'uploaded' ], () => {\n        state.uploadedFiles.value = []\n      })\n    }\n  }\n\n  function removeQueuedFiles () {\n    batchRemoveFiles([ 'idle', 'failed' ], ({ size }) => {\n      uploadSize.value -= size\n      state.queuedFiles.value = []\n    })\n  }\n\n  function batchRemoveFiles (statusList, cb) {\n    if (props.disable === true) {\n      return\n    }\n\n    const removed = {\n      files: [],\n      size: 0\n    }\n\n    const localFiles = state.files.value.filter(f => {\n      if (statusList.indexOf(f.__status) === -1) {\n        return true\n      }\n\n      removed.size += f.size\n      removed.files.push(f)\n\n      f.__img !== void 0 && window.URL.revokeObjectURL(f.__img.src)\n\n      return false\n    })\n\n    if (removed.files.length > 0) {\n      state.files.value = localFiles\n      cb(removed)\n      emit('removed', removed.files)\n    }\n  }\n\n  function removeFile (file) {\n    if (props.disable) { return }\n\n    if (file.__status === 'uploaded') {\n      state.uploadedFiles.value = state.uploadedFiles.value.filter(f => f.__key !== file.__key)\n    }\n    else if (file.__status === 'uploading') {\n      file.__abort()\n    }\n    else {\n      uploadSize.value -= file.size\n    }\n\n    state.files.value = state.files.value.filter(f => {\n      if (f.__key !== file.__key) {\n        return true\n      }\n\n      f.__img !== void 0 && window.URL.revokeObjectURL(f.__img.src)\n\n      return false\n    })\n\n    state.queuedFiles.value = state.queuedFiles.value.filter(f => f.__key !== file.__key)\n    emit('removed', [ file ])\n  }\n\n  function revokeImgURLs () {\n    state.files.value.forEach(f => {\n      f.__img !== void 0 && window.URL.revokeObjectURL(f.__img.src)\n    })\n  }\n\n  function getFileInput () {\n    return inputRef.value\n      || rootRef.value.getElementsByClassName('q-uploader__input')[ 0 ]\n  }\n\n  function addFilesToQueue (e, fileList) {\n    const localFiles = processFiles(e, fileList, state.files.value, true)\n\n    if (localFiles === void 0) { return }\n\n    const fileInput = getFileInput()\n    if (fileInput !== void 0 && fileInput !== null) {\n      fileInput.value = ''\n    }\n\n    localFiles.forEach(file => {\n      state.updateFileStatus(file, 'idle')\n      uploadSize.value += file.size\n\n      if (props.noThumbnails !== true && file.type.toUpperCase().startsWith('IMAGE')) {\n        const img = new Image()\n        img.src = window.URL.createObjectURL(file)\n        file.__img = img\n      }\n    })\n\n    state.files.value = state.files.value.concat(localFiles)\n    state.queuedFiles.value = state.queuedFiles.value.concat(localFiles)\n    emit('added', localFiles)\n    props.autoUpload === true && state.upload()\n  }\n\n  function upload () {\n    canUpload.value === true && state.upload()\n  }\n\n  function getBtn (show, icon, fn) {\n    if (show === true) {\n      const data = {\n        type: 'a',\n        key: icon,\n        icon: $q.iconSet.uploader[ icon ],\n        flat: true,\n        dense: true\n      }\n\n      let child = void 0\n\n      if (icon === 'add') {\n        data.onClick = pickFiles\n        child = renderInput\n      }\n      else {\n        data.onClick = fn\n      }\n\n      return h(QBtn, data, child)\n    }\n  }\n\n  function renderInput () {\n    return h('input', {\n      ref: inputRef,\n      class: 'q-uploader__input overflow-hidden absolute-full',\n      tabindex: -1,\n      type: 'file',\n      title: '', // try to remove default tooltip\n      accept: props.accept,\n      multiple: props.multiple === true ? 'multiple' : void 0,\n      capture: props.capture,\n      onMousedown: stop, // need to stop refocus from QBtn\n      onClick: pickFiles,\n      onChange: addFilesToQueue\n    })\n  }\n\n  function getHeader () {\n    if (slots.header !== void 0) {\n      return slots.header(slotScope.value)\n    }\n\n    return [\n      h('div', {\n        class: 'q-uploader__header-content flex flex-center no-wrap q-gutter-xs'\n      }, [\n        getBtn(state.queuedFiles.value.length > 0, 'removeQueue', removeQueuedFiles),\n        getBtn(state.uploadedFiles.value.length > 0, 'removeUploaded', removeUploadedFiles),\n\n        state.isUploading.value === true\n          ? h(QSpinner, { class: 'q-uploader__spinner' })\n          : null,\n\n        h('div', { class: 'col column justify-center' }, [\n          props.label !== void 0\n            ? h('div', { class: 'q-uploader__title' }, [ props.label ])\n            : null,\n\n          h('div', { class: 'q-uploader__subtitle' }, [\n            uploadSizeLabel.value + ' / ' + uploadProgressLabel.value\n          ])\n        ]),\n\n        getBtn(canAddFiles.value, 'add'),\n        getBtn(props.hideUploadBtn === false && canUpload.value === true, 'upload', state.upload),\n        getBtn(state.isUploading.value, 'clear', state.abort)\n      ])\n    ]\n  }\n\n  function getList () {\n    if (slots.list !== void 0) {\n      return slots.list(slotScope.value)\n    }\n\n    return state.files.value.map(file => h('div', {\n      key: file.__key,\n      class: 'q-uploader__file relative-position'\n        + (props.noThumbnails !== true && file.__img !== void 0 ? ' q-uploader__file--img' : '')\n        + (\n          file.__status === 'failed'\n            ? ' q-uploader__file--failed'\n            : (file.__status === 'uploaded' ? ' q-uploader__file--uploaded' : '')\n        ),\n      style: props.noThumbnails !== true && file.__img !== void 0\n        ? { backgroundImage: 'url(\"' + file.__img.src + '\")' }\n        : null\n    }, [\n      h('div', {\n        class: 'q-uploader__file-header row flex-center no-wrap'\n      }, [\n        file.__status === 'failed'\n          ? h(QIcon, {\n              class: 'q-uploader__file-status',\n              name: $q.iconSet.type.negative,\n              color: 'negative'\n            })\n          : null,\n\n        h('div', { class: 'q-uploader__file-header-content col' }, [\n          h('div', { class: 'q-uploader__title' }, [ file.name ]),\n          h('div', {\n            class: 'q-uploader__subtitle row items-center no-wrap'\n          }, [\n            file.__sizeLabel + ' / ' + file.__progressLabel\n          ])\n        ]),\n\n        file.__status === 'uploading'\n          ? h(QCircularProgress, {\n              value: file.__progress,\n              min: 0,\n              max: 1,\n              indeterminate: file.__progress === 0\n            })\n          : h(QBtn, {\n            round: true,\n            dense: true,\n            flat: true,\n            icon: $q.iconSet.uploader[ file.__status === 'uploaded' ? 'done' : 'clear' ],\n            onClick: () => { removeFile(file) }\n          })\n      ])\n    ]))\n  }\n\n  onBeforeUnmount(() => {\n    state.isUploading.value === true && state.abort()\n    state.files.value.length > 0 && revokeImgURLs()\n  })\n\n  const publicMethods = {\n    pickFiles,\n    addFiles,\n    reset,\n    removeUploadedFiles,\n    removeQueuedFiles,\n    removeFile,\n    upload,\n    abort: state.abort\n  }\n\n  const slotScope = computed(() => {\n    const acc = {\n      canAddFiles: canAddFiles.value,\n      canUpload: canUpload.value,\n      uploadSizeLabel: uploadSizeLabel.value,\n      uploadProgressLabel: uploadProgressLabel.value\n    }\n\n    for (const key in state) {\n      acc[ key ] = isRef(state[ key ]) === true\n        ? state[ key ].value\n        : state[ key ]\n    }\n\n    // TODO: (Qv3) Put the QUploader instance under `ref`\n    // property for consistency and flexibility\n    // return { ref: { ...acc, ...publicMethods } }\n    return { ...acc, ...publicMethods }\n  })\n\n  // expose public methods\n  Object.assign(proxy, publicMethods)\n\n  return () => {\n    const children = [\n      h('div', { class: colorClass.value }, getHeader()),\n      h('div', { class: 'q-uploader__list scroll' }, getList()),\n      getDndNode('uploader')\n    ]\n\n    state.isBusy.value === true && children.push(\n      h('div', {\n        class: 'q-uploader__overlay absolute-full flex flex-center'\n      }, [ h(QSpinner) ])\n    )\n\n    const data = { ref: rootRef, class: classes.value }\n\n    if (canAddFiles.value === true) {\n      data.onDragover = onDragover\n    }\n\n    return h('div', data, children)\n  }\n}\n"]}]}